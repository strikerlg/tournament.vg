!function(){"use strict";angular.module("vg.app",["ngAnimate","ui.router","firebase","validation.match","ordinal","ngFileUpload","ngImgur"])}(),function(){"use strict";function e(e,t){t.otherwise("/"),e.state("home",{url:"/",templateUrl:"app/home/home.htm",controller:"HomeController as home"}).state("registerOrLogin",{url:"/registerOrLogin",templateUrl:"/app/home/reg.htm",controller:"RegController as reg"}).state("profile",{url:"/profile/:username",templateUrl:"/app/home/profile.htm",controller:"ProfileController as profile"}).state("leaderboard",{url:"/leaderboard",templateUrl:"/app/home/leaderboard.htm",controller:"LeaderboardController as leaderboard"}).state("event",{url:"/event/:eventName/main",templateUrl:"/app/event/main.htm",controller:"EventMainController as event"}).state("customizeAvatar",{url:"/customizeAvatar",templateUrl:"/app/home/avatar.htm",controller:"AvatarController as avatar",resolve:{currentAuth:["AuthWrapper",function(e){return e.$requireAuth()}]}}).state("changePassword",{url:"/changePassword",templateUrl:"/app/home/changePassword.htm",controller:"ChangePasswordController as pwchange",resolve:{currentAuth:["AuthWrapper",function(e){return e.$requireAuth()}]}})}angular.module("vg.app").constant("FIREBASEDATA",{FBURL:"https://wolfscontests.firebaseio.com"}).config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e,t,n,r,o,a){e.$on("$stateChangeError",function(e,t,r,o,a,i){"AUTH_REQUIRED"===i&&n.go("registerOrLogin")}),e.$on("$stateChangeSuccess",function(){if(o.$getAuth()){var t=o.$getAuth(),n=new Firebase(a.FBURL),i=r(n.child("users").child(t.uid));i.$bindTo(e,"profile").then(function(t){e.unbindFunction=t})}})}angular.module("vg.app").run(e),e.$inject=["$rootScope","$location","$state","$firebaseObject","AuthWrapper","FIREBASEDATA"]}(),function(){"use strict";function e(e,t,n,r,o,a){function i(t){var n=e.defer(),r=!1,o=new Firebase(a.FBURL+"/users");return o.once("value",function(e){e.forEach(function(e){e.val().userName===t&&(r=!0)}),n.resolve(r)}),n.promise}function s(t,n,r){var i=e.defer();return o.$createUser({email:t,password:n}).then(function(e){new Firebase(a.FBURL).child("users/"+e.uid).set({userName:r,role:"User"},function(e){return console.error(e),e.code}),new Firebase(a.FBURL).child("avatars").child(r).set("http://api.adorable.io/avatars/42/"+r),o.$authWithPassword({email:t,password:n}).then(function(){i.resolve("ACCOUNT_CREATED")})})["catch"](function(e){console.error(e),"EMAIL_TAKEN"===e.code&&i.resolve(e.code)}),i.promise}function l(t,n){var r=e.defer();return o.$authWithPassword({email:t,password:n}).then(function(e){r.resolve("LOGIN_SUCCESS")})["catch"](function(e){"INVALID_USER"===e.code?r.resolve("INVALID_USER"):"INVALID_PASSWORD"===e.code&&r.resolve("INVALID_PASSWORD")}),r.promise}function c(){o.$unauth(),t.unbindFunction()}this.checkIfUserExists=i,this.createNewUser=s,this.loginToAccount=l,this.logOut=c}angular.module("vg.app").service("authService",e),e.$inject=["$q","$rootScope","$state","$firebaseObject","AuthWrapper","FIREBASEDATA"]}(),function(){"use strict";function e(e,t){var n=new Firebase(t.FBURL);return e(n)}angular.module("vg.app").factory("AuthWrapper",e),e.$inject=["$firebaseAuth","FIREBASEDATA"]}(),function(){"use strict";function e(){function e(e,t,n){}var n={bindToController:!0,controller:t,controllerAs:"vm",link:e,restrict:"E",templateUrl:"./app/eventComponents/gamesList.directive.htm",scope:{data:"=",openGameFunction:"="}};return n}function t(){}angular.module("vg.app").directive("vgGamesList",e)}(),function(){"use strict";function e(){function e(e,t,n){}var n={bindToController:!0,controller:t,controllerAs:"vm",link:e,restrict:"E",templateUrl:"./app/eventComponents/multiGameLeaderboard.directive.htm",scope:{data:"=",avatarData:"=",completeLength:"=",openPlayerFunction:"=",openLeaderboardFunction:"="}};return n}function t(){}angular.module("vg.app").directive("vgMultiGameLeaderboard",e)}(),function(){"use strict";function e(){function e(e,t,n){}var n={bindToController:!0,controller:t,controllerAs:"vm",link:e,restrict:"E",templateUrl:"./app/eventComponents/singleGameLeaderboard.directive.htm",scope:{data:"=",avatarData:"=",completeLength:"=",openLeaderboardFunction:"="}};return n}function t(){}angular.module("vg.app").directive("vgSingleGameLeaderboard",e)}(),function(){"use strict";function e(){function e(e,t,n){}var n={bindToController:!0,controller:t,controllerAs:"vm",link:e,restrict:"E",templateUrl:"./app/eventComponents/stickyMessage.directive.htm",scope:{properties:"="}};return n}function t(e){}angular.module("vg.app").directive("vgStickyMessage",e),t.$inject=["$timeout"]}(),function(){"use strict";function e(e,t,n,r,o){function a(e){c(e).then(function(t){var r=new Firebase(o.FBURL),a=n(r.child("standings").child(e));a.$loaded().then(function(){t.forEach(function(e){a[e.key]=e.position}),a.$save()})})}function i(t){var r=e.defer(),a=new Firebase(o.FBURL),i=n(a.child("contests").child(t).child("properties"));return r.resolve(i),r.promise}function s(t,n){{var r=e.defer();new Firebase(o.FBURL)}return l(t).then(function(e){e.forEach(function(e){e.camelName===n&&r.resolve(e)})}),r.promise}function l(t){var n=e.defer(),a=new Firebase(o.FBURL),i=r(a.child("contests").child(t).child("activeGames"));return i.$loaded().then(function(){n.resolve(i)}),n.promise}function c(n){var r=e.defer(),o={};return l(n).then(function(e){var n=e;n.forEach(function(e){if(e.scores){var n=$.map(e.scores,function(e){return e});n=t("orderBy")(n,"-score");for(var r=12,a=0;a<n.length;a++)o[n[a].userName]||(o[n[a].userName]={points:0}),o[n[a].userName].points+=r,r>0&&(r-=1)}}),o=t("orderObjectBy")(o,"points",!0);for(var a=!1,i=0,s=0;s<o.length;s++)if(o[s-1]&&o[s].points&&o[s-1].points)o[s].position=o[s].points===o[s-1].points?o[s-1].position:s+1;else if(0===s)o[s].position=1;else{if(!a){var l=o[s-1].points;o.forEach(function(e){e.points===l&&(i+=1)}),a=!0}o[s].position=o.length+1-i}r.resolve(o)}),r.promise}function u(t){var n=e.defer(),a=new Firebase(o.FBURL),i=r(a.child("contests").child(t).child("scores"));return n.resolve(i),n.promise}function d(n,r,o){var a=e.defer(),i=[];return r.forEach(function(e){if(e.scores){var n=$.map(e.scores,function(e){return e});n=t("orderBy")(n,"-score");for(var r=12,a=0;a<n.length;a++){if(n[a].userName===o){var s=e;s.position=a+1,s.score=n[a].score,s.pointsEarned=r,s.inpUrl=n[a].inpUrl?n[a].inpUrl:null,s.twitchUrl=n[a].twitchUrl?n[a].twitchUrl:null,s.mameVersion=n[a].mameVersion?n[a].mameVersion:null,i.push(s),r=12;break}r>0&&(r-=1)}}}),a.resolve(i),a.promise}this.createMultiGameFinalStandings=a,this.getEventProperties=i,this.getGameData=s,this.getGamesList=l,this.getMultiGameLeaderboard=c,this.getSingleGameLeaderboard=u,this.getPlayerScores=d}angular.module("vg.app").service("eventService",e),e.$inject=["$q","$filter","$firebaseObject","$firebaseArray","FIREBASEDATA"]}(),function(){"use strict";function e(e,t,n,r,o,a,i,s){function l(){var e=new Firebase(s.FBURL);c.eventProperties=a.getEventProperties(c.eventName),a.getGameData(c.eventName,c.gameName).then(function(t){c.gameData=t,c.gameScores=o(e.child("contests").child(c.eventName).child("activeGames").child(c.gameData.$id).child("scores"))})}r(function(){angular.element("#contentView").css("opacity","1").css("position","inherit")},410);var c=this;c.eventName=n.eventName,c.gameName=n.gameName,c.initGamePage=l}angular.module("vg.app").controller("EventGameController",e),e.$inject=["$scope","$filter","$stateParams","$timeout","$firebaseArray","eventService","authService","FIREBASEDATA"]}(),function(){"use strict";function e(e,t,n,r,o,a,i,s,l,c,u){function d(){angular.element("#gameModal").closeModal()}function m(){angular.element("#multiGameLeaderboardModal").closeModal()}function f(){angular.element("#playerModal").closeModal()}function p(){c.createTeam(D.eventName,D.newTeam).then(function(){Materialize.toast("Team "+D.newTeam.shortName+" created.",4e3),D.newTeam=null})}function h(e,n){var r;if(n>11)return r=0;r=12-n;var o=t("orderBy")(D.gameScores,"-score");return o[n-1]&&o[n-1].score===e.score&&(r+=1),r}function v(){D.gameList.forEach(function(e){if(e.scores){var n=$.map(e.scores,function(e){return e});n=t("orderBy")(n,"-score"),e.firstScore=n[0]}})}function g(e){angular.element("#playerModal").closeModal(),r.go("profile",{username:e})}function b(){i.getEventProperties(D.eventName).then(function(e){D.eventProperties=e,D.eventProperties.$loaded().then(function(){D.eventProperties.format.multiGame?(i.getGamesList(D.eventName).then(function(e){D.gameList=e,v()}),i.getMultiGameLeaderboard(D.eventName).then(function(e){var t=e;D.leaderboardLength=t.length,D.summarizedLeaderboard=t.slice(0,8)})):i.getSingleGameLeaderboard(D.eventName).then(function(e){var t=e;D.leaderboardLength=t.length,D.summarizedLeaderboard=t}),D.eventProperties.format.teamBased&&c.getTeamList(D.eventName).then(function(e){D.teamList=e})})}),l.getAvatarData().then(function(e){D.avatarData=e})}function w(){angular.element("#badgesModal").openModal(),angular.element("#badgesModalContent").scrollTop(0)}function A(e){var t=new Firebase(u.FBURL);i.getGameData(D.eventName,e).then(function(e){D.gameData=e,D.gameScores=a(t.child("contests").child(D.eventName).child("activeGames").child(D.gameData.$id).child("scores"))}),angular.element("#gameModal").openModal(),angular.element("#gameModalContent").scrollTop(0)}function E(){angular.element("#managementModal").openModal(),angular.element("#managementModalContent").scrollTop(0)}function L(){i.getMultiGameLeaderboard(D.eventName).then(function(e){D.completeLeaderboard=e}),angular.element("#multiGameLeaderboardModal").openModal(),angular.element("#multiGameLeaderboardModalContent").scrollTop(0)}function S(e){D.focusPlayer=e,i.getPlayerScores(D.eventName,D.gameList,D.focusPlayer).then(function(e){D.playerScores=e}),angular.element("#playerModal").openModal(),angular.element("#playerModalContent").scrollTop(0)}function F(e){f(),o(function(){A(e)},450)}function U(e){d(),o(function(){S(e)},450)}function M(e){m(),o(function(){S(e)},450)}function P(){angular.element("#rulesModal").openModal()}o(function(){$(".collapsible").collapsible({accordion:!0}),$("ul.tabs").tabs()},1e3),o(function(){$(".collapsible").collapsible({accordion:!0}),$("ul.tabs").tabs()},3e3);var D=this;D.eventName=n.eventName,D.closeGameModal=d,D.closeMultiGameLeaderboardModal=m,D.closePlayerModal=f,D.createTeam=p,D.determinePoints=h,D.getFirstPlaceScores=v,D.goToPlayerProfile=g,D.initEvent=b,D.openBadgesModal=w,D.openGameModal=A,D.openGameModalFromPlayerModal=F,D.openManagementModal=E,D.openMultiGameLeaderboardModal=L,D.openPlayerModal=S,D.openPlayerModalFromGameModal=U,D.openPlayerModalFromLeaderboardModal=M,D.openRulesModal=P}angular.module("vg.app").controller("EventMainController",e),e.$inject=["$scope","$filter","$stateParams","$state","$timeout","$firebaseArray","eventService","authService","profileService","teamService","FIREBASEDATA"]}(),function(){"use strict";function e(e,t,n,r){function o(t,o){var a=e.defer(),i=new Firebase(r.FBURL),s=n(i.child("contests").child(t).child("teamPool"));return s.$loaded().then(function(){s[o.shortName]={fullName:o.formalName},s.$save(),a.resolve()}),a.promise}function a(n){var o=e.defer(),a=new Firebase(r.FBURL),i=t(a.child("contests").child(n).child("teamPool"));return i.$loaded().then(function(){o.resolve(i)}),o.promise}this.createTeam=o,this.getTeamList=a}angular.module("vg.app").service("teamService",e),e.$inject=["$q","$firebaseArray","$firebaseObject","FIREBASEDATA"]}(),function(){"use strict";function e(e,t,n,r,o){function a(){o.logOut(),n.location.reload()}e(function(){angular.element(".dropdown-button").dropdown({inDuration:300,outDuration:225,constrain_width:!1,hover:!1,gutter:-114,belowOrigin:!0})},400);var i=this;i.logOut=a}angular.module("vg.app").controller("HeaderController",e),e.$inject=["$timeout","$rootScope","$window","$state","authService"]}(),function(){"use strict";function e(){return function(e,t,n){var r=[];return angular.forEach(e,function(e,t){e.key=t,r.push(e)}),r.sort(function(e,n){return e[t]>n[t]?1:-1}),n&&r.reverse(),r}}angular.module("vg.app").filter("orderObjectBy",e)}(),function(){"use strict";function e(e,t,n,r,o,a,i){function s(){i.getAvatarData().then(function(e){c.avatarData=e}),r(function(){i.getBadgesData(e.profile.userName).then(function(e){c.badgesData=e})},500)}function l(){c.disableButton=!0,a.setAPIKey("Client-ID f53d6d5833b07bc"),a.upload(c.file).then(function(n){i.saveAvatarLink(n[0].link,e.profile.userName),Materialize.toast("Your avatar was uploaded",4e3),r(function(){t.go("home")},1e3)})}var c=this;c.initAvatar=s,c.uploadAvatar=l}angular.module("vg.app").controller("AvatarController",e),e.$inject=["$rootScope","$state","$stateParams","$timeout","Upload","imgur","profileService"]}(),function(){"use strict";function e(e,t,n,r){function o(){e.pwChangeForm.$valid&&r.$changePassword({email:r.$getAuth().password.email,oldPassword:a.inputCurrentPassword,newPassword:a.inputNewPassword}).then(function(){Materialize.toast("Your password was changed.",4e3),t(function(){n.go("home")},1e3)})["catch"](function(e){"INVALID_PASSWORD"===e.code&&(a.showChangePasswordMessage=!0)})}var a=this;t(function(){angular.element("#contentView").css("opacity","1").css("position","inherit")},310),a.submitChangePassword=o}angular.module("vg.app").controller("ChangePasswordController",e),e.$inject=["$scope","$timeout","$state","AuthWrapper"]}(),function(){"use strict";function e(e,t){t(function(){angular.element("#contentView").css("opacity","1").css("position","inherit")},310)}angular.module("vg.app").controller("HomeController",e),e.$inject=["$scope","$timeout"]}(),function(){"use strict";function e(e,t,n,r,o){function a(){var t=e.defer(),r=new Firebase(o.FBURL),a=n(r.child("badges"));return a.$loaded(function(){t.resolve(a)}),t.promise}var i=this;t(function(){angular.element("#contentView").css("opacity","1").css("position","inherit")},310),a().then(function(e){i.profileScoreData=e}),r.getAvatarData().then(function(e){i.avatarData=e})}angular.module("vg.app").controller("LeaderboardController",e),e.$inject=["$q","$timeout","$firebaseArray","profileService","FIREBASEDATA"]}(),function(){"use strict";function e(e,t,n,r,o,a,i,s,l){function c(){s.getUserData(t.username).then(function(e){u.profileData=e,s.getTournamentHistory(u.profileData).then(function(e){var n=e;u.eventStandings=s.getTournamentStandings(n,t.username)})}),s.getAvatarData().then(function(e){u.avatarData=e}),s.getBadgesData(t.username).then(function(e){u.badgesData=e})}r(function(){angular.element("#contentView").css("opacity","1").css("position","inherit"),$(".collapsible").collapsible({accordion:!0})},410);var u=this;u.initProfile=c}angular.module("vg.app").controller("ProfileController",e),e.$inject=["$scope","$stateParams","$q","$timeout","$state","$firebaseArray","authService","profileService","eventService"]}(),function(){"use strict";function e(e,t,n,r,o,a){function i(){var e=t.defer(),n=new Firebase(a.FBURL),o=r(n.child("avatars"));return o.$loaded(function(){e.resolve(o)}),e.promise}function s(e){var n=t.defer(),o=new Firebase(a.FBURL),i=r(o.child("badges").child(e));return i.$loaded(function(){n.resolve(i)}),n.promise}function l(e){var n=t.defer(),r=(new Firebase(a.FBURL),[]);for(var o in e.pledgedTo)r.push(o);return n.resolve(r),n.promise}function c(e,t){var n=new Firebase(a.FBURL),i=[];return e.forEach(function(e){o.getEventProperties(e).then(function(o){o.$loaded().then(function(){if("concluded"===o.state){var a=r(n.child("standings").child(e));a.$loaded().then(function(){i.push(a[t]?{name:o.name,premier:o.premier?!0:null,shortName:e,state:"concluded",color:o.color,position:a[t]}:{name:o.name,premier:o.premier?!0:null,shortName:e,state:"concluded",color:o.color,position:-1})})}else("inprogress"===o.state||"upcoming"===o.state)&&i.push({name:o.name,premier:o.premier?!0:null,shortName:e,color:o.color,state:o.state})})})}),i}function u(e){var r=t.defer(),o=new Firebase(a.FBURL),i=n(o.child("users"));return i.$loaded(function(){i.forEach(function(t){t.userName===e&&r.resolve(t)})}),r.promise}function d(e,t){var n=new Firebase(a.FBURL),o=r(n.child("avatars"));o.$loaded(function(){o[t]=e,o.$save()})}this.getAvatarData=i,this.getBadgesData=s,this.getTournamentHistory=l,this.getTournamentStandings=c,this.getUserData=u,this.saveAvatarLink=d}angular.module("vg.app").service("profileService",e),e.$inject=["$rootScope","$q","$firebaseArray","$firebaseObject","eventService","FIREBASEDATA"]}(),function(){"use strict";function e(e,t,n,r,o,a,i,s){function l(){i.loginToAccount(d.loginEmail,d.loginPassword).then(function(e){if(d.showInvalidUserError=!1,d.showInvalidPasswordError=!1,"LOGIN_SUCCESS"===e)o.go("home");else{if("INVALID_USER"===e)return void(d.showInvalidUserError=!0);"INVALID_PASSWORD"===e&&(d.showInvalidPasswordError=!0)}})}function c(){return d.loginEmail?void s.$resetPassword({email:d.loginEmail}).then(function(){d.showPasswordResetEmailMessage=!1,Materialize.toast("A password reset email has been sent to "+d.loginEmail+".",4e3)}):void(d.showPasswordResetEmailMessage=!0)}function u(){i.checkIfUserExists(d.newUsername).then(function(e){return d.showDuplicateUserError=!1,d.showEmailTakenError=!1,e?void(d.showDuplicateUserError=!0):void i.createNewUser(d.newEmail,d.newPassword,d.newUsername).then(function(e){return"EMAIL_TAKEN"===e?void(d.showEmailTakenError=!0):void("ACCOUNT_CREATED"===e&&o.go("profile",{username:d.newUsername}))})})}n(function(){angular.element("#contentView").css("opacity","1").css("position","inherit")},410);var d=this;d.loginToAccount=l,d.passwordReset=c,d.submitNewAccount=u}angular.module("vg.app").controller("RegController",e),e.$inject=["$scope","$rootScope","$timeout","$window","$state","$firebaseObject","authService","AuthWrapper"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJhcHAuY29uZmlnLmpzIiwiYXBwLm1pbi5qcyIsImFwcC5ydW4uanMiLCJhdXRoL2F1dGguc2VydmljZS5qcyIsImF1dGgvYXV0aHdyYXBwZXIuZmFjdG9yeS5qcyIsImV2ZW50Q29tcG9uZW50cy9nYW1lc0xpc3QuZGlyZWN0aXZlLmpzIiwiZXZlbnRDb21wb25lbnRzL211bHRpR2FtZUxlYWRlcmJvYXJkLmRpcmVjdGl2ZS5qcyIsImV2ZW50Q29tcG9uZW50cy9zaW5nbGVHYW1lTGVhZGVyYm9hcmQuZGlyZWN0aXZlLmpzIiwiZXZlbnRDb21wb25lbnRzL3N0aWNreU1lc3NhZ2UuZGlyZWN0aXZlLmpzIiwiZXZlbnQvZXZlbnQuc2VydmljZS5qcyIsImV2ZW50L2dhbWUuY29udHJvbGxlci5qcyIsImV2ZW50L21haW4uY29udHJvbGxlci5qcyIsImV2ZW50L3RlYW0uc2VydmljZS5qcyIsImhlYWRlci9oZWFkZXIuY29udHJvbGxlci5qcyIsImhlbHBlcnMvb3JkZXJPYmplY3RCeS5maWx0ZXIuanMiLCJob21lL2F2YXRhci5jb250cm9sbGVyLmpzIiwiaG9tZS9jaGFuZ2VQYXNzd29yZC5jb250cm9sbGVyLmpzIiwiaG9tZS9ob21lLmNvbnRyb2xsZXIuanMiLCJob21lL2xlYWRlcmJvYXJkLmNvbnRyb2xsZXIuanMiLCJob21lL3Byb2ZpbGUuY29udHJvbGxlci5qcyIsImhvbWUvcHJvZmlsZS5zZXJ2aWNlLmpzIiwiaG9tZS9yZWcuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInJlc29sdmUiLCJjdXJyZW50QXV0aCIsIkF1dGhXcmFwcGVyIiwiJHJlcXVpcmVBdXRoIiwiY29uc3RhbnQiLCJGQlVSTCIsIiRpbmplY3QiLCJydW4iLCIkcm9vdFNjb3BlIiwiJGxvY2F0aW9uIiwiJHN0YXRlIiwiJGZpcmViYXNlT2JqZWN0IiwiRklSRUJBU0VEQVRBIiwiJG9uIiwiZXZlbnQiLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tU3RhdGUiLCJmcm9tUGFyYW1zIiwiZXJyb3IiLCJnbyIsIiRnZXRBdXRoIiwiYXV0aERhdGEiLCJyZWYiLCJGaXJlYmFzZSIsInByb2ZpbGVEYXRhIiwiY2hpbGQiLCJ1aWQiLCIkYmluZFRvIiwidGhlbiIsInVuYmluZCIsInVuYmluZEZ1bmN0aW9uIiwiYXV0aFNlcnZpY2UiLCIkcSIsImNoZWNrSWZVc2VyRXhpc3RzIiwiaW5wdXRVc2VybmFtZSIsImRlZmVycmVkIiwiZGVmZXIiLCJkb2VzVXNlckV4aXN0IiwidXNlcnNSZWYiLCJvbmNlIiwiZGF0YVNuYXBzaG90IiwiZm9yRWFjaCIsInVzZXIiLCJ2YWwiLCJ1c2VyTmFtZSIsInByb21pc2UiLCJjcmVhdGVOZXdVc2VyIiwiaW5wdXRFbWFpbCIsImlucHV0UGFzc3dvcmQiLCIkY3JlYXRlVXNlciIsImVtYWlsIiwicGFzc3dvcmQiLCJ1c2VyRGF0YSIsInNldCIsInJvbGUiLCJlcnJvckRhdGEiLCJjb25zb2xlIiwiY29kZSIsIiRhdXRoV2l0aFBhc3N3b3JkIiwibG9naW5Ub0FjY291bnQiLCJsb2dPdXQiLCIkdW5hdXRoIiwidGhpcyIsInNlcnZpY2UiLCIkZmlyZWJhc2VBdXRoIiwiZmFjdG9yeSIsInZnR2FtZXNMaXN0IiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwiZGlyZWN0aXZlIiwiYmluZFRvQ29udHJvbGxlciIsIkdhbWVzTGlzdENvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJyZXN0cmljdCIsImRhdGEiLCJvcGVuR2FtZUZ1bmN0aW9uIiwidmdNdWx0aUdhbWVMZWFkZXJib2FyZCIsIk11bHRpR2FtZUxlYWRlcmJvYXJkQ29udHJvbGxlciIsImF2YXRhckRhdGEiLCJjb21wbGV0ZUxlbmd0aCIsIm9wZW5QbGF5ZXJGdW5jdGlvbiIsIm9wZW5MZWFkZXJib2FyZEZ1bmN0aW9uIiwidmdTaW5nbGVHYW1lTGVhZGVyYm9hcmQiLCJTaW5nbGVHYW1lTGVhZGVyYm9hcmRDb250cm9sbGVyIiwidmdTdGlja3lNZXNzYWdlIiwiU3RpY2t5TWVzc2FnZUNvbnRyb2xsZXIiLCJwcm9wZXJ0aWVzIiwiJHRpbWVvdXQiLCJldmVudFNlcnZpY2UiLCIkZmlsdGVyIiwiJGZpcmViYXNlQXJyYXkiLCJjcmVhdGVNdWx0aUdhbWVGaW5hbFN0YW5kaW5ncyIsImlucHV0RXZlbnQiLCJnZXRNdWx0aUdhbWVMZWFkZXJib2FyZCIsInByb21pc2VSZXNvbHV0aW9uIiwiaW5wdXRFdmVudFN0YW5kaW5ncyIsIiRsb2FkZWQiLCJzdGFuZGluZyIsImtleSIsInBvc2l0aW9uIiwiJHNhdmUiLCJnZXRFdmVudFByb3BlcnRpZXMiLCJldmVudFByb3BlcnRpZXMiLCJnZXRHYW1lRGF0YSIsImlucHV0R2FtZSIsImdldEdhbWVzTGlzdCIsImdhbWVzTGlzdCIsImdhbWUiLCJjYW1lbE5hbWUiLCJwbGF5ZXJQb2ludHMiLCJzY29yZXMiLCJzY29yZXNBcnJheSIsIiQiLCJtYXAiLCJlbCIsInRvdGFsQXdhcmQiLCJpIiwibGVuZ3RoIiwicG9pbnRzIiwiaGF2ZUJvdHRvbVNjb3JlcnNGbG9vciIsImZsb29yUmFuZ2UiLCJnZXRTY29yZUNvdW50T2YiLCJwb2ludHNEYXRhIiwiZ2V0U2luZ2xlR2FtZUxlYWRlcmJvYXJkIiwibGVhZGVyYm9hcmREYXRhIiwiZ2V0UGxheWVyU2NvcmVzIiwiaW5wdXRHYW1lc0xpc3QiLCJpbnB1dFBsYXllciIsImRpc3BsYXlTY29yZXMiLCJuZXdTY29yZU9iamVjdCIsInNjb3JlIiwicG9pbnRzRWFybmVkIiwiaW5wVXJsIiwidHdpdGNoVXJsIiwibWFtZVZlcnNpb24iLCJwdXNoIiwiRXZlbnRHYW1lQ29udHJvbGxlciIsIiRzY29wZSIsIiRzdGF0ZVBhcmFtcyIsImluaXRHYW1lUGFnZSIsInZtIiwiZXZlbnROYW1lIiwiZ2FtZU5hbWUiLCJnYW1lRGF0YSIsImdhbWVTY29yZXMiLCIkaWQiLCJjc3MiLCJFdmVudE1haW5Db250cm9sbGVyIiwicHJvZmlsZVNlcnZpY2UiLCJ0ZWFtU2VydmljZSIsImNsb3NlR2FtZU1vZGFsIiwiY2xvc2VNb2RhbCIsImNsb3NlTXVsdGlHYW1lTGVhZGVyYm9hcmRNb2RhbCIsImNsb3NlUGxheWVyTW9kYWwiLCJjcmVhdGVUZWFtIiwibmV3VGVhbSIsIk1hdGVyaWFsaXplIiwidG9hc3QiLCJzaG9ydE5hbWUiLCJkZXRlcm1pbmVQb2ludHMiLCJpbnB1dFNjb3JlRGF0YSIsImlucHV0SW5kZXgiLCJ1c2VyR2FtZVBvaW50cyIsInNvcnRlZFNjb3JlcyIsImdldEZpcnN0UGxhY2VTY29yZXMiLCJnYW1lTGlzdCIsImZpcnN0U2NvcmUiLCJnb1RvUGxheWVyUHJvZmlsZSIsInVzZXJuYW1lIiwiaW5pdEV2ZW50IiwiZm9ybWF0IiwibXVsdGlHYW1lIiwibGVhZGVyYm9hcmQiLCJsZWFkZXJib2FyZExlbmd0aCIsInN1bW1hcml6ZWRMZWFkZXJib2FyZCIsInNsaWNlIiwidGVhbUJhc2VkIiwiZ2V0VGVhbUxpc3QiLCJtb2RlbCIsInRlYW1MaXN0IiwiZ2V0QXZhdGFyRGF0YSIsIm9wZW5CYWRnZXNNb2RhbCIsIm9wZW5Nb2RhbCIsInNjcm9sbFRvcCIsIm9wZW5HYW1lTW9kYWwiLCJpbnB1dEdhbWVOYW1lIiwib3Blbk1hbmFnZW1lbnRNb2RhbCIsIm9wZW5NdWx0aUdhbWVMZWFkZXJib2FyZE1vZGFsIiwiY29tcGxldGVMZWFkZXJib2FyZCIsIm9wZW5QbGF5ZXJNb2RhbCIsImZvY3VzUGxheWVyIiwicGxheWVyU2NvcmVzIiwib3BlbkdhbWVNb2RhbEZyb21QbGF5ZXJNb2RhbCIsIm9wZW5QbGF5ZXJNb2RhbEZyb21HYW1lTW9kYWwiLCJvcGVuUGxheWVyTW9kYWxGcm9tTGVhZGVyYm9hcmRNb2RhbCIsIm9wZW5SdWxlc01vZGFsIiwiY29sbGFwc2libGUiLCJhY2NvcmRpb24iLCJ0YWJzIiwiaW5wdXROZXdUZWFtUHJvcGVydGllcyIsInRlYW1Qb29sIiwiZnVsbE5hbWUiLCJmb3JtYWxOYW1lIiwiSGVhZGVyQ29udHJvbGxlciIsIiR3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImRyb3Bkb3duIiwiaW5EdXJhdGlvbiIsIm91dER1cmF0aW9uIiwiY29uc3RyYWluX3dpZHRoIiwiaG92ZXIiLCJndXR0ZXIiLCJiZWxvd09yaWdpbiIsIm9yZGVyT2JqZWN0QnkiLCJpdGVtcyIsImZpZWxkIiwicmV2ZXJzZSIsImZpbHRlcmVkIiwiaXRlbSIsInNvcnQiLCJhIiwiYiIsImZpbHRlciIsIkF2YXRhckNvbnRyb2xsZXIiLCJVcGxvYWQiLCJpbWd1ciIsImluaXRBdmF0YXIiLCJnZXRCYWRnZXNEYXRhIiwicHJvZmlsZSIsImJhZGdlc0RhdGEiLCJ1cGxvYWRBdmF0YXIiLCJkaXNhYmxlQnV0dG9uIiwic2V0QVBJS2V5IiwidXBsb2FkIiwiZmlsZSIsInNhdmVBdmF0YXJMaW5rIiwiQ2hhbmdlUGFzc3dvcmRDb250cm9sbGVyIiwic3VibWl0Q2hhbmdlUGFzc3dvcmQiLCJwd0NoYW5nZUZvcm0iLCIkdmFsaWQiLCIkY2hhbmdlUGFzc3dvcmQiLCJvbGRQYXNzd29yZCIsImlucHV0Q3VycmVudFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJpbnB1dE5ld1Bhc3N3b3JkIiwic2hvd0NoYW5nZVBhc3N3b3JkTWVzc2FnZSIsIkhvbWVDb250cm9sbGVyIiwiTGVhZGVyYm9hcmRDb250cm9sbGVyIiwiZ2V0UHJvZmlsZVNjb3JlcyIsInByb2ZpbGVTY29yZURhdGEiLCJQcm9maWxlQ29udHJvbGxlciIsImluaXRQcm9maWxlIiwiZ2V0VXNlckRhdGEiLCJnZXRUb3VybmFtZW50SGlzdG9yeSIsInRvdXJuYW1lbnRIaXN0b3J5RGF0YSIsImV2ZW50U3RhbmRpbmdzIiwiZ2V0VG91cm5hbWVudFN0YW5kaW5ncyIsImlucHV0VXNlciIsImlucHV0VXNlckRhdGEiLCJldmVudHNBcnJheSIsInBsZWRnZWRUbyIsImlucHV0VG91cm5hbWVudEhpc3RvcnkiLCJldmVudFN0YW5kaW5nRGF0YSIsIm5hbWUiLCJwcmVtaWVyIiwiY29sb3IiLCJ1c2Vyc0RhdGEiLCJpbnB1dExpbmsiLCJSZWdDb250cm9sbGVyIiwibG9naW5FbWFpbCIsImxvZ2luUGFzc3dvcmQiLCJzaG93SW52YWxpZFVzZXJFcnJvciIsInNob3dJbnZhbGlkUGFzc3dvcmRFcnJvciIsInBhc3N3b3JkUmVzZXQiLCIkcmVzZXRQYXNzd29yZCIsInNob3dQYXNzd29yZFJlc2V0RW1haWxNZXNzYWdlIiwic3VibWl0TmV3QWNjb3VudCIsIm5ld1VzZXJuYW1lIiwidXNlckV4aXN0cyIsInNob3dEdXBsaWNhdGVVc2VyRXJyb3IiLCJzaG93RW1haWxUYWtlbkVycm9yIiwibmV3RW1haWwiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsWUFFQUEsU0FDQUMsT0FBQSxVQUVBLFlBR0EsWUFDQSxXQUNBLG1CQUNBLFVBQ0EsZUFDQSxlQ2RBLFdBQ0EsWUFVQSxTQUFBQyxHQUFBQyxFQUFBQyxHQUdBQSxFQUFBQyxVQUFBLEtBRUFGLEVBQ0FHLE1BQUEsUUFDQUMsSUFBQSxJQUNBQyxZQUFBLG9CQUNBQyxXQUFBLDJCQUdBSCxNQUFBLG1CQUNBQyxJQUFBLG1CQUNBQyxZQUFBLG9CQUNBQyxXQUFBLHlCQUdBSCxNQUFBLFdBQ0FDLElBQUEscUJBQ0FDLFlBQUEsd0JBQ0FDLFdBQUEsaUNBR0FILE1BQUEsZUFDQUMsSUFBQSxlQUNBQyxZQUFBLDRCQUNBQyxXQUFBLHlDQUdBSCxNQUFBLFNBQ0FDLElBQUEseUJBQ0FDLFlBQUEsc0JBQ0FDLFdBQUEsaUNBR0FILE1BQUEsbUJBQ0FDLElBQUEsbUJBQ0FDLFlBQUEsdUJBQ0FDLFdBQUEsNkJBRUFDLFNBQ0FDLGFBQUEsY0FBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUFDLG9CQUtBUCxNQUFBLGtCQUNBQyxJQUFBLGtCQUNBQyxZQUFBLCtCQUNBQyxXQUFBLHVDQUVBQyxTQUNBQyxh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M1AsR0FBQWUsY0FBQWdHLEVBQUE4SSxTQUFBOUksRUFBQXdHLFlBQUF4RyxFQUFBMEksYUFBQTVQLEtBQUEsU0FBQW9FLEdBRUEsTUFBQSxnQkFBQUEsT0FFQThDLEVBQUE2SSxxQkFBQSxRQUdBLG9CQUFBM0wsR0FFQXZGLEVBQUFVLEdBQUEsV0FBQXVKLFNBQUE1QixFQUFBMEksbUJBN0VBL0wsRUFBQSxXQUNBcEcsUUFBQWdGLFFBQUEsZ0JBQ0ErRSxJQUFBLFVBQUEsS0FDQUEsSUFBQSxXQUFBLFlBQ0EsSUFFQSxJQUFBTixHQUFBaEYsSUFFQWdGLEdBQUFuRixlQUFBQSxFQUNBbUYsRUFBQXNJLGNBQUFBLEVBQ0F0SSxFQUFBeUksaUJBQUFBLEVBakJBbFMsUUFDQUMsT0FBQSxVQUNBUSxXQUFBLGdCQUFBaVIsR3BCdWtESUEsRUFBYzFRLFNBQVcsU0FBVSxhQUFjLFdBQVksVUFBVyxTQUFVLGtCQUFtQixjQUFlIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCd2Zy5hcHAnLCBbXG4gICAgICAgICAgICAvKiBBbmd1bGFyIG1vZHVsZXMgKi9cbiAgICAgICAgICAgICduZ0FuaW1hdGUnLFxuICAgICAgICAgICAgLyogQXBwIG1vZHVsZXMgKi9cbiAgICAgICAgICAgIC8qIFRoaXJkLXBhcnR5IG1vZHVsZXMgKi9cbiAgICAgICAgICAgICd1aS5yb3V0ZXInLFxuICAgICAgICAgICAgJ2ZpcmViYXNlJyxcbiAgICAgICAgICAgICd2YWxpZGF0aW9uLm1hdGNoJyxcbiAgICAgICAgICAgICdvcmRpbmFsJyxcbiAgICAgICAgICAgICduZ0ZpbGVVcGxvYWQnLFxuICAgICAgICAgICAgJ25nSW1ndXInXG4gICAgICAgIF0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgndmcuYXBwJylcblx0XHQuY29uc3RhbnQoJ0ZJUkVCQVNFREFUQScsIHtcblx0XHRcdCdGQlVSTCc6ICdodHRwczovL3dvbGZzY29udGVzdHMuZmlyZWJhc2Vpby5jb20nXG5cdFx0fSlcblx0XHQuY29uZmlnKGNvbmZpZyk7XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XG5cblx0XHQvLyBSZWRpcmVjdCBhbnkgdW5tYXRjaGVkIFVSTCB0byAvLlxuXHRcdCR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0ICAgIC5zdGF0ZSgnaG9tZScsIHtcblx0XHQgICAgXHR1cmw6ICcvJyxcblx0XHQgICAgXHR0ZW1wbGF0ZVVybDogJ2FwcC9ob21lL2hvbWUuaHRtJyxcblx0XHQgICAgXHRjb250cm9sbGVyOiAnSG9tZUNvbnRyb2xsZXIgYXMgaG9tZSdcblx0XHQgICAgfSlcblxuXHRcdCAgICAuc3RhdGUoJ3JlZ2lzdGVyT3JMb2dpbicsIHtcblx0XHQgICAgXHR1cmw6ICcvcmVnaXN0ZXJPckxvZ2luJyxcblx0XHQgICAgXHR0ZW1wbGF0ZVVybDogJy9hcHAvaG9tZS9yZWcuaHRtJyxcblx0XHQgICAgXHRjb250cm9sbGVyOiAnUmVnQ29udHJvbGxlciBhcyByZWcnXG5cdFx0ICAgIH0pXG5cblx0XHQgICAgLnN0YXRlKCdwcm9maWxlJywge1xuXHRcdCAgICBcdHVybDogJy9wcm9maWxlLzp1c2VybmFtZScsXG5cdFx0ICAgIFx0dGVtcGxhdGVVcmw6ICcvYXBwL2hvbWUvcHJvZmlsZS5odG0nLFxuXHRcdCAgICBcdGNvbnRyb2xsZXI6ICdQcm9maWxlQ29udHJvbGxlciBhcyBwcm9maWxlJ1xuXHRcdCAgICB9KVxuXG5cdFx0ICAgIC5zdGF0ZSgnbGVhZGVyYm9hcmQnLCB7XG5cdFx0ICAgIFx0dXJsOiAnL2xlYWRlcmJvYXJkJyxcblx0XHQgICAgXHR0ZW1wbGF0ZVVybDogJy9hcHAvaG9tZS9sZWFkZXJib2FyZC5odG0nLFxuXHRcdCAgICBcdGNvbnRyb2xsZXI6ICdMZWFkZXJib2FyZENvbnRyb2xsZXIgYXMgbGVhZGVyYm9hcmQnXG5cdFx0ICAgIH0pXG5cblx0XHQgICAgLnN0YXRlKCdldmVudCcsIHtcblx0XHQgICAgXHR1cmw6ICcvZXZlbnQvOmV2ZW50TmFtZS9tYWluJyxcblx0XHQgICAgXHR0ZW1wbGF0ZVVybDogJy9hcHAvZXZlbnQvbWFpbi5odG0nLFxuXHRcdCAgICBcdGNvbnRyb2xsZXI6ICdFdmVudE1haW5Db250cm9sbGVyIGFzIGV2ZW50J1xuXHRcdCAgICB9KVxuXG5cdFx0ICAgIC5zdGF0ZSgnY3VzdG9taXplQXZhdGFyJywge1xuXHRcdCAgICBcdHVybDogJy9jdXN0b21pemVBdmF0YXInLFxuXHRcdCAgICBcdHRlbXBsYXRlVXJsOiAnL2FwcC9ob21lL2F2YXRhci5odG0nLFxuXHRcdCAgICBcdGNvbnRyb2xsZXI6ICdBdmF0YXJDb250cm9sbGVyIGFzIGF2YXRhcicsXG5cblx0XHQgICAgXHRyZXNvbHZlOiB7XG5cdFx0ICAgIFx0XHQnY3VycmVudEF1dGgnOiBbJ0F1dGhXcmFwcGVyJywgZnVuY3Rpb24oQXV0aFdyYXBwZXIpIHtcblx0XHQgICAgXHRcdFx0cmV0dXJuIEF1dGhXcmFwcGVyLiRyZXF1aXJlQXV0aCgpO1xuXHRcdCAgICBcdFx0fV1cblx0XHQgICAgXHR9XG5cdFx0ICAgIH0pXG5cblx0XHQgICAgLnN0YXRlKCdjaGFuZ2VQYXNzd29yZCcsIHtcblx0XHQgICAgXHR1cmw6ICcvY2hhbmdlUGFzc3dvcmQnLFxuXHRcdCAgICBcdHRlbXBsYXRlVXJsOiAnL2FwcC9ob21lL2NoYW5nZVBhc3N3b3JkLmh0bScsXG5cdFx0ICAgIFx0Y29udHJvbGxlcjogJ0NoYW5nZVBhc3N3b3JkQ29udHJvbGxlciBhcyBwd2NoYW5nZScsXG5cblx0XHQgICAgXHRyZXNvbHZlOiB7XG5cdFx0ICAgIFx0XHQnY3VycmVudEF1dGgnOiBbJ0F1dGhXcmFwcGVyJywgZnVuY3Rpb24oQXV0aFdyYXBwZXIpIHtcblx0XHQgICAgXHRcdFx0cmV0dXJuIEF1dGhXcmFwcGVyLiRyZXF1aXJlQXV0aCgpO1xuXHRcdCAgICBcdFx0fV1cblx0XHQgICAgXHR9XG5cdFx0ICAgIH0pO1xuXHR9XG59KSgpOyIsbnVsbCwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLnJ1bihydW4pO1xuXG4gICAgZnVuY3Rpb24gcnVuKCRyb290U2NvcGUsICRsb2NhdGlvbiwgJHN0YXRlLCAkZmlyZWJhc2VPYmplY3QsIEF1dGhXcmFwcGVyLCBGSVJFQkFTRURBVEEpIHtcblxuICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLCBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvciA9PT0gJ0FVVEhfUkVRVUlSRUQnKSB7XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdyZWdpc3Rlck9yTG9naW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgLy8gSWYgdXNlciBpcyBsb2dnZWQgaW4sIGRvd25sb2FkIHRoZWlyIHByb2ZpbGUgZGF0YSB0byBhbiBvYmplY3QgaW4gJHJvb3RTY29wZS5cbiAgICAgICAgICAgIGlmIChBdXRoV3JhcHBlci4kZ2V0QXV0aCgpKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyIGF1dGhEYXRhID0gQXV0aFdyYXBwZXIuJGdldEF1dGgoKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVmID0gbmV3IEZpcmViYXNlKEZJUkVCQVNFREFUQS5GQlVSTCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcHJvZmlsZURhdGEgPSAkZmlyZWJhc2VPYmplY3QocmVmLmNoaWxkKCd1c2VycycpLmNoaWxkKGF1dGhEYXRhLnVpZCkpO1xuICAgICAgICAgICAgICAgIHByb2ZpbGVEYXRhLiRiaW5kVG8oJHJvb3RTY29wZSwgJ3Byb2ZpbGUnKS50aGVuKGZ1bmN0aW9uKHVuYmluZCkge1xuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnVuYmluZEZ1bmN0aW9uID0gdW5iaW5kO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLnNlcnZpY2UoJ2F1dGhTZXJ2aWNlJywgYXV0aFNlcnZpY2UpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gYXV0aFNlcnZpY2UoJHEsICRyb290U2NvcGUsICRzdGF0ZSwgJGZpcmViYXNlT2JqZWN0LCBBdXRoV3JhcHBlciwgRklSRUJBU0VEQVRBKSB7XG4gICAgICAgIFxuICAgIFx0dGhpcy5jaGVja0lmVXNlckV4aXN0cyA9IGNoZWNrSWZVc2VyRXhpc3RzO1xuICAgIFx0dGhpcy5jcmVhdGVOZXdVc2VyID0gY3JlYXRlTmV3VXNlcjtcbiAgICAgICAgdGhpcy5sb2dpblRvQWNjb3VudCA9IGxvZ2luVG9BY2NvdW50O1xuICAgICAgICB0aGlzLmxvZ091dCA9IGxvZ091dDtcblxuICAgIFx0Ly8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgXHRmdW5jdGlvbiBjaGVja0lmVXNlckV4aXN0cyhpbnB1dFVzZXJuYW1lKSB7XG5cbiAgICBcdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgIFx0XHR2YXIgZG9lc1VzZXJFeGlzdCA9IGZhbHNlO1xuICAgIFx0XHR2YXIgdXNlcnNSZWYgPSBuZXcgRmlyZWJhc2UoRklSRUJBU0VEQVRBLkZCVVJMICsgJy91c2VycycpO1xuXG4gICAgXHRcdHVzZXJzUmVmLm9uY2UoJ3ZhbHVlJywgZnVuY3Rpb24oZGF0YVNuYXBzaG90KSB7XG5cbiAgICBcdFx0XHRkYXRhU25hcHNob3QuZm9yRWFjaChmdW5jdGlvbih1c2VyKSB7XG4gICAgXHRcdFx0XHRpZiAodXNlci52YWwoKS51c2VyTmFtZSA9PT0gaW5wdXRVc2VybmFtZSkge1xuICAgIFx0XHRcdFx0XHRkb2VzVXNlckV4aXN0ID0gdHJ1ZTtcbiAgICBcdFx0XHRcdH1cbiAgICBcdFx0XHR9KTtcblxuICAgIFx0XHRcdGRlZmVycmVkLnJlc29sdmUoZG9lc1VzZXJFeGlzdCk7XG5cbiAgICBcdFx0fSk7XG5cbiAgICBcdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cbiAgICBcdH1cblxuICAgIFx0ZnVuY3Rpb24gY3JlYXRlTmV3VXNlcihpbnB1dEVtYWlsLCBpbnB1dFBhc3N3b3JkLCBpbnB1dFVzZXJuYW1lKSB7XG5cbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICBcdFx0QXV0aFdyYXBwZXIuJGNyZWF0ZVVzZXIoe1xuICAgIFx0XHRcdGVtYWlsOiBpbnB1dEVtYWlsLFxuICAgIFx0XHRcdHBhc3N3b3JkOiBpbnB1dFBhc3N3b3JkXG4gICAgXHRcdH0pLnRoZW4oZnVuY3Rpb24odXNlckRhdGEpIHtcblxuICAgIFx0XHRcdC8vIENyZWF0ZSBhIGRhdGEgZW50cnkgZm9yIHRoZSBuZXcgdXNlcm5hbWUuXG4gICAgXHRcdFx0bmV3IEZpcmViYXNlKEZJUkVCQVNFREFUQS5GQlVSTCkuY2hpbGQoJ3VzZXJzLycgKyB1c2VyRGF0YS51aWQpLnNldCh7XG5cbiAgICBcdFx0XHRcdHVzZXJOYW1lOiBpbnB1dFVzZXJuYW1lLFxuICAgIFx0XHRcdFx0cm9sZTogJ1VzZXInXG5cbiAgICBcdFx0XHR9LCBmdW5jdGlvbihlcnJvckRhdGEpIHtcbiAgICBcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyb3JEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yRGF0YS5jb2RlO1xuICAgIFx0XHRcdH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgZGF0YSBlbnRyeSBmb3IgdGhlIHVzZXIncyBhdmF0YXIuXG4gICAgICAgICAgICAgICAgbmV3IEZpcmViYXNlKEZJUkVCQVNFREFUQS5GQlVSTCkuY2hpbGQoJ2F2YXRhcnMnKS5jaGlsZChpbnB1dFVzZXJuYW1lKS5zZXQoJ2h0dHA6Ly9hcGkuYWRvcmFibGUuaW8vYXZhdGFycy80Mi8nICsgaW5wdXRVc2VybmFtZSk7XG5cbiAgICBcdFx0XHQvLyBMb2cgdGhlIHVzZXIgaW4uXG4gICAgXHRcdFx0QXV0aFdyYXBwZXIuJGF1dGhXaXRoUGFzc3dvcmQoe1xuICAgIFx0XHRcdFx0ZW1haWw6IGlucHV0RW1haWwsXG4gICAgXHRcdFx0XHRwYXNzd29yZDogaW5wdXRQYXNzd29yZFxuICAgIFx0XHRcdH0pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJ0FDQ09VTlRfQ1JFQVRFRCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgXHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yRGF0YSkge1xuXG4gICAgXHRcdFx0Y29uc29sZS5lcnJvcihlcnJvckRhdGEpO1xuXG4gICAgXHRcdFx0aWYgKGVycm9yRGF0YS5jb2RlID09PSAnRU1BSUxfVEFLRU4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZXJyb3JEYXRhLmNvZGUpO1xuICAgIFx0XHRcdH1cblxuICAgIFx0XHR9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cbiAgICBcdH1cblxuICAgICAgICBmdW5jdGlvbiBsb2dpblRvQWNjb3VudChpbnB1dEVtYWlsLCBpbnB1dFBhc3N3b3JkKSB7XG5cbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIEF1dGhXcmFwcGVyLiRhdXRoV2l0aFBhc3N3b3JkKHtcbiAgICAgICAgICAgICAgICBlbWFpbDogaW5wdXRFbWFpbCxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogaW5wdXRQYXNzd29yZFxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihhdXRoRGF0YSkge1xuXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgnTE9HSU5fU1VDQ0VTUycpO1xuXG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvckRhdGEpIHtcblxuICAgICAgICAgICAgICAgIGlmIChlcnJvckRhdGEuY29kZSA9PT0gJ0lOVkFMSURfVVNFUicpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgnSU5WQUxJRF9VU0VSJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvckRhdGEuY29kZSA9PT0gJ0lOVkFMSURfUEFTU1dPUkQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJ0lOVkFMSURfUEFTU1dPUkQnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbG9nT3V0KCkge1xuICAgICAgICAgICAgQXV0aFdyYXBwZXIuJHVuYXV0aCgpO1xuICAgICAgICAgICAgJHJvb3RTY29wZS51bmJpbmRGdW5jdGlvbigpO1xuICAgICAgICB9XG5cbiAgICB9XG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3ZnLmFwcCcpXG4gICAgICAgIC5mYWN0b3J5KCdBdXRoV3JhcHBlcicsIEF1dGhXcmFwcGVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIEF1dGhXcmFwcGVyKCRmaXJlYmFzZUF1dGgsIEZJUkVCQVNFREFUQSkge1xuXG4gICAgICAgIHZhciByZWYgPSBuZXcgRmlyZWJhc2UoRklSRUJBU0VEQVRBLkZCVVJMKTtcbiAgICAgICAgcmV0dXJuICRmaXJlYmFzZUF1dGgocmVmKTtcblxuICAgIH1cbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgndmdHYW1lc0xpc3QnLCB2Z0dhbWVzTGlzdCk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiB2Z0dhbWVzTGlzdCAoKSB7XG4gICAgICAgIC8vIFVzYWdlOlxuICAgICAgICAvL1xuICAgICAgICAvLyBDcmVhdGVzOlxuICAgICAgICAvL1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IEdhbWVzTGlzdENvbnRyb2xsZXIsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICBsaW5rOiBsaW5rLFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi9hcHAvZXZlbnRDb21wb25lbnRzL2dhbWVzTGlzdC5kaXJlY3RpdmUuaHRtJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBcdGRhdGE6ICc9JyxcbiAgICAgICAgICAgIFx0b3BlbkdhbWVGdW5jdGlvbjogJz0nXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIEdhbWVzTGlzdENvbnRyb2xsZXIoKSB7XG4gICAgXHR2YXIgdm0gPSB0aGlzO1xuICAgIH1cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgndmdNdWx0aUdhbWVMZWFkZXJib2FyZCcsIHZnTXVsdGlHYW1lTGVhZGVyYm9hcmQpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gdmdNdWx0aUdhbWVMZWFkZXJib2FyZCAoKSB7XG4gICAgICAgIC8vIFVzYWdlOlxuICAgICAgICAvL1xuICAgICAgICAvLyBDcmVhdGVzOlxuICAgICAgICAvL1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IE11bHRpR2FtZUxlYWRlcmJvYXJkQ29udHJvbGxlcixcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgIGxpbms6IGxpbmssXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuL2FwcC9ldmVudENvbXBvbmVudHMvbXVsdGlHYW1lTGVhZGVyYm9hcmQuZGlyZWN0aXZlLmh0bScsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgXHRkYXRhOiAnPScsXG4gICAgICAgICAgICAgICAgYXZhdGFyRGF0YTogJz0nLFxuICAgICAgICAgICAgXHRjb21wbGV0ZUxlbmd0aDogJz0nLFxuICAgICAgICAgICAgXHRvcGVuUGxheWVyRnVuY3Rpb246ICc9JyxcbiAgICAgICAgICAgICAgICBvcGVuTGVhZGVyYm9hcmRGdW5jdGlvbjogJz0nXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIE11bHRpR2FtZUxlYWRlcmJvYXJkQ29udHJvbGxlcigpIHtcbiAgICBcdHZhciB2bSA9IHRoaXM7XG4gICAgfVxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCd2Zy5hcHAnKVxuICAgICAgICAuZGlyZWN0aXZlKCd2Z1NpbmdsZUdhbWVMZWFkZXJib2FyZCcsIHZnU2luZ2xlR2FtZUxlYWRlcmJvYXJkKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHZnU2luZ2xlR2FtZUxlYWRlcmJvYXJkICgpIHtcbiAgICAgICAgLy8gVXNhZ2U6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIENyZWF0ZXM6XG4gICAgICAgIC8vXG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxuICAgICAgICAgICAgY29udHJvbGxlcjogU2luZ2xlR2FtZUxlYWRlcmJvYXJkQ29udHJvbGxlcixcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgIGxpbms6IGxpbmssXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuL2FwcC9ldmVudENvbXBvbmVudHMvc2luZ2xlR2FtZUxlYWRlcmJvYXJkLmRpcmVjdGl2ZS5odG0nLFxuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIFx0ZGF0YTogJz0nLFxuICAgICAgICAgICAgICAgIGF2YXRhckRhdGE6ICc9JyxcbiAgICAgICAgICAgIFx0Y29tcGxldGVMZW5ndGg6ICc9JyxcbiAgICAgICAgICAgICAgICBvcGVuTGVhZGVyYm9hcmRGdW5jdGlvbjogJz0nXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIFNpbmdsZUdhbWVMZWFkZXJib2FyZENvbnRyb2xsZXIoKSB7XG4gICAgXHR2YXIgdm0gPSB0aGlzO1xuICAgIH1cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgndmdTdGlja3lNZXNzYWdlJywgdmdTdGlja3lNZXNzYWdlKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHZnU3RpY2t5TWVzc2FnZSAoKSB7XG4gICAgICAgIC8vIFVzYWdlOlxuICAgICAgICAvL1xuICAgICAgICAvLyBDcmVhdGVzOlxuICAgICAgICAvL1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFN0aWNreU1lc3NhZ2VDb250cm9sbGVyLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgbGluazogbGluayxcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4vYXBwL2V2ZW50Q29tcG9uZW50cy9zdGlja3lNZXNzYWdlLmRpcmVjdGl2ZS5odG0nLFxuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIFx0cHJvcGVydGllczogJz0nXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIFN0aWNreU1lc3NhZ2VDb250cm9sbGVyKCR0aW1lb3V0KSB7XG4gICAgXHR2YXIgdm0gPSB0aGlzO1xuICAgIH1cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLnNlcnZpY2UoJ2V2ZW50U2VydmljZScsIGV2ZW50U2VydmljZSk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBldmVudFNlcnZpY2UoJHEsICRmaWx0ZXIsICRmaXJlYmFzZU9iamVjdCwgJGZpcmViYXNlQXJyYXksIEZJUkVCQVNFREFUQSkge1xuXG4gICAgICAgIHRoaXMuY3JlYXRlTXVsdGlHYW1lRmluYWxTdGFuZGluZ3MgPSBjcmVhdGVNdWx0aUdhbWVGaW5hbFN0YW5kaW5ncztcbiAgICAgICAgdGhpcy5nZXRFdmVudFByb3BlcnRpZXMgPSBnZXRFdmVudFByb3BlcnRpZXM7XG4gICAgICAgIHRoaXMuZ2V0R2FtZURhdGEgPSBnZXRHYW1lRGF0YTtcbiAgICAgICAgdGhpcy5nZXRHYW1lc0xpc3QgPSBnZXRHYW1lc0xpc3Q7XG4gICAgICAgIHRoaXMuZ2V0TXVsdGlHYW1lTGVhZGVyYm9hcmQgPSBnZXRNdWx0aUdhbWVMZWFkZXJib2FyZDtcbiAgICAgICAgdGhpcy5nZXRTaW5nbGVHYW1lTGVhZGVyYm9hcmQgPSBnZXRTaW5nbGVHYW1lTGVhZGVyYm9hcmQ7XG4gICAgICAgIHRoaXMuZ2V0UGxheWVyU2NvcmVzID0gZ2V0UGxheWVyU2NvcmVzO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVNdWx0aUdhbWVGaW5hbFN0YW5kaW5ncyhpbnB1dEV2ZW50KSB7XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgZmluYWwgc3RhbmRpbmdzIG9mIHRoZSBldmVudC5cbiAgICAgICAgICAgIGdldE11bHRpR2FtZUxlYWRlcmJvYXJkKGlucHV0RXZlbnQpLnRoZW4oZnVuY3Rpb24ocHJvbWlzZVJlc29sdXRpb24pIHtcblxuICAgICAgICAgICAgICAgIHZhciByZWYgPSBuZXcgRmlyZWJhc2UoRklSRUJBU0VEQVRBLkZCVVJMKTtcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXRFdmVudFN0YW5kaW5ncyA9ICRmaXJlYmFzZU9iamVjdChcbiAgICAgICAgICAgICAgICAgICAgcmVmXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGQoJ3N0YW5kaW5ncycpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGQoaW5wdXRFdmVudClcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaW5wdXRFdmVudFN0YW5kaW5ncy4kbG9hZGVkKCkudGhlbihmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlUmVzb2x1dGlvbi5mb3JFYWNoKGZ1bmN0aW9uKHN0YW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dEV2ZW50U3RhbmRpbmdzW3N0YW5kaW5nLmtleV0gPSBzdGFuZGluZy5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaW5wdXRFdmVudFN0YW5kaW5ncy4kc2F2ZSgpO1xuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRFdmVudFByb3BlcnRpZXMoaW5wdXRFdmVudCkge1xuXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIFx0dmFyIHJlZiA9IG5ldyBGaXJlYmFzZShGSVJFQkFTRURBVEEuRkJVUkwpO1xuICAgICAgICBcdHZhciBldmVudFByb3BlcnRpZXMgPSAkZmlyZWJhc2VPYmplY3QoXG4gICAgICAgIFx0XHRyZWZcbiAgICAgICAgXHRcdFx0LmNoaWxkKCdjb250ZXN0cycpXG4gICAgICAgIFx0XHRcdC5jaGlsZChpbnB1dEV2ZW50KVxuICAgICAgICBcdFx0XHQuY2hpbGQoJ3Byb3BlcnRpZXMnKVxuICAgICAgICBcdCk7XG5cbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZXZlbnRQcm9wZXJ0aWVzKTtcblxuICAgICAgICBcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRHYW1lRGF0YShpbnB1dEV2ZW50LCBpbnB1dEdhbWUpIHtcblxuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgdmFyIHJlZiA9IG5ldyBGaXJlYmFzZShGSVJFQkFTRURBVEEuRkJVUkwpO1xuXG4gICAgICAgICAgICBnZXRHYW1lc0xpc3QoaW5wdXRFdmVudCkudGhlbihmdW5jdGlvbihnYW1lc0xpc3QpIHtcblxuICAgICAgICAgICAgICAgIGdhbWVzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGdhbWUpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5jYW1lbE5hbWUgPT09IGlucHV0R2FtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShnYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRHYW1lc0xpc3QoaW5wdXRFdmVudCkge1xuXG4gICAgICAgIFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICBcdHZhciByZWYgPSBuZXcgRmlyZWJhc2UoRklSRUJBU0VEQVRBLkZCVVJMKTtcbiAgICAgICAgXHR2YXIgZ2FtZXNMaXN0ID0gJGZpcmViYXNlQXJyYXkoXG4gICAgICAgIFx0XHRyZWZcbiAgICAgICAgXHRcdFx0LmNoaWxkKCdjb250ZXN0cycpXG4gICAgICAgIFx0XHRcdC5jaGlsZChpbnB1dEV2ZW50KVxuICAgICAgICBcdFx0XHQuY2hpbGQoJ2FjdGl2ZUdhbWVzJylcbiAgICAgICAgXHQpO1xuXG4gICAgICAgIFx0Z2FtZXNMaXN0LiRsb2FkZWQoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBcdFx0ZGVmZXJyZWQucmVzb2x2ZShnYW1lc0xpc3QpO1xuICAgICAgICBcdH0pO1xuXG4gICAgICAgIFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldE11bHRpR2FtZUxlYWRlcmJvYXJkKGlucHV0RXZlbnQpIHtcblxuICAgICAgICBcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgXHQvLyBXZSBuZWVkIHRvIGdldCB0aGUgdG9wIDEyIHBsYXllcnMgZm9yIGV2ZXJ5IGdhbWUuXG4gICAgICAgIFx0dmFyIHBsYXllclBvaW50cyA9IHt9O1xuXG4gICAgICAgIFx0Z2V0R2FtZXNMaXN0KGlucHV0RXZlbnQpLnRoZW4oZnVuY3Rpb24ocHJvbWlzZVJlc29sdXRpb24pIHtcblxuICAgICAgICBcdFx0dmFyIGdhbWVzTGlzdCA9IHByb21pc2VSZXNvbHV0aW9uO1xuICAgICAgICBcdFx0Z2FtZXNMaXN0LmZvckVhY2goZnVuY3Rpb24oZ2FtZSkge1xuXG4gICAgICAgIFx0XHRcdGlmIChnYW1lLnNjb3Jlcykge1xuXG4gICAgICAgIFx0XHRcdFx0Ly8gQ29udmVydCB0aGUgZ2FtZSdzIHNjb3JlcyB0byBhbiBhcnJheS5cbiAgICAgICAgXHRcdFx0XHR2YXIgc2NvcmVzQXJyYXkgPSAkLm1hcChnYW1lLnNjb3JlcywgZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGVsOyB9KTtcbiAgICAgICAgXHRcdFx0XHRzY29yZXNBcnJheSA9ICRmaWx0ZXIoJ29yZGVyQnknKShzY29yZXNBcnJheSwgJy1zY29yZScpO1xuXG4gICAgICAgIFx0XHRcdFx0dmFyIHRvdGFsQXdhcmQgPSAxMjtcblxuICAgICAgICBcdFx0XHRcdC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgdG9wIHNjb3JlcyBhd2FyZGluZyBwb2ludHMuXG4gICAgICAgIFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY29yZXNBcnJheS5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgIFx0XHRcdFx0XHRpZiAoIXBsYXllclBvaW50c1tzY29yZXNBcnJheVtpXS51c2VyTmFtZV0pIHtcbiAgICAgICAgXHRcdFx0XHRcdFx0cGxheWVyUG9pbnRzW3Njb3Jlc0FycmF5W2ldLnVzZXJOYW1lXSA9IHtcbiAgICAgICAgXHRcdFx0XHRcdFx0XHRwb2ludHM6IDBcbiAgICAgICAgXHRcdFx0XHRcdFx0fTtcbiAgICAgICAgXHRcdFx0XHRcdH1cblxuICAgICAgICBcdFx0XHRcdFx0cGxheWVyUG9pbnRzW3Njb3Jlc0FycmF5W2ldLnVzZXJOYW1lXS5wb2ludHMgKz0gdG90YWxBd2FyZDtcblxuICAgICAgICBcdFx0XHRcdFx0aWYgKHRvdGFsQXdhcmQgPiAwKSB7XG4gICAgICAgIFx0XHRcdFx0XHRcdHRvdGFsQXdhcmQgLT0gMTtcbiAgICAgICAgXHRcdFx0XHRcdH1cblxuICAgICAgICBcdFx0XHRcdH1cblxuICAgICAgICBcdFx0XHR9XG5cbiAgICAgICAgXHRcdH0pO1xuXG4gICAgICAgIFx0XHQvLyBGaW5kIGFuZCByZXNvbHZlIHRpZXMuXG4gICAgICAgIFx0XHRwbGF5ZXJQb2ludHMgPSAkZmlsdGVyKCdvcmRlck9iamVjdEJ5JykocGxheWVyUG9pbnRzLCAncG9pbnRzJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdmFyIGhhdmVCb3R0b21TY29yZXJzRmxvb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgZmxvb3JSYW5nZSA9IDA7XG4gICAgICAgIFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHBsYXllclBvaW50cy5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgIFx0XHRcdGlmIChwbGF5ZXJQb2ludHNbaS0xXSAmJiBwbGF5ZXJQb2ludHNbaV0ucG9pbnRzICYmIHBsYXllclBvaW50c1tpLTFdLnBvaW50cykge1xuXG4gICAgICAgIFx0XHRcdFx0aWYgKHBsYXllclBvaW50c1tpXS5wb2ludHMgPT09IHBsYXllclBvaW50c1tpLTFdLnBvaW50cykge1xuICAgICAgICBcdFx0XHRcdFx0cGxheWVyUG9pbnRzW2ldLnBvc2l0aW9uID0gcGxheWVyUG9pbnRzW2ktMV0ucG9zaXRpb247XG4gICAgICAgIFx0XHRcdFx0fSBlbHNlIHtcbiAgICAgICAgXHRcdFx0XHRcdHBsYXllclBvaW50c1tpXS5wb3NpdGlvbiA9IChpKzEpO1xuICAgICAgICBcdFx0XHRcdH1cblxuICAgICAgICBcdFx0XHR9IGVsc2Uge1xuXG4gICAgICAgIFx0XHRcdFx0aWYgKGkgPT09IDApIHtcbiAgICAgICAgXHRcdFx0XHRcdHBsYXllclBvaW50c1tpXS5wb3NpdGlvbiA9IDE7XG4gICAgICAgIFx0XHRcdFx0fSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGF2ZUJvdHRvbVNjb3JlcnNGbG9vcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgY291bnQgb2YgcGxheWVycyBpbiBvbmUgcG9zaXRpb24gaGlnaGVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0U2NvcmVDb3VudE9mID0gcGxheWVyUG9pbnRzW2ktMV0ucG9pbnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJQb2ludHMuZm9yRWFjaChmdW5jdGlvbihwb2ludHNEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnRzRGF0YS5wb2ludHMgPT09IGdldFNjb3JlQ291bnRPZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yUmFuZ2UgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGF2ZUJvdHRvbVNjb3JlcnNGbG9vciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgIFx0XHRcdFx0XHRwbGF5ZXJQb2ludHNbaV0ucG9zaXRpb24gPSAocGxheWVyUG9pbnRzLmxlbmd0aCArIDEpIC0gZmxvb3JSYW5nZTtcbiAgICAgICAgXHRcdFx0XHR9XG5cbiAgICAgICAgXHRcdFx0fVxuXG4gICAgICAgIFx0XHR9XG5cbiAgICAgICAgXHRcdGRlZmVycmVkLnJlc29sdmUocGxheWVyUG9pbnRzKTtcblxuICAgICAgICBcdH0pO1xuXG5cdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0U2luZ2xlR2FtZUxlYWRlcmJvYXJkKGlucHV0RXZlbnQpIHtcblxuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgdmFyIHJlZiA9IG5ldyBGaXJlYmFzZShGSVJFQkFTRURBVEEuRkJVUkwpO1xuICAgICAgICAgICAgdmFyIGxlYWRlcmJvYXJkRGF0YSA9ICRmaXJlYmFzZUFycmF5KFxuICAgICAgICAgICAgICAgIHJlZlxuICAgICAgICAgICAgICAgICAgICAuY2hpbGQoJ2NvbnRlc3RzJylcbiAgICAgICAgICAgICAgICAgICAgLmNoaWxkKGlucHV0RXZlbnQpXG4gICAgICAgICAgICAgICAgICAgIC5jaGlsZCgnc2NvcmVzJylcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUobGVhZGVyYm9hcmREYXRhKTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFBsYXllclNjb3JlcyhpbnB1dEV2ZW50LCBpbnB1dEdhbWVzTGlzdCwgaW5wdXRQbGF5ZXIpIHtcblxuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgdmFyIGRpc3BsYXlTY29yZXMgPSBbXTtcblxuICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGV2ZXJ5IGdhbWUuXG4gICAgICAgICAgICBpbnB1dEdhbWVzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGdhbWUpIHtcblxuICAgICAgICAgICAgICAgIGlmIChnYW1lLnNjb3Jlcykge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIGdhbWUncyBzY29yZXMgdG8gYW4gYXJyYXkuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzY29yZXNBcnJheSA9ICQubWFwKGdhbWUuc2NvcmVzLCBmdW5jdGlvbihlbCkgeyByZXR1cm4gZWw7IH0pO1xuICAgICAgICAgICAgICAgICAgICBzY29yZXNBcnJheSA9ICRmaWx0ZXIoJ29yZGVyQnknKShzY29yZXNBcnJheSwgJy1zY29yZScpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbEF3YXJkID0gMTI7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBzY29yZXMgc3RhcnRpbmcgZnJvbSB0aGUgdG9wIGFuZCBmaW5kIG91ciB1c2VyLlxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNjb3Jlc0FycmF5Lmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIG91ciBwbGF5ZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcmVzQXJyYXlbaV0udXNlck5hbWUgPT09IGlucHV0UGxheWVyKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3U2NvcmVPYmplY3QgPSBnYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Njb3JlT2JqZWN0LnBvc2l0aW9uID0gaSsxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Njb3JlT2JqZWN0LnNjb3JlID0gc2NvcmVzQXJyYXlbaV0uc2NvcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2NvcmVPYmplY3QucG9pbnRzRWFybmVkID0gdG90YWxBd2FyZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTY29yZU9iamVjdC5pbnBVcmwgPSBzY29yZXNBcnJheVtpXS5pbnBVcmwgPyBzY29yZXNBcnJheVtpXS5pbnBVcmwgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Njb3JlT2JqZWN0LnR3aXRjaFVybCA9IHNjb3Jlc0FycmF5W2ldLnR3aXRjaFVybCA/IHNjb3Jlc0FycmF5W2ldLnR3aXRjaFVybCA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2NvcmVPYmplY3QubWFtZVZlcnNpb24gPSBzY29yZXNBcnJheVtpXS5tYW1lVmVyc2lvbiA/IHNjb3Jlc0FycmF5W2ldLm1hbWVWZXJzaW9uIDogbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlTY29yZXMucHVzaChuZXdTY29yZU9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxBd2FyZCA9IDEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbEF3YXJkID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEF3YXJkIC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGlzcGxheVNjb3Jlcyk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICAgIH1cblxuICAgIH1cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V2ZW50R2FtZUNvbnRyb2xsZXInLCBFdmVudEdhbWVDb250cm9sbGVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIEV2ZW50R2FtZUNvbnRyb2xsZXIoJHNjb3BlLCAkZmlsdGVyLCAkc3RhdGVQYXJhbXMsICR0aW1lb3V0LCAkZmlyZWJhc2VBcnJheSwgZXZlbnRTZXJ2aWNlLCBhdXRoU2VydmljZSwgRklSRUJBU0VEQVRBKSB7XG5cbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIFx0YW5ndWxhci5lbGVtZW50KCcjY29udGVudFZpZXcnKVxuICAgICAgICBcdCAgICAuY3NzKCdvcGFjaXR5JywgJzEnKVxuICAgICAgICBcdCAgICAuY3NzKCdwb3NpdGlvbicsICdpbmhlcml0Jyk7XG4gICAgICAgIH0sIDQxMCk7XG5cbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICB2bS5ldmVudE5hbWUgPSAkc3RhdGVQYXJhbXMuZXZlbnROYW1lO1xuICAgICAgICB2bS5nYW1lTmFtZSA9ICRzdGF0ZVBhcmFtcy5nYW1lTmFtZTtcblxuICAgICAgICB2bS5pbml0R2FtZVBhZ2UgPSBpbml0R2FtZVBhZ2U7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGluaXRHYW1lUGFnZSgpIHtcblxuICAgICAgICAgICAgdmFyIHJlZiA9IG5ldyBGaXJlYmFzZShGSVJFQkFTRURBVEEuRkJVUkwpO1xuXG4gICAgICAgICAgICB2bS5ldmVudFByb3BlcnRpZXMgPSBldmVudFNlcnZpY2UuZ2V0RXZlbnRQcm9wZXJ0aWVzKHZtLmV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgIGV2ZW50U2VydmljZS5nZXRHYW1lRGF0YSh2bS5ldmVudE5hbWUsIHZtLmdhbWVOYW1lKS50aGVuKGZ1bmN0aW9uKHByb21pc2VSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgdm0uZ2FtZURhdGEgPSBwcm9taXNlUmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIHZtLmdhbWVTY29yZXMgPSAkZmlyZWJhc2VBcnJheShcbiAgICAgICAgICAgICAgICAgICAgcmVmXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGQoJ2NvbnRlc3RzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZCh2bS5ldmVudE5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGQoJ2FjdGl2ZUdhbWVzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZCh2bS5nYW1lRGF0YS4kaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGQoJ3Njb3JlcycpXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3ZnLmFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdFdmVudE1haW5Db250cm9sbGVyJywgRXZlbnRNYWluQ29udHJvbGxlcik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBFdmVudE1haW5Db250cm9sbGVyKCRzY29wZSwgJGZpbHRlciwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsICR0aW1lb3V0LCAkZmlyZWJhc2VBcnJheSwgZXZlbnRTZXJ2aWNlLCBhdXRoU2VydmljZSwgcHJvZmlsZVNlcnZpY2UsIHRlYW1TZXJ2aWNlLCBGSVJFQkFTRURBVEEpIHtcblxuICAgICAgICAvLyBFbmFibGUgTWF0ZXJpYWxpemUuY3NzIGNvbGxhcHNpYmxlcy5cbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcuY29sbGFwc2libGUnKS5jb2xsYXBzaWJsZSh7XG4gICAgICAgICAgICAgICAgYWNjb3JkaW9uOiB0cnVlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgndWwudGFicycpLnRhYnMoKTtcbiAgICAgICAgfSwgMTAwMCk7XG5cbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcuY29sbGFwc2libGUnKS5jb2xsYXBzaWJsZSh7XG4gICAgICAgICAgICAgICAgYWNjb3JkaW9uOiB0cnVlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgndWwudGFicycpLnRhYnMoKTtcbiAgICAgICAgfSwgMzAwMCk7XG5cbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICB2bS5ldmVudE5hbWUgPSAkc3RhdGVQYXJhbXMuZXZlbnROYW1lO1xuXG4gICAgICAgIHZtLmNsb3NlR2FtZU1vZGFsID0gY2xvc2VHYW1lTW9kYWw7XG4gICAgICAgIHZtLmNsb3NlTXVsdGlHYW1lTGVhZGVyYm9hcmRNb2RhbCA9IGNsb3NlTXVsdGlHYW1lTGVhZGVyYm9hcmRNb2RhbDtcbiAgICAgICAgdm0uY2xvc2VQbGF5ZXJNb2RhbCA9IGNsb3NlUGxheWVyTW9kYWw7XG4gICAgICAgIHZtLmNyZWF0ZVRlYW0gPSBjcmVhdGVUZWFtO1xuICAgICAgICB2bS5kZXRlcm1pbmVQb2ludHMgPSBkZXRlcm1pbmVQb2ludHM7XG4gICAgICAgIHZtLmdldEZpcnN0UGxhY2VTY29yZXMgPSBnZXRGaXJzdFBsYWNlU2NvcmVzO1xuICAgICAgICB2bS5nb1RvUGxheWVyUHJvZmlsZSA9IGdvVG9QbGF5ZXJQcm9maWxlO1xuICAgICAgICB2bS5pbml0RXZlbnQgPSBpbml0RXZlbnQ7XG4gICAgICAgIHZtLm9wZW5CYWRnZXNNb2RhbCA9IG9wZW5CYWRnZXNNb2RhbDtcbiAgICAgICAgdm0ub3BlbkdhbWVNb2RhbCA9IG9wZW5HYW1lTW9kYWw7XG4gICAgICAgIHZtLm9wZW5HYW1lTW9kYWxGcm9tUGxheWVyTW9kYWwgPSBvcGVuR2FtZU1vZGFsRnJvbVBsYXllck1vZGFsO1xuICAgICAgICB2bS5vcGVuTWFuYWdlbWVudE1vZGFsID0gb3Blbk1hbmFnZW1lbnRNb2RhbDtcbiAgICAgICAgdm0ub3Blbk11bHRpR2FtZUxlYWRlcmJvYXJkTW9kYWwgPSBvcGVuTXVsdGlHYW1lTGVhZGVyYm9hcmRNb2RhbDtcbiAgICAgICAgdm0ub3BlblBsYXllck1vZGFsID0gb3BlblBsYXllck1vZGFsO1xuICAgICAgICB2bS5vcGVuUGxheWVyTW9kYWxGcm9tR2FtZU1vZGFsID0gb3BlblBsYXllck1vZGFsRnJvbUdhbWVNb2RhbDtcbiAgICAgICAgdm0ub3BlblBsYXllck1vZGFsRnJvbUxlYWRlcmJvYXJkTW9kYWwgPSBvcGVuUGxheWVyTW9kYWxGcm9tTGVhZGVyYm9hcmRNb2RhbDtcbiAgICAgICAgdm0ub3BlblJ1bGVzTW9kYWwgPSBvcGVuUnVsZXNNb2RhbDtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBjbG9zZUdhbWVNb2RhbCgpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI2dhbWVNb2RhbCcpLmNsb3NlTW9kYWwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNsb3NlTXVsdGlHYW1lTGVhZGVyYm9hcmRNb2RhbCgpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI211bHRpR2FtZUxlYWRlcmJvYXJkTW9kYWwnKS5jbG9zZU1vZGFsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjbG9zZVBsYXllck1vZGFsKCkge1xuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjcGxheWVyTW9kYWwnKS5jbG9zZU1vZGFsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVUZWFtKCkge1xuICAgICAgICAgICAgdGVhbVNlcnZpY2UuY3JlYXRlVGVhbSh2bS5ldmVudE5hbWUsIHZtLm5ld1RlYW0pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgTWF0ZXJpYWxpemUudG9hc3QoJ1RlYW0gJyArIHZtLm5ld1RlYW0uc2hvcnROYW1lICsgJyBjcmVhdGVkLicsIDQwMDApO1xuICAgICAgICAgICAgICAgIHZtLm5ld1RlYW0gPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkZXRlcm1pbmVQb2ludHMoaW5wdXRTY29yZURhdGEsIGlucHV0SW5kZXgpIHtcblxuICAgICAgICAgICAgdmFyIHVzZXJHYW1lUG9pbnRzO1xuXG4gICAgICAgICAgICAvLyBObyBwb3NpdGlvbiBncmVhdGVyIHRoYW4gMTIgZ2V0cyBwb2ludHMuXG4gICAgICAgICAgICBpZiAoaW5wdXRJbmRleCA+IDExKSB7XG4gICAgICAgICAgICAgICAgdXNlckdhbWVQb2ludHMgPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyR2FtZVBvaW50cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdXNlckdhbWVQb2ludHMgPSAxMiAtIGlucHV0SW5kZXg7XG5cbiAgICAgICAgICAgIHZhciBzb3J0ZWRTY29yZXMgPSAkZmlsdGVyKCdvcmRlckJ5Jykodm0uZ2FtZVNjb3JlcywgJy1zY29yZScpO1xuXG4gICAgICAgICAgICAvLyBBbSBJIHRpZWQgd2l0aCB0aGUgcGVyc29uIGFib3ZlIG1lPyBJZiBzbywgbWF0Y2ggdGhlaXIgcG9pbnRzLlxuICAgICAgICAgICAgaWYgKHNvcnRlZFNjb3Jlc1tpbnB1dEluZGV4IC0gMV0pIHtcblxuICAgICAgICAgICAgICAgIGlmIChzb3J0ZWRTY29yZXNbaW5wdXRJbmRleCAtIDFdLnNjb3JlID09PSBpbnB1dFNjb3JlRGF0YS5zY29yZSkge1xuICAgICAgICAgICAgICAgICAgICB1c2VyR2FtZVBvaW50cyArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHVzZXJHYW1lUG9pbnRzO1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0Rmlyc3RQbGFjZVNjb3JlcygpIHtcblxuICAgICAgICAgICAgdm0uZ2FtZUxpc3QuZm9yRWFjaChmdW5jdGlvbihnYW1lKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgc2NvcmVzLCBnZXQgdGhlIHRvcCBvbmUuXG4gICAgICAgICAgICAgICAgaWYgKGdhbWUuc2NvcmVzKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjb3Jlc0FycmF5ID0gJC5tYXAoZ2FtZS5zY29yZXMsIGZ1bmN0aW9uKGVsKSB7IHJldHVybiBlbDsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3Jlc0FycmF5ID0gJGZpbHRlcignb3JkZXJCeScpKHNjb3Jlc0FycmF5LCAnLXNjb3JlJyk7XG4gICAgICAgICAgICAgICAgICAgIGdhbWUuZmlyc3RTY29yZSA9IHNjb3Jlc0FycmF5WzBdO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ29Ub1BsYXllclByb2ZpbGUoaW5wdXRQbGF5ZXIpIHtcblxuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjcGxheWVyTW9kYWwnKS5jbG9zZU1vZGFsKCk7XG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3Byb2ZpbGUnLCB7dXNlcm5hbWU6IGlucHV0UGxheWVyfSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGluaXRFdmVudCgpIHtcblxuICAgICAgICAgICAgZXZlbnRTZXJ2aWNlLmdldEV2ZW50UHJvcGVydGllcyh2bS5ldmVudE5hbWUpLnRoZW4oZnVuY3Rpb24ocHJvbWlzZVJlc29sdXRpb24pIHtcblxuICAgICAgICAgICAgICAgIHZtLmV2ZW50UHJvcGVydGllcyA9IHByb21pc2VSZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICAgICAgdm0uZXZlbnRQcm9wZXJ0aWVzLiRsb2FkZWQoKS50aGVuKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBtdWx0aWdhbWUgZXZlbnQsIGdldCB0aGUgZGF0YSBuZWVkZWQgZm9yIG11bHRpZ2FtZSBjb21wb25lbnRzLlxuICAgICAgICAgICAgICAgICAgICBpZiAodm0uZXZlbnRQcm9wZXJ0aWVzLmZvcm1hdC5tdWx0aUdhbWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXJ2aWNlLmdldEdhbWVzTGlzdCh2bS5ldmVudE5hbWUpLnRoZW4oZnVuY3Rpb24ocHJvbWlzZVJlc29sdXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5nYW1lTGlzdCA9IHByb21pc2VSZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEZpcnN0UGxhY2VTY29yZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFNlcnZpY2UuZ2V0TXVsdGlHYW1lTGVhZGVyYm9hcmQodm0uZXZlbnROYW1lKS50aGVuKGZ1bmN0aW9uKHByb21pc2VSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlYWRlcmJvYXJkID0gcHJvbWlzZVJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0ubGVhZGVyYm9hcmRMZW5ndGggPSBsZWFkZXJib2FyZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uc3VtbWFyaXplZExlYWRlcmJvYXJkID0gbGVhZGVyYm9hcmQuc2xpY2UoMCwgOCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgc2luZ2xlIGdhbWUgZXZlbnQsIGdldCB0aGUgZGF0YSBuZWVkZWQgZm9yIHNpbmdsZSBnYW1lIGNvbXBvbmVudHMuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2VydmljZS5nZXRTaW5nbGVHYW1lTGVhZGVyYm9hcmQodm0uZXZlbnROYW1lKS50aGVuKGZ1bmN0aW9uKHByb21pc2VSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlYWRlcmJvYXJkID0gcHJvbWlzZVJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0ubGVhZGVyYm9hcmRMZW5ndGggPSBsZWFkZXJib2FyZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uc3VtbWFyaXplZExlYWRlcmJvYXJkID0gbGVhZGVyYm9hcmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHRlYW0tYmFzZWQgZXZlbnQsIGdldCB0aGUgZGF0YSBuZWVkZWQgZm9yIHRlYW0gZXZlbnQgY29tcG9uZW50cy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZtLmV2ZW50UHJvcGVydGllcy5mb3JtYXQudGVhbUJhc2VkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRlYW1TZXJ2aWNlLmdldFRlYW1MaXN0KHZtLmV2ZW50TmFtZSkudGhlbihmdW5jdGlvbiB0aGVuKG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0udGVhbUxpc3QgPSBtb2RlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcHJvZmlsZVNlcnZpY2UuZ2V0QXZhdGFyRGF0YSgpLnRoZW4oZnVuY3Rpb24ocHJvbWlzZVJlc29sdXRpb24pIHtcbiAgICAgICAgICAgICAgICB2bS5hdmF0YXJEYXRhID0gcHJvbWlzZVJlc29sdXRpb247XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb3BlbkJhZGdlc01vZGFsKCkge1xuXG4gICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNiYWRnZXNNb2RhbCcpLm9wZW5Nb2RhbCgpO1xuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjYmFkZ2VzTW9kYWxDb250ZW50Jykuc2Nyb2xsVG9wKDApO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvcGVuR2FtZU1vZGFsKGlucHV0R2FtZU5hbWUpIHtcblxuICAgICAgICAgICAgdmFyIHJlZiA9IG5ldyBGaXJlYmFzZShGSVJFQkFTRURBVEEuRkJVUkwpO1xuXG4gICAgICAgICAgICBldmVudFNlcnZpY2UuZ2V0R2FtZURhdGEodm0uZXZlbnROYW1lLCBpbnB1dEdhbWVOYW1lKS50aGVuKGZ1bmN0aW9uKHByb21pc2VSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgdm0uZ2FtZURhdGEgPSBwcm9taXNlUmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIHZtLmdhbWVTY29yZXMgPSAkZmlyZWJhc2VBcnJheShcbiAgICAgICAgICAgICAgICAgICAgcmVmXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGQoJ2NvbnRlc3RzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZCh2bS5ldmVudE5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGQoJ2FjdGl2ZUdhbWVzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZCh2bS5nYW1lRGF0YS4kaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGQoJ3Njb3JlcycpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNnYW1lTW9kYWwnKS5vcGVuTW9kYWwoKTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI2dhbWVNb2RhbENvbnRlbnQnKS5zY3JvbGxUb3AoMCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9wZW5NYW5hZ2VtZW50TW9kYWwoKSB7XG5cbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI21hbmFnZW1lbnRNb2RhbCcpLm9wZW5Nb2RhbCgpO1xuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjbWFuYWdlbWVudE1vZGFsQ29udGVudCcpLnNjcm9sbFRvcCgwKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb3Blbk11bHRpR2FtZUxlYWRlcmJvYXJkTW9kYWwoKSB7XG5cbiAgICAgICAgICAgIGV2ZW50U2VydmljZS5nZXRNdWx0aUdhbWVMZWFkZXJib2FyZCh2bS5ldmVudE5hbWUpLnRoZW4oZnVuY3Rpb24ocHJvbWlzZVJlc29sdXRpb24pIHtcbiAgICAgICAgICAgICAgICB2bS5jb21wbGV0ZUxlYWRlcmJvYXJkID0gcHJvbWlzZVJlc29sdXRpb247XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjbXVsdGlHYW1lTGVhZGVyYm9hcmRNb2RhbCcpLm9wZW5Nb2RhbCgpO1xuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjbXVsdGlHYW1lTGVhZGVyYm9hcmRNb2RhbENvbnRlbnQnKS5zY3JvbGxUb3AoMCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9wZW5QbGF5ZXJNb2RhbChpbnB1dFBsYXllcikge1xuXG4gICAgICAgICAgICB2bS5mb2N1c1BsYXllciA9IGlucHV0UGxheWVyO1xuXG4gICAgICAgICAgICBldmVudFNlcnZpY2UuZ2V0UGxheWVyU2NvcmVzKHZtLmV2ZW50TmFtZSwgdm0uZ2FtZUxpc3QsIHZtLmZvY3VzUGxheWVyKS50aGVuKGZ1bmN0aW9uKHByb21pc2VSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgdm0ucGxheWVyU2NvcmVzID0gcHJvbWlzZVJlc29sdXRpb247XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjcGxheWVyTW9kYWwnKS5vcGVuTW9kYWwoKTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI3BsYXllck1vZGFsQ29udGVudCcpLnNjcm9sbFRvcCgwKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb3BlbkdhbWVNb2RhbEZyb21QbGF5ZXJNb2RhbChpbnB1dEdhbWUpIHtcblxuICAgICAgICAgICAgY2xvc2VQbGF5ZXJNb2RhbCgpO1xuXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBvcGVuR2FtZU1vZGFsKGlucHV0R2FtZSk7XG4gICAgICAgICAgICB9LCA0NTApO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvcGVuUGxheWVyTW9kYWxGcm9tR2FtZU1vZGFsKGlucHV0UGxheWVyKSB7XG5cbiAgICAgICAgICAgIGNsb3NlR2FtZU1vZGFsKCk7XG5cbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIG9wZW5QbGF5ZXJNb2RhbChpbnB1dFBsYXllcik7XG4gICAgICAgICAgICB9LCA0NTApO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvcGVuUGxheWVyTW9kYWxGcm9tTGVhZGVyYm9hcmRNb2RhbChpbnB1dFBsYXllcikge1xuXG4gICAgICAgICAgICBjbG9zZU11bHRpR2FtZUxlYWRlcmJvYXJkTW9kYWwoKTtcblxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgb3BlblBsYXllck1vZGFsKGlucHV0UGxheWVyKTtcbiAgICAgICAgICAgIH0sIDQ1MCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9wZW5SdWxlc01vZGFsKCkge1xuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjcnVsZXNNb2RhbCcpLm9wZW5Nb2RhbCgpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLnNlcnZpY2UoJ3RlYW1TZXJ2aWNlJywgdGVhbVNlcnZpY2UpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gdGVhbVNlcnZpY2UoJHEsICRmaXJlYmFzZUFycmF5LCAkZmlyZWJhc2VPYmplY3QsIEZJUkVCQVNFREFUQSkge1xuXG4gICAgXHR0aGlzLmNyZWF0ZVRlYW0gPSBjcmVhdGVUZWFtO1xuICAgICAgICB0aGlzLmdldFRlYW1MaXN0ID0gZ2V0VGVhbUxpc3Q7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRlYW0oaW5wdXRFdmVudCwgaW5wdXROZXdUZWFtUHJvcGVydGllcykge1xuXG4gICAgICAgIFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICBcdHZhciByZWYgPSBuZXcgRmlyZWJhc2UoRklSRUJBU0VEQVRBLkZCVVJMKTtcbiAgICAgICAgXHR2YXIgdGVhbVBvb2wgPSAkZmlyZWJhc2VPYmplY3QoXG4gICAgICAgIFx0XHRyZWZcbiAgICAgICAgXHRcdFx0LmNoaWxkKCdjb250ZXN0cycpXG4gICAgICAgIFx0XHRcdC5jaGlsZChpbnB1dEV2ZW50KVxuICAgICAgICBcdFx0XHQuY2hpbGQoJ3RlYW1Qb29sJylcbiAgICAgICAgXHQpO1xuXG4gICAgICAgIFx0dGVhbVBvb2wuJGxvYWRlZCgpLnRoZW4oZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgXHRcdHRlYW1Qb29sW2lucHV0TmV3VGVhbVByb3BlcnRpZXMuc2hvcnROYW1lXSA9IHtcbiAgICAgICAgXHRcdFx0ZnVsbE5hbWU6IGlucHV0TmV3VGVhbVByb3BlcnRpZXMuZm9ybWFsTmFtZVxuICAgICAgICBcdFx0fTtcbiAgICAgICAgXHRcdHRlYW1Qb29sLiRzYXZlKCk7XG4gICAgICAgIFx0XHRkZWZlcnJlZC5yZXNvbHZlKCk7XG5cbiAgICAgICAgXHR9KTtcblxuICAgICAgICBcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRUZWFtTGlzdChpbnB1dEV2ZW50KSB7XG5cbiAgICAgICAgXHR2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIFx0dmFyIHJlZiA9IG5ldyBGaXJlYmFzZShGSVJFQkFTRURBVEEuRkJVUkwpO1xuICAgICAgICBcdHZhciB0ZWFtTGlzdCA9ICRmaXJlYmFzZUFycmF5KFxuICAgICAgICBcdFx0cmVmXG4gICAgICAgIFx0XHRcdC5jaGlsZCgnY29udGVzdHMnKVxuICAgICAgICBcdFx0XHQuY2hpbGQoaW5wdXRFdmVudClcbiAgICAgICAgXHRcdFx0LmNoaWxkKCd0ZWFtUG9vbCcpXG4gICAgICAgIFx0KTtcblxuICAgICAgICBcdHRlYW1MaXN0LiRsb2FkZWQoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBcdFx0ZGVmZXJyZWQucmVzb2x2ZSh0ZWFtTGlzdCk7XG4gICAgICAgIFx0fSk7XG5cbiAgICAgICAgXHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgICB9XG4gICAgfVxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCd2Zy5hcHAnKVxuICAgICAgICAuY29udHJvbGxlcignSGVhZGVyQ29udHJvbGxlcicsIEhlYWRlckNvbnRyb2xsZXIpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gSGVhZGVyQ29udHJvbGxlcigkdGltZW91dCwgJHJvb3RTY29wZSwgJHdpbmRvdywgJHN0YXRlLCBhdXRoU2VydmljZSkge1xuXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcuZHJvcGRvd24tYnV0dG9uJylcbiAgICAgICAgICAgICAgICAuZHJvcGRvd24oe1xuICAgICAgICAgICAgICAgICAgICBpbkR1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgICAgICAgICAgIG91dER1cmF0aW9uOiAyMjUsXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbl93aWR0aDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGhvdmVyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZ3V0dGVyOiAtMTE0LFxuICAgICAgICAgICAgICAgICAgICBiZWxvd09yaWdpbjogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCA0MDApO1xuXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIHZtLmxvZ091dCA9IGxvZ091dDtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGxvZ091dCgpIHtcbiAgICAgICAgICAgIGF1dGhTZXJ2aWNlLmxvZ091dCgpO1xuICAgICAgICAgICAgJHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfVxuXG4gICAgfVxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCd2Zy5hcHAnKVxuICAgICAgICAuZmlsdGVyKCdvcmRlck9iamVjdEJ5Jywgb3JkZXJPYmplY3RCeSk7XG5cbiAgICBmdW5jdGlvbiBvcmRlck9iamVjdEJ5KCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaXRlbXMsIGZpZWxkLCByZXZlcnNlKSB7XG4gICAgICAgICAgICB2YXIgZmlsdGVyZWQgPSBbXTtcblxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbihpdGVtLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBpdGVtLmtleSA9IGtleTtcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZpbHRlcmVkLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGFbZmllbGRdID4gYltmaWVsZF0gPyAxIDogLTEpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmKHJldmVyc2UpIGZpbHRlcmVkLnJldmVyc2UoKTtcblxuICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkO1xuICAgICAgICB9O1xuICAgIH1cblxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCd2Zy5hcHAnKVxuICAgICAgICAuY29udHJvbGxlcignQXZhdGFyQ29udHJvbGxlcicsIEF2YXRhckNvbnRyb2xsZXIpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gQXZhdGFyQ29udHJvbGxlcigkcm9vdFNjb3BlLCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgJHRpbWVvdXQsIFVwbG9hZCwgaW1ndXIsIHByb2ZpbGVTZXJ2aWNlKSB7XG5cbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICB2bS5pbml0QXZhdGFyID0gaW5pdEF2YXRhcjtcbiAgICAgICAgdm0udXBsb2FkQXZhdGFyID0gdXBsb2FkQXZhdGFyO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBpbml0QXZhdGFyKCkge1xuICAgICAgICBcdHByb2ZpbGVTZXJ2aWNlLmdldEF2YXRhckRhdGEoKS50aGVuKGZ1bmN0aW9uIHRoZW4obW9kZWwpIHtcbiAgICAgICAgICAgICAgICB2bS5hdmF0YXJEYXRhID0gbW9kZWw7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcHJvZmlsZVNlcnZpY2UuZ2V0QmFkZ2VzRGF0YSgkcm9vdFNjb3BlLnByb2ZpbGUudXNlck5hbWUpLnRoZW4oZnVuY3Rpb24gdGhlbihtb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICB2bS5iYWRnZXNEYXRhID0gbW9kZWw7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdXBsb2FkQXZhdGFyKCkge1xuXG4gICAgICAgIFx0dm0uZGlzYWJsZUJ1dHRvbiA9IHRydWU7XG5cbiAgICAgICAgXHRpbWd1ci5zZXRBUElLZXkoJ0NsaWVudC1JRCBmNTNkNmQ1ODMzYjA3YmMnKTtcbiAgICAgICAgXHRpbWd1ci51cGxvYWQodm0uZmlsZSkudGhlbihmdW5jdGlvbiB0aGVuKG1vZGVsKSB7XG4gICAgICAgIFx0XHRwcm9maWxlU2VydmljZS5zYXZlQXZhdGFyTGluayhtb2RlbFswXS5saW5rLCAkcm9vdFNjb3BlLnByb2ZpbGUudXNlck5hbWUpO1xuICAgICAgICBcdFx0TWF0ZXJpYWxpemUudG9hc3QoJ1lvdXIgYXZhdGFyIHdhcyB1cGxvYWRlZCcsIDQwMDApO1xuXG4gICAgICAgIFx0XHQkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgXHRcdFx0JHN0YXRlLmdvKCdob21lJyk7XG4gICAgICAgIFx0XHR9LCAxMDAwKTtcbiAgICAgICAgXHR9KTtcblxuICAgICAgICB9XG5cbiAgICB9XG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3ZnLmFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdDaGFuZ2VQYXNzd29yZENvbnRyb2xsZXInLCBDaGFuZ2VQYXNzd29yZENvbnRyb2xsZXIpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gQ2hhbmdlUGFzc3dvcmRDb250cm9sbGVyKCRzY29wZSwgJHRpbWVvdXQsICRzdGF0ZSwgQXV0aFdyYXBwZXIpIHtcblxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBcdGFuZ3VsYXIuZWxlbWVudCgnI2NvbnRlbnRWaWV3JylcbiAgICAgICAgICAgICAgICAuY3NzKCdvcGFjaXR5JywgJzEnKVxuICAgICAgICAgICAgICAgIC5jc3MoJ3Bvc2l0aW9uJywgJ2luaGVyaXQnKTtcbiAgICAgICAgfSwgMzEwKTtcblxuICAgICAgICB2bS5zdWJtaXRDaGFuZ2VQYXNzd29yZCA9IHN1Ym1pdENoYW5nZVBhc3N3b3JkO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIHN1Ym1pdENoYW5nZVBhc3N3b3JkKCkge1xuXG4gICAgICAgICAgICBpZiAoJHNjb3BlLnB3Q2hhbmdlRm9ybS4kdmFsaWQpIHtcblxuICAgICAgICAgICAgICAgIEF1dGhXcmFwcGVyLiRjaGFuZ2VQYXNzd29yZCh7XG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiBBdXRoV3JhcHBlci4kZ2V0QXV0aCgpLnBhc3N3b3JkLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICBvbGRQYXNzd29yZDogdm0uaW5wdXRDdXJyZW50UGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgIG5ld1Bhc3N3b3JkOiB2bS5pbnB1dE5ld1Bhc3N3b3JkXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBNYXRlcmlhbGl6ZS50b2FzdCgnWW91ciBwYXNzd29yZCB3YXMgY2hhbmdlZC4nLCA0MDAwKTtcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2hvbWUnKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7XG5cbiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdJTlZBTElEX1BBU1NXT1JEJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdm0uc2hvd0NoYW5nZVBhc3N3b3JkTWVzc2FnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgIH1cblxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCd2Zy5hcHAnKVxuICAgICAgICAuY29udHJvbGxlcignSG9tZUNvbnRyb2xsZXInLCBIb21lQ29udHJvbGxlcik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBIb21lQ29udHJvbGxlcigkc2NvcGUsICR0aW1lb3V0KSB7XG5cbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgXHRhbmd1bGFyLmVsZW1lbnQoJyNjb250ZW50VmlldycpXG4gICAgICAgICAgICAgICAgLmNzcygnb3BhY2l0eScsICcxJylcbiAgICAgICAgICAgICAgICAuY3NzKCdwb3NpdGlvbicsICdpbmhlcml0Jyk7XG4gICAgICAgIH0sIDMxMCk7XG5cbiAgICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0xlYWRlcmJvYXJkQ29udHJvbGxlcicsIExlYWRlcmJvYXJkQ29udHJvbGxlcik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBMZWFkZXJib2FyZENvbnRyb2xsZXIoJHEsICR0aW1lb3V0LCAkZmlyZWJhc2VBcnJheSwgcHJvZmlsZVNlcnZpY2UsIEZJUkVCQVNFREFUQSkge1xuXG4gICAgXHR2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBcdGFuZ3VsYXIuZWxlbWVudCgnI2NvbnRlbnRWaWV3JylcbiAgICAgICAgICAgICAgICAuY3NzKCdvcGFjaXR5JywgJzEnKVxuICAgICAgICAgICAgICAgIC5jc3MoJ3Bvc2l0aW9uJywgJ2luaGVyaXQnKTtcbiAgICAgICAgfSwgMzEwKTtcblxuICAgICAgICBnZXRQcm9maWxlU2NvcmVzKCkudGhlbihmdW5jdGlvbiB0aGVuKG1vZGVsKSB7XG4gICAgICAgIFx0dm0ucHJvZmlsZVNjb3JlRGF0YSA9IG1vZGVsO1xuICAgICAgICB9KTtcblxuICAgICAgICBwcm9maWxlU2VydmljZS5nZXRBdmF0YXJEYXRhKCkudGhlbihmdW5jdGlvbiB0aGVuKG1vZGVsKSB7XG4gICAgICAgIFx0dm0uYXZhdGFyRGF0YSA9IG1vZGVsO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0UHJvZmlsZVNjb3JlcygpIHtcblxuICAgICAgICBcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIFx0dmFyIHJlZiA9IG5ldyBGaXJlYmFzZShGSVJFQkFTRURBVEEuRkJVUkwpO1xuXG4gICAgICAgIFx0dmFyIHByb2ZpbGVTY29yZURhdGEgPSAkZmlyZWJhc2VBcnJheShcbiAgICAgICAgXHRcdHJlZlxuICAgICAgICBcdFx0XHQuY2hpbGQoJ2JhZGdlcycpXG4gICAgICAgIFx0KTtcblxuICAgICAgICBcdHByb2ZpbGVTY29yZURhdGEuJGxvYWRlZChmdW5jdGlvbigpIHtcbiAgICAgICAgXHRcdGRlZmVycmVkLnJlc29sdmUocHJvZmlsZVNjb3JlRGF0YSk7XG4gICAgICAgIFx0fSk7XG5cbiAgICAgICAgXHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgICB9XG5cbiAgICB9XG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3ZnLmFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdQcm9maWxlQ29udHJvbGxlcicsIFByb2ZpbGVDb250cm9sbGVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIFByb2ZpbGVDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlUGFyYW1zLCAkcSwgJHRpbWVvdXQsICRzdGF0ZSwgJGZpcmViYXNlQXJyYXksIGF1dGhTZXJ2aWNlLCBwcm9maWxlU2VydmljZSwgZXZlbnRTZXJ2aWNlKSB7XG5cbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIFx0YW5ndWxhci5lbGVtZW50KCcjY29udGVudFZpZXcnKVxuICAgICAgICBcdCAgICAuY3NzKCdvcGFjaXR5JywgJzEnKVxuICAgICAgICBcdCAgICAuY3NzKCdwb3NpdGlvbicsICdpbmhlcml0Jyk7XG5cbiAgICAgICAgICAgICQoJy5jb2xsYXBzaWJsZScpLmNvbGxhcHNpYmxlKHtcbiAgICAgICAgICAgICAgICBhY2NvcmRpb246IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCA0MTApO1xuXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgdm0uaW5pdFByb2ZpbGUgPSBpbml0UHJvZmlsZTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBpbml0UHJvZmlsZSgpIHtcbiAgICAgICAgICAgIHByb2ZpbGVTZXJ2aWNlLmdldFVzZXJEYXRhKCRzdGF0ZVBhcmFtcy51c2VybmFtZSkudGhlbihmdW5jdGlvbihwcm9taXNlUmVzb2x1dGlvbikge1xuICAgICAgICAgICAgICAgIHZtLnByb2ZpbGVEYXRhID0gcHJvbWlzZVJlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICBwcm9maWxlU2VydmljZS5nZXRUb3VybmFtZW50SGlzdG9yeSh2bS5wcm9maWxlRGF0YSkudGhlbihmdW5jdGlvbihwcm9taXNlUmVzb2x1dGlvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG91cm5hbWVudEhpc3RvcnlEYXRhID0gcHJvbWlzZVJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgICAgIHZtLmV2ZW50U3RhbmRpbmdzID0gcHJvZmlsZVNlcnZpY2UuZ2V0VG91cm5hbWVudFN0YW5kaW5ncyh0b3VybmFtZW50SGlzdG9yeURhdGEsICRzdGF0ZVBhcmFtcy51c2VybmFtZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcHJvZmlsZVNlcnZpY2UuZ2V0QXZhdGFyRGF0YSgpLnRoZW4oZnVuY3Rpb24ocHJvbWlzZVJlc29sdXRpb24pIHtcbiAgICAgICAgICAgICAgICB2bS5hdmF0YXJEYXRhID0gcHJvbWlzZVJlc29sdXRpb247XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcHJvZmlsZVNlcnZpY2UuZ2V0QmFkZ2VzRGF0YSgkc3RhdGVQYXJhbXMudXNlcm5hbWUpLnRoZW4oZnVuY3Rpb24gdGhlbihtb2RlbCkge1xuICAgICAgICAgICAgICAgIHZtLmJhZGdlc0RhdGEgPSBtb2RlbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLnNlcnZpY2UoJ3Byb2ZpbGVTZXJ2aWNlJywgcHJvZmlsZVNlcnZpY2UpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcHJvZmlsZVNlcnZpY2UoJHJvb3RTY29wZSwgJHEsICRmaXJlYmFzZUFycmF5LCAkZmlyZWJhc2VPYmplY3QsIGV2ZW50U2VydmljZSwgRklSRUJBU0VEQVRBKSB7XG5cbiAgICBcdHRoaXMuZ2V0QXZhdGFyRGF0YSA9IGdldEF2YXRhckRhdGE7XG4gICAgICAgIHRoaXMuZ2V0QmFkZ2VzRGF0YSA9IGdldEJhZGdlc0RhdGE7XG4gICAgXHR0aGlzLmdldFRvdXJuYW1lbnRIaXN0b3J5ID0gZ2V0VG91cm5hbWVudEhpc3Rvcnk7XG4gICAgICAgIHRoaXMuZ2V0VG91cm5hbWVudFN0YW5kaW5ncyA9IGdldFRvdXJuYW1lbnRTdGFuZGluZ3M7XG4gICAgICAgIHRoaXMuZ2V0VXNlckRhdGEgPSBnZXRVc2VyRGF0YTtcbiAgICAgICAgdGhpcy5zYXZlQXZhdGFyTGluayA9IHNhdmVBdmF0YXJMaW5rO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBnZXRBdmF0YXJEYXRhKCkge1xuXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgdmFyIHJlZiA9IG5ldyBGaXJlYmFzZShGSVJFQkFTRURBVEEuRkJVUkwpO1xuXG4gICAgICAgICAgICB2YXIgYXZhdGFyRGF0YSA9ICRmaXJlYmFzZU9iamVjdChcbiAgICAgICAgICAgICAgICByZWZcbiAgICAgICAgICAgICAgICAgICAgLmNoaWxkKCdhdmF0YXJzJylcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGF2YXRhckRhdGEuJGxvYWRlZChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGF2YXRhckRhdGEpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRCYWRnZXNEYXRhKGlucHV0VXNlcikge1xuXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgdmFyIHJlZiA9IG5ldyBGaXJlYmFzZShGSVJFQkFTRURBVEEuRkJVUkwpO1xuXG4gICAgICAgICAgICB2YXIgYmFkZ2VzRGF0YSA9ICRmaXJlYmFzZU9iamVjdChcbiAgICAgICAgICAgICAgICByZWZcbiAgICAgICAgICAgICAgICAgICAgLmNoaWxkKCdiYWRnZXMnKVxuICAgICAgICAgICAgICAgICAgICAuY2hpbGQoaW5wdXRVc2VyKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgYmFkZ2VzRGF0YS4kbG9hZGVkKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoYmFkZ2VzRGF0YSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFRvdXJuYW1lbnRIaXN0b3J5KGlucHV0VXNlckRhdGEpIHtcblxuICAgICAgICBcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIFx0dmFyIHJlZiA9IG5ldyBGaXJlYmFzZShGSVJFQkFTRURBVEEuRkJVUkwpO1xuXG4gICAgICAgIFx0Ly8gTG9vcCB0aHJvdWdoIGVhY2ggZXZlbnQgaW4gdGhlIHBsZWRnZWRUbyBvYmplY3QuXG4gICAgICAgIFx0dmFyIGV2ZW50c0FycmF5ID0gW107XG4gICAgICAgIFx0Zm9yICh2YXIga2V5IGluIGlucHV0VXNlckRhdGEucGxlZGdlZFRvKSB7XG4gICAgICAgIFx0XHRldmVudHNBcnJheS5wdXNoKGtleSk7XG4gICAgICAgIFx0fVxuXG4gICAgICAgIFx0ZGVmZXJyZWQucmVzb2x2ZShldmVudHNBcnJheSk7XG5cbiAgICAgICAgXHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0VG91cm5hbWVudFN0YW5kaW5ncyhpbnB1dFRvdXJuYW1lbnRIaXN0b3J5LCBpbnB1dFVzZXIpIHtcblxuICAgICAgICAgICAgdmFyIHJlZiA9IG5ldyBGaXJlYmFzZShGSVJFQkFTRURBVEEuRkJVUkwpO1xuXG4gICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggZWFjaCBldmVudCBpbiB0aGUgdXNlcidzIGhpc3RvcnkuXG4gICAgICAgICAgICB2YXIgZXZlbnRTdGFuZGluZ3MgPSBbXTtcbiAgICAgICAgICAgIGlucHV0VG91cm5hbWVudEhpc3RvcnkuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgICAgICAgICAgZXZlbnRTZXJ2aWNlLmdldEV2ZW50UHJvcGVydGllcyhldmVudCkudGhlbihmdW5jdGlvbihldmVudFByb3BlcnRpZXMpIHtcblxuICAgICAgICAgICAgICAgICAgICBldmVudFByb3BlcnRpZXMuJGxvYWRlZCgpLnRoZW4oZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGNvbmNsdWRlZCwgZ2V0IHRoZSB1c2VyJ3Mgc3RhbmRpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRQcm9wZXJ0aWVzLnN0YXRlID09PSAnY29uY2x1ZGVkJykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50U3RhbmRpbmdEYXRhID0gJGZpcmViYXNlT2JqZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZCgnc3RhbmRpbmdzJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZChldmVudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTdGFuZGluZ0RhdGEuJGxvYWRlZCgpLnRoZW4oZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50U3RhbmRpbmdEYXRhW2lucHV0VXNlcl0pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTdGFuZGluZ3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZXZlbnRQcm9wZXJ0aWVzLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlbWllcjogZXZlbnRQcm9wZXJ0aWVzLnByZW1pZXIgPyB0cnVlIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9ydE5hbWU6IGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiAnY29uY2x1ZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogZXZlbnRQcm9wZXJ0aWVzLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBldmVudFN0YW5kaW5nRGF0YVtpbnB1dFVzZXJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFN0YW5kaW5ncy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBldmVudFByb3BlcnRpZXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVtaWVyOiBldmVudFByb3BlcnRpZXMucHJlbWllciA/IHRydWUgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3J0TmFtZTogZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6ICdjb25jbHVkZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBldmVudFByb3BlcnRpZXMuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudFByb3BlcnRpZXMuc3RhdGUgPT09ICdpbnByb2dyZXNzJyB8fCBldmVudFByb3BlcnRpZXMuc3RhdGUgPT09ICd1cGNvbWluZycpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U3RhbmRpbmdzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBldmVudFByb3BlcnRpZXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlbWllcjogZXZlbnRQcm9wZXJ0aWVzLnByZW1pZXIgPyB0cnVlIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvcnROYW1lOiBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGV2ZW50UHJvcGVydGllcy5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IGV2ZW50UHJvcGVydGllcy5zdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBldmVudFN0YW5kaW5ncztcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0VXNlckRhdGEoaW5wdXRVc2VyKSB7XG5cbiAgICAgICAgXHR2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICBcdHZhciByZWYgPSBuZXcgRmlyZWJhc2UoRklSRUJBU0VEQVRBLkZCVVJMKTtcblxuICAgICAgICBcdHZhciB1c2Vyc0RhdGEgPSAkZmlyZWJhc2VBcnJheShcbiAgICAgICAgXHRcdHJlZlxuICAgICAgICBcdFx0XHQuY2hpbGQoJ3VzZXJzJylcbiAgICAgICAgXHQpO1xuXG4gICAgICAgIFx0dXNlcnNEYXRhLiRsb2FkZWQoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgXHRcdHVzZXJzRGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgXHRcdFx0aWYgKHVzZXIudXNlck5hbWUgPT09IGlucHV0VXNlcikge1xuICAgICAgICBcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUodXNlcik7XG4gICAgICAgIFx0XHRcdH1cbiAgICAgICAgXHRcdH0pO1xuXG4gICAgICAgIFx0fSk7XG5cbiAgICAgICAgXHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRklYTUU6IE1ha2UgdGhpcyBzZXJ2ZXItc2lkZS5cbiAgICAgICAgZnVuY3Rpb24gc2F2ZUF2YXRhckxpbmsoaW5wdXRMaW5rLCBpbnB1dFVzZXIpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHJlZiA9IG5ldyBGaXJlYmFzZShGSVJFQkFTRURBVEEuRkJVUkwpO1xuXG4gICAgICAgICAgICB2YXIgYXZhdGFyRGF0YSA9ICRmaXJlYmFzZU9iamVjdChcbiAgICAgICAgICAgICAgICByZWZcbiAgICAgICAgICAgICAgICAgICAgLmNoaWxkKCdhdmF0YXJzJylcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGF2YXRhckRhdGEuJGxvYWRlZChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBhdmF0YXJEYXRhW2lucHV0VXNlcl0gPSBpbnB1dExpbms7XG4gICAgICAgICAgICAgICAgYXZhdGFyRGF0YS4kc2F2ZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgfVxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCd2Zy5hcHAnKVxuICAgICAgICAuY29udHJvbGxlcignUmVnQ29udHJvbGxlcicsIFJlZ0NvbnRyb2xsZXIpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gUmVnQ29udHJvbGxlcigkc2NvcGUsICRyb290U2NvcGUsICR0aW1lb3V0LCAkd2luZG93LCAkc3RhdGUsICRmaXJlYmFzZU9iamVjdCwgYXV0aFNlcnZpY2UsIEF1dGhXcmFwcGVyKSB7XG5cbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIFx0YW5ndWxhci5lbGVtZW50KCcjY29udGVudFZpZXcnKVxuICAgICAgICBcdCAgICAuY3NzKCdvcGFjaXR5JywgJzEnKVxuICAgICAgICBcdCAgICAuY3NzKCdwb3NpdGlvbicsICdpbmhlcml0Jyk7XG4gICAgICAgIH0sIDQxMCk7XG5cbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICB2bS5sb2dpblRvQWNjb3VudCA9IGxvZ2luVG9BY2NvdW50O1xuICAgICAgICB2bS5wYXNzd29yZFJlc2V0ID0gcGFzc3dvcmRSZXNldDtcbiAgICAgICAgdm0uc3VibWl0TmV3QWNjb3VudCA9IHN1Ym1pdE5ld0FjY291bnQ7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gbG9naW5Ub0FjY291bnQoKSB7XG5cbiAgICAgICAgICAgIGF1dGhTZXJ2aWNlLmxvZ2luVG9BY2NvdW50KHZtLmxvZ2luRW1haWwsIHZtLmxvZ2luUGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24ocHJvbWlzZVJlc29sdXRpb24pIHtcblxuICAgICAgICAgICAgICAgIHZtLnNob3dJbnZhbGlkVXNlckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdm0uc2hvd0ludmFsaWRQYXNzd29yZEVycm9yID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAocHJvbWlzZVJlc29sdXRpb24gPT09ICdMT0dJTl9TVUNDRVNTJykge1xuXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnaG9tZScpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9taXNlUmVzb2x1dGlvbiA9PT0gJ0lOVkFMSURfVVNFUicpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0uc2hvd0ludmFsaWRVc2VyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9taXNlUmVzb2x1dGlvbiA9PT0gJ0lOVkFMSURfUEFTU1dPUkQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLnNob3dJbnZhbGlkUGFzc3dvcmRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcGFzc3dvcmRSZXNldCgpIHtcblxuICAgICAgICAgICAgaWYgKCF2bS5sb2dpbkVtYWlsKSB7XG4gICAgICAgICAgICAgICAgdm0uc2hvd1Bhc3N3b3JkUmVzZXRFbWFpbE1lc3NhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQXV0aFdyYXBwZXIuJHJlc2V0UGFzc3dvcmQoe1xuICAgICAgICAgICAgICAgIGVtYWlsOiB2bS5sb2dpbkVtYWlsXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZtLnNob3dQYXNzd29yZFJlc2V0RW1haWxNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgTWF0ZXJpYWxpemUudG9hc3QoJ0EgcGFzc3dvcmQgcmVzZXQgZW1haWwgaGFzIGJlZW4gc2VudCB0byAnICsgdm0ubG9naW5FbWFpbCArICcuJywgNDAwMCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3VibWl0TmV3QWNjb3VudCgpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRG9lcyB0aGUgdXNlciBleGlzdD8gSWYgc28sIHNob3cgYW4gZXJyb3IgbWVzc2FnZS5cbiAgICAgICAgICAgIGF1dGhTZXJ2aWNlLmNoZWNrSWZVc2VyRXhpc3RzKHZtLm5ld1VzZXJuYW1lKS50aGVuKGZ1bmN0aW9uKHVzZXJFeGlzdHMpIHtcblxuICAgICAgICAgICAgICAgIHZtLnNob3dEdXBsaWNhdGVVc2VyRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2bS5zaG93RW1haWxUYWtlbkVycm9yID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAodXNlckV4aXN0cykge1xuXG4gICAgICAgICAgICAgICAgICAgIHZtLnNob3dEdXBsaWNhdGVVc2VyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAvLyBUcnkgdG8gY3JlYXRlIHRoZSBuZXcgdXNlci5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGF1dGhTZXJ2aWNlLmNyZWF0ZU5ld1VzZXIodm0ubmV3RW1haWwsIHZtLm5ld1Bhc3N3b3JkLCB2bS5uZXdVc2VybmFtZSkudGhlbihmdW5jdGlvbihwcm9taXNlUmVzb2x1dGlvbikge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvbWlzZVJlc29sdXRpb24gPT09ICdFTUFJTF9UQUtFTicpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLnNob3dFbWFpbFRha2VuRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9taXNlUmVzb2x1dGlvbiA9PT0gJ0FDQ09VTlRfQ1JFQVRFRCcpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncHJvZmlsZScsIHt1c2VybmFtZTogdm0ubmV3VXNlcm5hbWV9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICB9XG5cbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9