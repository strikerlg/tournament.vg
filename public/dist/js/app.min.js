!function(){"use strict";angular.module("vg.app",["ngAnimate","ui.router","firebase","validation.match","ordinal","ngFileUpload","ngImgur"])}(),function(){"use strict";function e(e,t){t.otherwise("/"),e.state("index",{url:"/",views:{header:{templateUrl:"app/header/homeHeader.htm",controller:"HeaderController as header",data:{headerType:"tall"}},content:{templateUrl:"app/home/home.htm",controller:"HomeController as home"}}}).state("registerOrLogin",{url:"/registerOrLogin",views:{header:{templateUrl:"/app/header/homeHeader.htm",controller:"HeaderController as header",data:{headerType:"tall"}},content:{templateUrl:"/app/home/reg.htm",controller:"RegController as reg"}}}).state("profile",{url:"/profile/:username",views:{header:{templateUrl:"/app/header/homeHeader.htm",controller:"HeaderController as header",data:{headerType:"tall"}},content:{templateUrl:"/app/home/profile.htm",controller:"ProfileController as profile"}}}).state("leaderboard",{url:"/leaderboard",views:{header:{templateUrl:"/app/header/homeHeader.htm",controller:"HeaderController as header",data:{headerType:"tall"}},content:{templateUrl:"/app/home/leaderboard.htm",controller:"LeaderboardController as leaderboard"}}}).state("eventMain",{url:"/event/:eventName/main",views:{header:{templateUrl:"/app/header/homeHeader.htm",controller:"HeaderController as header",data:{headerType:"tall"}},content:{templateUrl:"/app/event/main.htm",controller:"EventMainController as event"}}}).state("customizeAvatar",{url:"/customizeAvatar",views:{header:{templateUrl:"/app/header/homeHeader.htm",controller:"HeaderController as header",data:{headerType:"tall"}},content:{templateUrl:"/app/home/avatar.htm",controller:"AvatarController as avatar"}},resolve:{currentAuth:["AuthWrapper",function(e){return e.$requireAuth()}]}}).state("passwordChange",{url:"/passwordChange",views:{header:{templateUrl:"/app/header/homeHeader.htm",controller:"HeaderController as header",data:{headerType:"tall"}},content:{templateUrl:"/app/home/passwordChange.htm",controller:"PasswordChangeController as pwchange"}},resolve:{currentAuth:["AuthWrapper",function(e){return e.$requireAuth()}]}}).state("eventGame",{url:"/event/:eventName/game/:gameName",views:{header:{templateUrl:"/app/header/homeHeader.htm",controller:"HeaderController as header",data:{headerType:"tall"}},content:{templateUrl:"/app/event/game.htm",controller:"EventGameController as game"}}})}angular.module("vg.app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e,t,r,a,n){e.$on("$stateChangeError",function(e,t,a,n,o,i){"AUTH_REQUIRED"===i&&r.go("registerOrLogin")}),e.$on("$stateChangeSuccess",function(){if(n.$getAuth()){var t=n.$getAuth(),r=new Firebase("https://wolfscontests.firebaseio.com"),o=a(r.child("users").child(t.uid));o.$bindTo(e,"profile").then(function(t){e.unbindFunction=t})}})}angular.module("vg.app").run(e),e.$inject=["$rootScope","$location","$state","$firebaseObject","AuthWrapper"]}(),function(){"use strict";function e(e,t,r,a,n){function o(t){var r=e.defer(),a=!1,n=new Firebase(c+"/users");return n.once("value",function(e){e.forEach(function(e){e.val().userName===t&&(a=!0)}),r.resolve(a)}),r.promise}function i(t,r,a){var o=e.defer();return n.$createUser({email:t,password:r}).then(function(e){new Firebase(c).child("users/"+e.uid).set({userName:a,role:"User"},function(e){return console.error(e),e.code}),new Firebase(c).child("avatars").child(a).set("http://api.adorable.io/avatars/42/"+a),n.$authWithPassword({email:t,password:r}).then(function(){o.resolve("ACCOUNT_CREATED")})})["catch"](function(e){console.error(e),"EMAIL_TAKEN"===e.code&&o.resolve(e.code)}),o.promise}function s(t,r){var a=e.defer();return n.$authWithPassword({email:t,password:r}).then(function(e){a.resolve("LOGIN_SUCCESS")})["catch"](function(e){"INVALID_USER"===e.code?a.resolve("INVALID_USER"):"INVALID_PASSWORD"===e.code&&a.resolve("INVALID_PASSWORD")}),a.promise}function l(){n.$unauth(),t.unbindFunction(),r.go("index")}var c="https://wolfscontests.firebaseio.com";this.checkIfUserExists=o,this.createNewUser=i,this.loginToAccount=s,this.logOut=l}angular.module("vg.app").service("authService",e),e.$inject=["$q","$rootScope","$state","$firebaseObject","AuthWrapper"]}(),function(){"use strict";function e(e){var t=new Firebase("https://wolfscontests.firebaseio.com");return e(t)}angular.module("vg.app").factory("AuthWrapper",e),e.$inject=["$firebaseAuth"]}(),function(){"use strict";function e(e,t,r,a){function n(e){l(e).then(function(t){console.debug(t);var a=new Firebase(d),n=r(a.child("standings").child(e));n.$loaded().then(function(){t.forEach(function(e){n[e.key]=e.position}),n.$save()})})}function o(t){var a=e.defer(),n=new Firebase(d),o=r(n.child("contests").child(t).child("properties"));return a.resolve(o),a.promise}function i(t,r){{var a=e.defer();new Firebase(d)}return s(t).then(function(e){e.forEach(function(e){e.camelName===r&&a.resolve(e)})}),a.promise}function s(t){var r=e.defer(),n=new Firebase(d),o=a(n.child("contests").child(t).child("activeGames"));return o.$loaded().then(function(){r.resolve(o)}),r.promise}function l(r){var a=e.defer(),n={};return s(r).then(function(e){var r=e;r.forEach(function(e){if(e.scores){var r=$.map(e.scores,function(e){return e});r=t("orderBy")(r,"-score");for(var a=12,o=0;o<r.length;o++)n[r[o].userName]||(n[r[o].userName]={points:0}),n[r[o].userName].points+=a,a>0&&(a-=1)}}),n=t("orderObjectBy")(n,"points",!0);for(var o=!1,i=0,s=0;s<n.length;s++)if(n[s-1]&&n[s].points&&n[s-1].points)n[s].position=n[s].points===n[s-1].points?n[s-1].position:s+1;else if(0===s)n[s].position=1;else{if(!o){var l=n[s-1].points;n.forEach(function(e){e.points===l&&(i+=1)}),o=!0}n[s].position=n.length+1-i}a.resolve(n)}),a.promise}function c(t){var r=e.defer(),n=new Firebase(d),o=a(n.child("contests").child(t).child("scores"));return r.resolve(o),r.promise}function u(r,a,n){var o=e.defer(),i=[];return a.forEach(function(e){if(e.scores){var r=$.map(e.scores,function(e){return e});r=t("orderBy")(r,"-score");for(var a=12,o=0;o<r.length;o++){if(r[o].userName===n){var s=e;s.position=o+1,s.score=r[o].score,s.pointsEarned=a,s.inpUrl=r[o].inpUrl?r[o].inpUrl:null,s.twitchUrl=r[o].twitchUrl?r[o].twitchUrl:null,s.mameVersion=r[o].mameVersion?r[o].mameVersion:null,i.push(s),a=12;break}a>0&&(a-=1)}}}),o.resolve(i),o.promise}var d="https://wolfscontests.firebaseio.com";this.createMultiGameFinalStandings=n,this.getEventProperties=o,this.getGameData=i,this.getGamesList=s,this.getMultiGameLeaderboard=l,this.getSingleGameLeaderboard=c,this.getPlayerScores=u}angular.module("vg.app").service("eventService",e),e.$inject=["$q","$filter","$firebaseObject","$firebaseArray"]}(),function(){"use strict";function e(e,t,r,a,n,o,i){function s(){var e=new Firebase(l);c.eventProperties=o.getEventProperties(c.eventName),o.getGameData(c.eventName,c.gameName).then(function(t){c.gameData=t,c.gameScores=n(e.child("contests").child(c.eventName).child("activeGames").child(c.gameData.$id).child("scores")),console.debug(c.gameData),console.debug(c.gameScores)})}a(function(){angular.element("#contentView").css("opacity","1").css("position","inherit")},410);var l="https://wolfscontests.firebaseio.com",c=this;c.eventName=r.eventName,c.gameName=r.gameName,c.initGamePage=s}angular.module("vg.app").controller("EventGameController",e),e.$inject=["$scope","$filter","$stateParams","$timeout","$firebaseArray","eventService","authService"]}(),function(){"use strict";function e(e,t,r,a,n,o,i,s,l){function c(){angular.element("#gameModal").closeModal()}function u(){angular.element("#multiGameLeaderboardModal").closeModal()}function d(){angular.element("#playerModal").closeModal()}function m(e,r){var a;if(r>11)return a=0;a=12-r;var n=t("orderBy")(P.gameScores,"-score");return n[r-1]&&n[r-1].score===e.score&&(a+=1),a}function p(){P.gameList.forEach(function(e){if(e.scores){var r=$.map(e.scores,function(e){return e});r=t("orderBy")(r,"-score"),e.firstScore=r[0]}})}function f(e){angular.element("#playerModal").closeModal(),a.go("profile",{username:e})}function h(){i.getEventProperties(P.eventName).then(function(e){P.eventProperties=e,P.eventProperties.$loaded().then(function(){P.eventProperties.format.multiGame?(i.getGamesList(P.eventName).then(function(e){P.gameList=e,p()}),i.getMultiGameLeaderboard(P.eventName).then(function(e){var t=e;P.leaderboardLength=t.length,P.summarizedLeaderboard=t.slice(0,8)})):i.getSingleGameLeaderboard(P.eventName).then(function(e){var t=e;console.debug(t),P.leaderboardLength=t.length,P.summarizedLeaderboard=t,console.debug(P.summarizedLeaderboard)})})}),l.getAvatarData().then(function(e){P.avatarData=e})}function v(){angular.element("#badgesModal").openModal(),angular.element("#badgesModalContent").scrollTop(0)}function g(e){var t=new Firebase(M);i.getGameData(P.eventName,e).then(function(e){P.gameData=e,P.gameScores=o(t.child("contests").child(P.eventName).child("activeGames").child(P.gameData.$id).child("scores"))}),angular.element("#gameModal").openModal(),angular.element("#gameModalContent").scrollTop(0)}function w(){i.getMultiGameLeaderboard(P.eventName).then(function(e){P.completeLeaderboard=e}),angular.element("#multiGameLeaderboardModal").openModal(),angular.element("#multiGameLeaderboardModalContent").scrollTop(0)}function b(e){P.focusPlayer=e,i.getPlayerScores(P.eventName,P.gameList,P.focusPlayer).then(function(e){P.playerScores=e}),angular.element("#playerModal").openModal(),angular.element("#playerModalContent").scrollTop(0)}function A(e){d(),n(function(){g(e)},450)}function C(e){c(),n(function(){b(e)},450)}function E(e){u(),n(function(){b(e)},450)}function S(){angular.element("#rulesModal").openModal()}var M="https://wolfscontests.firebaseio.com",P=this;P.eventName=r.eventName,P.closeGameModal=c,P.closeMultiGameLeaderboardModal=u,P.closePlayerModal=d,P.determinePoints=m,P.getFirstPlaceScores=p,P.goToPlayerProfile=f,P.initEvent=h,P.openBadgesModal=v,P.openGameModal=g,P.openGameModalFromPlayerModal=A,P.openMultiGameLeaderboardModal=w,P.openPlayerModal=b,P.openPlayerModalFromGameModal=C,P.openPlayerModalFromLeaderboardModal=E,P.openRulesModal=S}angular.module("vg.app").controller("EventMainController",e),e.$inject=["$scope","$filter","$stateParams","$state","$timeout","$firebaseArray","eventService","authService","profileService"]}(),function(){"use strict";function e(){function e(e,t,r){}var r={bindToController:!0,controller:t,controllerAs:"vm",link:e,restrict:"E",templateUrl:"./app/eventComponents/gamesList.directive.htm",scope:{data:"=",openGameFunction:"="}};return r}function t(){}angular.module("vg.app").directive("vgGamesList",e)}(),function(){"use strict";function e(){function e(e,t,r){}var r={bindToController:!0,controller:t,controllerAs:"vm",link:e,restrict:"E",templateUrl:"./app/eventComponents/multiGameLeaderboard.directive.htm",scope:{data:"=",avatarData:"=",completeLength:"=",openPlayerFunction:"=",openLeaderboardFunction:"="}};return r}function t(){}angular.module("vg.app").directive("vgMultiGameLeaderboard",e)}(),function(){"use strict";function e(){function e(e,t,r){}var r={bindToController:!0,controller:t,controllerAs:"vm",link:e,restrict:"E",templateUrl:"./app/eventComponents/singleGameLeaderboard.directive.htm",scope:{data:"=",avatarData:"=",completeLength:"=",openLeaderboardFunction:"="}};return r}function t(){}angular.module("vg.app").directive("vgSingleGameLeaderboard",e)}(),function(){"use strict";function e(){function e(e,t,r){}var r={bindToController:!0,controller:t,controllerAs:"vm",link:e,restrict:"E",templateUrl:"./app/eventComponents/stickyMessage.directive.htm",scope:{properties:"="}};return r}function t(e){}angular.module("vg.app").directive("vgStickyMessage",e),t.$inject=["$timeout"]}(),function(){"use strict";function e(e,t,r,a,n){function o(){n.logOut(),r.location.reload()}e(function(){angular.element(".dropdown-button").dropdown({inDuration:300,outDuration:225,constrain_width:!1,hover:!1,gutter:-114,belowOrigin:!0})},400);var i=this;i.headerType=a.current.views.header.data.headerType,i.logOut=o}angular.module("vg.app").controller("HeaderController",e),e.$inject=["$timeout","$rootScope","$window","$state","authService"]}(),function(){"use strict";function e(){return function(e,t,r){var a=[];return angular.forEach(e,function(e,t){e.key=t,a.push(e)}),a.sort(function(e,r){return e[t]>r[t]?1:-1}),r&&a.reverse(),a}}angular.module("vg.app").filter("orderObjectBy",e)}(),function(){"use strict";function e(e,t,r,a,n,o,i){function s(){i.getAvatarData().then(function(e){c.avatarData=e}),a(function(){i.getBadgesData(e.profile.userName).then(function(e){c.badgesData=e})},500)}function l(){c.disableButton=!0,o.setAPIKey("Client-ID f53d6d5833b07bc"),o.upload(c.file).then(function(r){i.saveAvatarLink(r[0].link,e.profile.userName),Materialize.toast("Your avatar was uploaded",4e3),a(function(){t.go("index")},1e3)})}var c=this;c.initAvatar=s,c.uploadAvatar=l}angular.module("vg.app").controller("AvatarController",e),e.$inject=["$rootScope","$state","$stateParams","$timeout","Upload","imgur","profileService"]}(),function(){"use strict";function e(e,t){t(function(){angular.element("#contentView").css("opacity","1").css("position","inherit")},310)}angular.module("vg.app").controller("HomeController",e),e.$inject=["$scope","$timeout"]}(),function(){"use strict";function e(e,t,r,a){function n(){var t=e.defer(),a=new Firebase(o),n=r(a.child("badges"));return n.$loaded(function(){t.resolve(n)}),t.promise}var o="https://wolfscontests.firebaseio.com",i=this;t(function(){angular.element("#contentView").css("opacity","1").css("position","inherit")},310),n().then(function(e){i.profileScoreData=e}),a.getAvatarData().then(function(e){i.avatarData=e})}angular.module("vg.app").controller("LeaderboardController",e),e.$inject=["$q","$timeout","$firebaseArray","profileService"]}(),function(){"use strict";function e(e,t,r,a){function n(){e.pwChangeForm.$valid&&a.$changePassword({email:a.$getAuth().password.email,oldPassword:o.inputCurrentPassword,newPassword:o.inputNewPassword}).then(function(){Materialize.toast("Your password was changed.",4e3),t(function(){r.go("index")},1e3)})["catch"](function(e){"INVALID_PASSWORD"===e.code&&(o.showChangePasswordMessage=!0)})}var o=this;t(function(){angular.element("#contentView").css("opacity","1").css("position","inherit")},310),o.submitChangePassword=n}angular.module("vg.app").controller("PasswordChangeController",e),e.$inject=["$scope","$timeout","$state","AuthWrapper"]}(),function(){"use strict";function e(e,t,r,a,n,o,i,s,l){function c(){s.getUserData(t.username).then(function(e){u.profileData=e,s.getTournamentHistory(u.profileData).then(function(e){var r=e;u.eventStandings=s.getTournamentStandings(r,t.username)})}),s.getAvatarData().then(function(e){u.avatarData=e}),s.getBadgesData(t.username).then(function(e){u.badgesData=e})}a(function(){angular.element("#contentView").css("opacity","1").css("position","inherit"),$(".collapsible").collapsible({accordion:!0})},410);var u=this;u.initProfile=c}angular.module("vg.app").controller("ProfileController",e),e.$inject=["$scope","$stateParams","$q","$timeout","$state","$firebaseArray","authService","profileService","eventService"]}(),function(){"use strict";function e(e,t,r,a,n){function o(){var e=t.defer(),r=new Firebase(d),n=a(r.child("avatars"));return n.$loaded(function(){e.resolve(n)}),e.promise}function i(e){var r=t.defer(),n=new Firebase(d),o=a(n.child("badges").child(e));return o.$loaded(function(){r.resolve(o)}),r.promise}function s(e){var r=t.defer(),a=(new Firebase(d),[]);for(var n in e.pledgedTo)a.push(n);return r.resolve(a),r.promise}function l(e,t){var r=new Firebase(d),o=[];return e.forEach(function(e){n.getEventProperties(e).then(function(n){n.$loaded().then(function(){if("concluded"===n.state){var i=a(r.child("standings").child(e));i.$loaded().then(function(){o.push(i[t]?{name:n.name,premier:n.premier?!0:null,shortName:e,state:"concluded",color:n.color,position:i[t]}:{name:n.name,premier:n.premier?!0:null,shortName:e,state:"concluded",color:n.color,position:-1})})}else("inprogress"===n.state||"upcoming"===n.state)&&o.push({name:n.name,premier:n.premier?!0:null,shortName:e,color:n.color,state:n.state})})})}),o}function c(e){var a=t.defer(),n=new Firebase(d),o=r(n.child("users"));return o.$loaded(function(){o.forEach(function(t){t.userName===e&&a.resolve(t)})}),a.promise}function u(e,t){var r=new Firebase(d),n=a(r.child("avatars"));n.$loaded(function(){n[t]=e,n.$save()})}var d="https://wolfscontests.firebaseio.com";this.getAvatarData=o,this.getBadgesData=i,this.getTournamentHistory=s,this.getTournamentStandings=l,this.getUserData=c,this.saveAvatarLink=u}angular.module("vg.app").service("profileService",e),e.$inject=["$rootScope","$q","$firebaseArray","$firebaseObject","eventService"]}(),function(){"use strict";function e(e,t,r,a,n,o,i,s){function l(){i.loginToAccount(d.loginEmail,d.loginPassword).then(function(e){if(d.showInvalidUserError=!1,d.showInvalidPasswordError=!1,"LOGIN_SUCCESS"===e)n.go("index");else{if("INVALID_USER"===e)return void(d.showInvalidUserError=!0);"INVALID_PASSWORD"===e&&(d.showInvalidPasswordError=!0)}})}function c(){return d.loginEmail?void s.$resetPassword({email:d.loginEmail}).then(function(){d.showPasswordResetEmailMessage=!1,Materialize.toast("A password reset email has been sent to "+d.loginEmail+".",4e3)}):void(d.showPasswordResetEmailMessage=!0)}function u(){i.checkIfUserExists(d.newUsername).then(function(e){return d.showDuplicateUserError=!1,d.showEmailTakenError=!1,e?void(d.showDuplicateUserError=!0):void i.createNewUser(d.newEmail,d.newPassword,d.newUsername).then(function(e){return"EMAIL_TAKEN"===e?void(d.showEmailTakenError=!0):void("ACCOUNT_CREATED"===e&&n.go("profile",{username:d.newUsername}))})})}r(function(){angular.element("#contentView").css("opacity","1").css("position","inherit")},410);var d=this;d.loginToAccount=l,d.passwordReset=c,d.submitNewAccount=u}angular.module("vg.app").controller("RegController",e),e.$inject=["$scope","$rootScope","$timeout","$window","$state","$firebaseObject","authService","AuthWrapper"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJhcHAuY29uZmlnLmpzIiwiYXBwLm1pbi5qcyIsImFwcC5ydW4uanMiLCJhdXRoL2F1dGguc2VydmljZS5qcyIsImF1dGgvYXV0aHdyYXBwZXIuZmFjdG9yeS5qcyIsImV2ZW50L2V2ZW50LnNlcnZpY2UuanMiLCJldmVudC9nYW1lLmNvbnRyb2xsZXIuanMiLCJldmVudC9tYWluLmNvbnRyb2xsZXIuanMiLCJldmVudENvbXBvbmVudHMvZ2FtZXNMaXN0LmRpcmVjdGl2ZS5qcyIsImV2ZW50Q29tcG9uZW50cy9tdWx0aUdhbWVMZWFkZXJib2FyZC5kaXJlY3RpdmUuanMiLCJldmVudENvbXBvbmVudHMvc2luZ2xlR2FtZUxlYWRlcmJvYXJkLmRpcmVjdGl2ZS5qcyIsImV2ZW50Q29tcG9uZW50cy9zdGlja3lNZXNzYWdlLmRpcmVjdGl2ZS5qcyIsImhlYWRlci9oZWFkZXIuY29udHJvbGxlci5qcyIsImhlbHBlcnMvb3JkZXJPYmplY3RCeS5maWx0ZXIuanMiLCJob21lL2F2YXRhci5jb250cm9sbGVyLmpzIiwiaG9tZS9ob21lLmNvbnRyb2xsZXIuanMiLCJob21lL2xlYWRlcmJvYXJkLmNvbnRyb2xsZXIuanMiLCJob21lL3Bhc3N3b3JkQ2hhbmdlLmNvbnRyb2xsZXIuanMiLCJob21lL3Byb2ZpbGUuY29udHJvbGxlci5qcyIsImhvbWUvcHJvZmlsZS5zZXJ2aWNlLmpzIiwiaG9tZS9yZWcuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwiaGVhZGVyIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiZGF0YSIsImhlYWRlclR5cGUiLCJjb250ZW50IiwicmVzb2x2ZSIsImN1cnJlbnRBdXRoIiwiQXV0aFdyYXBwZXIiLCIkcmVxdWlyZUF1dGgiLCIkaW5qZWN0IiwicnVuIiwiJHJvb3RTY29wZSIsIiRsb2NhdGlvbiIsIiRzdGF0ZSIsIiRmaXJlYmFzZU9iamVjdCIsIiRvbiIsImV2ZW50IiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbVN0YXRlIiwiZnJvbVBhcmFtcyIsImVycm9yIiwiZ28iLCIkZ2V0QXV0aCIsImF1dGhEYXRhIiwicmVmIiwiRmlyZWJhc2UiLCJwcm9maWxlRGF0YSIsImNoaWxkIiwidWlkIiwiJGJpbmRUbyIsInRoZW4iLCJ1bmJpbmQiLCJ1bmJpbmRGdW5jdGlvbiIsImF1dGhTZXJ2aWNlIiwiJHEiLCJjaGVja0lmVXNlckV4aXN0cyIsImlucHV0VXNlcm5hbWUiLCJkZWZlcnJlZCIsImRlZmVyIiwiZG9lc1VzZXJFeGlzdCIsInVzZXJzUmVmIiwiRkJVUkwiLCJvbmNlIiwiZGF0YVNuYXBzaG90IiwiZm9yRWFjaCIsInVzZXIiLCJ2YWwiLCJ1c2VyTmFtZSIsInByb21pc2UiLCJjcmVhdGVOZXdVc2VyIiwiaW5wdXRFbWFpbCIsImlucHV0UGFzc3dvcmQiLCIkY3JlYXRlVXNlciIsImVtYWlsIiwicGFzc3dvcmQiLCJ1c2VyRGF0YSIsInNldCIsInJvbGUiLCJlcnJvckRhdGEiLCJjb25zb2xlIiwiY29kZSIsIiRhdXRoV2l0aFBhc3N3b3JkIiwibG9naW5Ub0FjY291bnQiLCJsb2dPdXQiLCIkdW5hdXRoIiwidGhpcyIsInNlcnZpY2UiLCIkZmlyZWJhc2VBdXRoIiwiZmFjdG9yeSIsImV2ZW50U2VydmljZSIsIiRmaWx0ZXIiLCIkZmlyZWJhc2VBcnJheSIsImNyZWF0ZU11bHRpR2FtZUZpbmFsU3RhbmRpbmdzIiwiaW5wdXRFdmVudCIsImdldE11bHRpR2FtZUxlYWRlcmJvYXJkIiwicHJvbWlzZVJlc29sdXRpb24iLCJkZWJ1ZyIsImlucHV0RXZlbnRTdGFuZGluZ3MiLCIkbG9hZGVkIiwic3RhbmRpbmciLCJrZXkiLCJwb3NpdGlvbiIsIiRzYXZlIiwiZ2V0RXZlbnRQcm9wZXJ0aWVzIiwiZXZlbnRQcm9wZXJ0aWVzIiwiZ2V0R2FtZURhdGEiLCJpbnB1dEdhbWUiLCJnZXRHYW1lc0xpc3QiLCJnYW1lc0xpc3QiLCJnYW1lIiwiY2FtZWxOYW1lIiwicGxheWVyUG9pbnRzIiwic2NvcmVzIiwic2NvcmVzQXJyYXkiLCIkIiwibWFwIiwiZWwiLCJ0b3RhbEF3YXJkIiwiaSIsImxlbmd0aCIsInBvaW50cyIsImhhdmVCb3R0b21TY29yZXJzRmxvb3IiLCJmbG9vclJhbmdlIiwiZ2V0U2NvcmVDb3VudE9mIiwicG9pbnRzRGF0YSIsImdldFNpbmdsZUdhbWVMZWFkZXJib2FyZCIsImxlYWRlcmJvYXJkRGF0YSIsImdldFBsYXllclNjb3JlcyIsImlucHV0R2FtZXNMaXN0IiwiaW5wdXRQbGF5ZXIiLCJkaXNwbGF5U2NvcmVzIiwibmV3U2NvcmVPYmplY3QiLCJzY29yZSIsInBvaW50c0Vhcm5lZCIsImlucFVybCIsInR3aXRjaFVybCIsIm1hbWVWZXJzaW9uIiwicHVzaCIsIkV2ZW50R2FtZUNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkc3RhdGVQYXJhbXMiLCIkdGltZW91dCIsImluaXRHYW1lUGFnZSIsInZtIiwiZXZlbnROYW1lIiwiZ2FtZU5hbWUiLCJnYW1lRGF0YSIsImdhbWVTY29yZXMiLCIkaWQiLCJlbGVtZW50IiwiY3NzIiwiRXZlbnRNYWluQ29udHJvbGxlciIsInByb2ZpbGVTZXJ2aWNlIiwiY2xvc2VHYW1lTW9kYWwiLCJjbG9zZU1vZGFsIiwiY2xvc2VNdWx0aUdhbWVMZWFkZXJib2FyZE1vZGFsIiwiY2xvc2VQbGF5ZXJNb2RhbCIsImRldGVybWluZVBvaW50cyIsImlucHV0U2NvcmVEYXRhIiwiaW5wdXRJbmRleCIsInVzZXJHYW1lUG9pbnRzIiwic29ydGVkU2NvcmVzIiwiZ2V0Rmlyc3RQbGFjZVNjb3JlcyIsImdhbWVMaXN0IiwiZmlyc3RTY29yZSIsImdvVG9QbGF5ZXJQcm9maWxlIiwidXNlcm5hbWUiLCJpbml0RXZlbnQiLCJmb3JtYXQiLCJtdWx0aUdhbWUiLCJsZWFkZXJib2FyZCIsImxlYWRlcmJvYXJkTGVuZ3RoIiwic3VtbWFyaXplZExlYWRlcmJvYXJkIiwic2xpY2UiLCJnZXRBdmF0YXJEYXRhIiwiYXZhdGFyRGF0YSIsIm9wZW5CYWRnZXNNb2RhbCIsIm9wZW5Nb2RhbCIsInNjcm9sbFRvcCIsIm9wZW5HYW1lTW9kYWwiLCJpbnB1dEdhbWVOYW1lIiwib3Blbk11bHRpR2FtZUxlYWRlcmJvYXJkTW9kYWwiLCJjb21wbGV0ZUxlYWRlcmJvYXJkIiwib3BlblBsYXllck1vZGFsIiwiZm9jdXNQbGF5ZXIiLCJwbGF5ZXJTY29yZXMiLCJvcGVuR2FtZU1vZGFsRnJvbVBsYXllck1vZGFsIiwib3BlblBsYXllck1vZGFsRnJvbUdhbWVNb2RhbCIsIm9wZW5QbGF5ZXJNb2RhbEZyb21MZWFkZXJib2FyZE1vZGFsIiwib3BlblJ1bGVzTW9kYWwiLCJ2Z0dhbWVzTGlzdCIsImxpbmsiLCJzY29wZSIsImF0dHJzIiwiZGlyZWN0aXZlIiwiYmluZFRvQ29udHJvbGxlciIsIkdhbWVzTGlzdENvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJyZXN0cmljdCIsIm9wZW5HYW1lRnVuY3Rpb24iLCJ2Z011bHRpR2FtZUxlYWRlcmJvYXJkIiwiTXVsdGlHYW1lTGVhZGVyYm9hcmRDb250cm9sbGVyIiwiY29tcGxldGVMZW5ndGgiLCJvcGVuUGxheWVyRnVuY3Rpb24iLCJvcGVuTGVhZGVyYm9hcmRGdW5jdGlvbiIsInZnU2luZ2xlR2FtZUxlYWRlcmJvYXJkIiwiU2luZ2xlR2FtZUxlYWRlcmJvYXJkQ29udHJvbGxlciIsInZnU3RpY2t5TWVzc2FnZSIsIlN0aWNreU1lc3NhZ2VDb250cm9sbGVyIiwicHJvcGVydGllcyIsIkhlYWRlckNvbnRyb2xsZXIiLCIkd2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJkcm9wZG93biIsImluRHVyYXRpb24iLCJvdXREdXJhdGlvbiIsImNvbnN0cmFpbl93aWR0aCIsImhvdmVyIiwiZ3V0dGVyIiwiYmVsb3dPcmlnaW4iLCJjdXJyZW50Iiwib3JkZXJPYmplY3RCeSIsIml0ZW1zIiwiZmllbGQiLCJyZXZlcnNlIiwiZmlsdGVyZWQiLCJpdGVtIiwic29ydCIsImEiLCJiIiwiZmlsdGVyIiwiQXZhdGFyQ29udHJvbGxlciIsIlVwbG9hZCIsImltZ3VyIiwiaW5pdEF2YXRhciIsIm1vZGVsIiwiZ2V0QmFkZ2VzRGF0YSIsInByb2ZpbGUiLCJiYWRnZXNEYXRhIiwidXBsb2FkQXZhdGFyIiwiZGlzYWJsZUJ1dHRvbiIsInNldEFQSUtleSIsInVwbG9hZCIsImZpbGUiLCJzYXZlQXZhdGFyTGluayIsIk1hdGVyaWFsaXplIiwidG9hc3QiLCJIb21lQ29udHJvbGxlciIsIkxlYWRlcmJvYXJkQ29udHJvbGxlciIsImdldFByb2ZpbGVTY29yZXMiLCJwcm9maWxlU2NvcmVEYXRhIiwiUGFzc3dvcmRDaGFuZ2VDb250cm9sbGVyIiwic3VibWl0Q2hhbmdlUGFzc3dvcmQiLCJwd0NoYW5nZUZvcm0iLCIkdmFsaWQiLCIkY2hhbmdlUGFzc3dvcmQiLCJvbGRQYXNzd29yZCIsImlucHV0Q3VycmVudFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJpbnB1dE5ld1Bhc3N3b3JkIiwic2hvd0NoYW5nZVBhc3N3b3JkTWVzc2FnZSIsIlByb2ZpbGVDb250cm9sbGVyIiwiaW5pdFByb2ZpbGUiLCJnZXRVc2VyRGF0YSIsImdldFRvdXJuYW1lbnRIaXN0b3J5IiwidG91cm5hbWVudEhpc3RvcnlEYXRhIiwiZXZlbnRTdGFuZGluZ3MiLCJnZXRUb3VybmFtZW50U3RhbmRpbmdzIiwiY29sbGFwc2libGUiLCJhY2NvcmRpb24iLCJpbnB1dFVzZXIiLCJpbnB1dFVzZXJEYXRhIiwiZXZlbnRzQXJyYXkiLCJwbGVkZ2VkVG8iLCJpbnB1dFRvdXJuYW1lbnRIaXN0b3J5IiwiZXZlbnRTdGFuZGluZ0RhdGEiLCJuYW1lIiwicHJlbWllciIsInNob3J0TmFtZSIsImNvbG9yIiwidXNlcnNEYXRhIiwiaW5wdXRMaW5rIiwiUmVnQ29udHJvbGxlciIsImxvZ2luRW1haWwiLCJsb2dpblBhc3N3b3JkIiwic2hvd0ludmFsaWRVc2VyRXJyb3IiLCJzaG93SW52YWxpZFBhc3N3b3JkRXJyb3IiLCJwYXNzd29yZFJlc2V0IiwiJHJlc2V0UGFzc3dvcmQiLCJzaG93UGFzc3dvcmRSZXNldEVtYWlsTWVzc2FnZSIsInN1Ym1pdE5ld0FjY291bnQiLCJuZXdVc2VybmFtZSIsInVzZXJFeGlzdHMiLCJzaG93RHVwbGljYXRlVXNlckVycm9yIiwic2hvd0VtYWlsVGFrZW5FcnJvciIsIm5ld0VtYWlsIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLFlBRUFBLFNBQ0FDLE9BQUEsVUFFQSxZQUdBLFlBQ0EsV0FDQSxtQkFDQSxVQUNBLGVBQ0EsZUNkQSxXQUNBLFlBT0EsU0FBQUMsR0FBQUMsRUFBQUMsR0FHQUEsRUFBQUMsVUFBQSxLQUVBRixFQUNBRyxNQUFBLFNBQ0FDLElBQUEsSUFFQUMsT0FDQUMsUUFDQUMsWUFBQSw0QkFDQUMsV0FBQSw2QkFDQUMsTUFDQUMsV0FBQSxTQUdBQyxTQUNBSixZQUFBLG9CQUNBQyxXQUFBLDZCQUtBTCxNQUFBLG1CQUNBQyxJQUFBLG1CQUVBQyxPQUNBQyxRQUNBQyxZQUFBLDZCQUNBQyxXQUFBLDZCQUNBQyxNQUNBQyxXQUFBLFNBR0FDLFNBQ0FKLFlBQUEsb0JBQ0FDLFdBQUEsMkJBS0FMLE1BQUEsV0FDQUMsSUFBQSxxQkFFQUMsT0FDQUMsUUFDQUMsWUFBQSw2QkFDQUMsV0FBQSw2QkFDQUMsTUFDQUMsV0FBQSxTQUdBQyxTQUNBSixZQUFBLHdCQUNBQyxXQUFBLG1DQUtBTCxNQUFBLGVBQ0FDLElBQUEsZUFFQUMsT0FDQUMsUUFDQUMsWUFBQSw2QkFDQUMsV0FBQSw2QkFDQUMsTUFDQUMsV0FBQSxTQUdBQyxTQUNBSixZQUFBLDRCQUNBQyxXQUFBLDJDQUtBTCxNQUFBLGFBQ0FDLElBQUEseUJBRUFDLE9BQ0FDLFFBQ0FDLFlBQUEsNkJBQ0FDLFdBQUEsNkJBQ0FDLE1BQ0FDLFdBQUEsU0FHQUMsU0FDQUosWUFBQSxzQkFDQUMsV0FBQSxtQ0FLQUwsTUFBQSxtQkFD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QTFPLEtBQUEsV0FDQTZGLEVBQUFtSiwrQkFBQSxFQUNBNUMsWUFBQUMsTUFBQSwyQ0FBQXhHLEVBQUE2SSxXQUFBLElBQUEsWUFSQTdJLEVBQUFtSiwrQkFBQSxHQWFBLFFBQUFDLEtBR0E5TyxFQUFBRSxrQkFBQXdGLEVBQUFxSixhQUFBbFAsS0FBQSxTQUFBbVAsR0FLQSxNQUhBdEosR0FBQXVKLHdCQUFBLEVBQ0F2SixFQUFBd0oscUJBQUEsRUFFQUYsT0FFQXRKLEVBQUF1Six3QkFBQSxPQU1BalAsR0FBQWdCLGNBQUEwRSxFQUFBeUosU0FBQXpKLEVBQUFvSCxZQUFBcEgsRUFBQXFKLGFBQUFsUCxLQUFBLFNBQUE2QyxHQUVBLE1BQUEsZ0JBQUFBLE9BRUFnRCxFQUFBd0oscUJBQUEsUUFHQSxvQkFBQXhNLEdBRUEvRCxFQUFBUyxHQUFBLFdBQUE2SCxTQUFBdkIsRUFBQXFKLG1CQTlFQXZKLEVBQUEsV0FDQXBJLFFBQUE0SSxRQUFBLGdCQUNBQyxJQUFBLFVBQUEsS0FDQUEsSUFBQSxXQUFBLFlBQ0EsSUFFQSxJQUNBUCxHQUFBMUQsSUFFQTBELEdBQUE3RCxlQUFBQSxFQUNBNkQsRUFBQWlKLGNBQUFBLEVBQ0FqSixFQUFBb0osaUJBQUFBLEVBbEJBMVIsUUFDQUMsT0FBQSxVQUNBVSxXQUFBLGdCQUFBdVEsR25CeWxESUEsRUFBYy9QLFNBQVcsU0FBVSxhQUFjLFdBQVksVUFBVyxTQUFVLGtCQUFtQixjQUFlIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCd2Zy5hcHAnLCBbXG4gICAgICAgICAgICAvKiBBbmd1bGFyIG1vZHVsZXMgKi9cbiAgICAgICAgICAgICduZ0FuaW1hdGUnLFxuICAgICAgICAgICAgLyogQXBwIG1vZHVsZXMgKi9cbiAgICAgICAgICAgIC8qIFRoaXJkLXBhcnR5IG1vZHVsZXMgKi9cbiAgICAgICAgICAgICd1aS5yb3V0ZXInLFxuICAgICAgICAgICAgJ2ZpcmViYXNlJyxcbiAgICAgICAgICAgICd2YWxpZGF0aW9uLm1hdGNoJyxcbiAgICAgICAgICAgICdvcmRpbmFsJyxcbiAgICAgICAgICAgICduZ0ZpbGVVcGxvYWQnLFxuICAgICAgICAgICAgJ25nSW1ndXInXG4gICAgICAgIF0pO1xufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyXG5cdFx0Lm1vZHVsZSgndmcuYXBwJylcblx0XHQuY29uZmlnKGNvbmZpZyk7XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XG5cblx0XHQvLyBSZWRpcmVjdCBhbnkgdW5tYXRjaGVkIFVSTCB0byAvLlxuXHRcdCR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0ICAgIC5zdGF0ZSgnaW5kZXgnLCB7XG5cdFx0ICAgIFx0dXJsOiAnLycsXG5cblx0XHQgICAgXHR2aWV3czoge1xuXHRcdCAgICBcdFx0J2hlYWRlcic6IHtcblx0XHQgICAgXHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvaGVhZGVyL2hvbWVIZWFkZXIuaHRtJyxcblx0XHQgICAgXHRcdFx0Y29udHJvbGxlcjogJ0hlYWRlckNvbnRyb2xsZXIgYXMgaGVhZGVyJyxcblx0XHQgICAgXHRcdFx0ZGF0YToge1xuXHRcdCAgICBcdFx0XHRcdGhlYWRlclR5cGU6ICd0YWxsJ1xuXHRcdCAgICBcdFx0XHR9XG5cdFx0ICAgIFx0XHR9LFxuXHRcdCAgICBcdFx0J2NvbnRlbnQnOiB7XG5cdFx0ICAgIFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL2hvbWUvaG9tZS5odG0nLFxuXHRcdCAgICBcdFx0XHRjb250cm9sbGVyOiAnSG9tZUNvbnRyb2xsZXIgYXMgaG9tZSdcblx0XHQgICAgXHRcdH1cblx0XHQgICAgXHR9XG5cdFx0ICAgIH0pXG5cblx0XHQgICAgLnN0YXRlKCdyZWdpc3Rlck9yTG9naW4nLCB7XG5cdFx0ICAgIFx0dXJsOiAnL3JlZ2lzdGVyT3JMb2dpbicsXG5cblx0XHQgICAgXHR2aWV3czoge1xuXHRcdCAgICBcdFx0J2hlYWRlcic6IHtcblx0XHQgICAgXHRcdFx0dGVtcGxhdGVVcmw6ICcvYXBwL2hlYWRlci9ob21lSGVhZGVyLmh0bScsXG5cdFx0ICAgIFx0XHRcdGNvbnRyb2xsZXI6ICdIZWFkZXJDb250cm9sbGVyIGFzIGhlYWRlcicsXG5cdFx0ICAgIFx0XHRcdGRhdGE6IHtcblx0XHQgICAgXHRcdFx0XHRoZWFkZXJUeXBlOiAndGFsbCdcblx0XHQgICAgXHRcdFx0fVxuXHRcdCAgICBcdFx0fSxcblx0XHQgICAgXHRcdCdjb250ZW50Jzoge1xuXHRcdCAgICBcdFx0XHR0ZW1wbGF0ZVVybDogJy9hcHAvaG9tZS9yZWcuaHRtJyxcblx0XHQgICAgXHRcdFx0Y29udHJvbGxlcjogJ1JlZ0NvbnRyb2xsZXIgYXMgcmVnJ1xuXHRcdCAgICBcdFx0fVxuXHRcdCAgICBcdH1cblx0XHQgICAgfSlcblxuXHRcdCAgICAuc3RhdGUoJ3Byb2ZpbGUnLCB7XG5cdFx0ICAgIFx0dXJsOiAnL3Byb2ZpbGUvOnVzZXJuYW1lJyxcblxuXHRcdCAgICBcdHZpZXdzOiB7XG5cdFx0ICAgIFx0XHQnaGVhZGVyJzoge1xuXHRcdCAgICBcdFx0XHR0ZW1wbGF0ZVVybDogJy9hcHAvaGVhZGVyL2hvbWVIZWFkZXIuaHRtJyxcblx0XHQgICAgXHRcdFx0Y29udHJvbGxlcjogJ0hlYWRlckNvbnRyb2xsZXIgYXMgaGVhZGVyJyxcblx0XHQgICAgXHRcdFx0ZGF0YToge1xuXHRcdCAgICBcdFx0XHRcdGhlYWRlclR5cGU6ICd0YWxsJ1xuXHRcdCAgICBcdFx0XHR9XG5cdFx0ICAgIFx0XHR9LFxuXHRcdCAgICBcdFx0J2NvbnRlbnQnOiB7XG5cdFx0ICAgIFx0XHRcdHRlbXBsYXRlVXJsOiAnL2FwcC9ob21lL3Byb2ZpbGUuaHRtJyxcblx0XHQgICAgXHRcdFx0Y29udHJvbGxlcjogJ1Byb2ZpbGVDb250cm9sbGVyIGFzIHByb2ZpbGUnXG5cdFx0ICAgIFx0XHR9XG5cdFx0ICAgIFx0fVxuXHRcdCAgICB9KVxuXG5cdFx0ICAgIC5zdGF0ZSgnbGVhZGVyYm9hcmQnLCB7XG5cdFx0ICAgIFx0dXJsOiAnL2xlYWRlcmJvYXJkJyxcblxuXHRcdCAgICBcdHZpZXdzOiB7XG5cdFx0ICAgIFx0XHQnaGVhZGVyJzoge1xuXHRcdCAgICBcdFx0XHR0ZW1wbGF0ZVVybDogJy9hcHAvaGVhZGVyL2hvbWVIZWFkZXIuaHRtJyxcblx0XHQgICAgXHRcdFx0Y29udHJvbGxlcjogJ0hlYWRlckNvbnRyb2xsZXIgYXMgaGVhZGVyJyxcblx0XHQgICAgXHRcdFx0ZGF0YToge1xuXHRcdCAgICBcdFx0XHRcdGhlYWRlclR5cGU6ICd0YWxsJ1xuXHRcdCAgICBcdFx0XHR9XG5cdFx0ICAgIFx0XHR9LFxuXHRcdCAgICBcdFx0J2NvbnRlbnQnOiB7XG5cdFx0ICAgIFx0XHRcdHRlbXBsYXRlVXJsOiAnL2FwcC9ob21lL2xlYWRlcmJvYXJkLmh0bScsXG5cdFx0ICAgIFx0XHRcdGNvbnRyb2xsZXI6ICdMZWFkZXJib2FyZENvbnRyb2xsZXIgYXMgbGVhZGVyYm9hcmQnXG5cdFx0ICAgIFx0XHR9XG5cdFx0ICAgIFx0fVxuXHRcdCAgICB9KVxuXG5cdFx0ICAgIC5zdGF0ZSgnZXZlbnRNYWluJywge1xuXHRcdCAgICBcdHVybDogJy9ldmVudC86ZXZlbnROYW1lL21haW4nLFxuXG5cdFx0ICAgIFx0dmlld3M6IHtcblx0XHQgICAgXHRcdCdoZWFkZXInOiB7XG5cdFx0ICAgIFx0XHRcdHRlbXBsYXRlVXJsOiAnL2FwcC9oZWFkZXIvaG9tZUhlYWRlci5odG0nLFxuXHRcdCAgICBcdFx0XHRjb250cm9sbGVyOiAnSGVhZGVyQ29udHJvbGxlciBhcyBoZWFkZXInLFxuXHRcdCAgICBcdFx0XHRkYXRhOiB7XG5cdFx0ICAgIFx0XHRcdFx0aGVhZGVyVHlwZTogJ3RhbGwnXG5cdFx0ICAgIFx0XHRcdH1cblx0XHQgICAgXHRcdH0sXG5cdFx0ICAgIFx0XHQnY29udGVudCc6IHtcblx0XHQgICAgXHRcdFx0dGVtcGxhdGVVcmw6ICcvYXBwL2V2ZW50L21haW4uaHRtJyxcblx0XHQgICAgXHRcdFx0Y29udHJvbGxlcjogJ0V2ZW50TWFpbkNvbnRyb2xsZXIgYXMgZXZlbnQnXG5cdFx0ICAgIFx0XHR9XG5cdFx0ICAgIFx0fVxuXHRcdCAgICB9KVxuXG5cdFx0ICAgIC5zdGF0ZSgnY3VzdG9taXplQXZhdGFyJywge1xuXHRcdCAgICBcdHVybDogJy9jdXN0b21pemVBdmF0YXInLFxuXG5cdFx0ICAgIFx0dmlld3M6IHtcblx0XHQgICAgXHRcdCdoZWFkZXInOiB7XG5cdFx0ICAgIFx0XHRcdHRlbXBsYXRlVXJsOiAnL2FwcC9oZWFkZXIvaG9tZUhlYWRlci5odG0nLFxuXHRcdCAgICBcdFx0XHRjb250cm9sbGVyOiAnSGVhZGVyQ29udHJvbGxlciBhcyBoZWFkZXInLFxuXHRcdCAgICBcdFx0XHRkYXRhOiB7XG5cdFx0ICAgIFx0XHRcdFx0aGVhZGVyVHlwZTogJ3RhbGwnXG5cdFx0ICAgIFx0XHRcdH1cblx0XHQgICAgXHRcdH0sXG5cdFx0ICAgIFx0XHQnY29udGVudCc6IHtcblx0XHQgICAgXHRcdFx0dGVtcGxhdGVVcmw6ICcvYXBwL2hvbWUvYXZhdGFyLmh0bScsXG5cdFx0ICAgIFx0XHRcdGNvbnRyb2xsZXI6ICdBdmF0YXJDb250cm9sbGVyIGFzIGF2YXRhcidcblx0XHQgICAgXHRcdH1cblx0XHQgICAgXHR9LFxuXG5cdFx0ICAgIFx0cmVzb2x2ZToge1xuXHRcdCAgICBcdFx0J2N1cnJlbnRBdXRoJzogWydBdXRoV3JhcHBlcicsIGZ1bmN0aW9uKEF1dGhXcmFwcGVyKSB7XG5cdFx0ICAgIFx0XHRcdHJldHVybiBBdXRoV3JhcHBlci4kcmVxdWlyZUF1dGgoKTtcblx0XHQgICAgXHRcdH1dXG5cdFx0ICAgIFx0fVxuXHRcdCAgICB9KVxuXG5cdFx0ICAgIC5zdGF0ZSgncGFzc3dvcmRDaGFuZ2UnLCB7XG5cdFx0ICAgIFx0dXJsOiAnL3Bhc3N3b3JkQ2hhbmdlJyxcblxuXHRcdCAgICBcdHZpZXdzOiB7XG5cdFx0ICAgIFx0XHQnaGVhZGVyJzoge1xuXHRcdCAgICBcdFx0XHR0ZW1wbGF0ZVVybDogJy9hcHAvaGVhZGVyL2hvbWVIZWFkZXIuaHRtJyxcblx0XHQgICAgXHRcdFx0Y29udHJvbGxlcjogJ0hlYWRlckNvbnRyb2xsZXIgYXMgaGVhZGVyJyxcblx0XHQgICAgXHRcdFx0ZGF0YToge1xuXHRcdCAgICBcdFx0XHRcdGhlYWRlclR5cGU6ICd0YWxsJ1xuXHRcdCAgICBcdFx0XHR9XG5cdFx0ICAgIFx0XHR9LFxuXHRcdCAgICBcdFx0J2NvbnRlbnQnOiB7XG5cdFx0ICAgIFx0XHRcdHRlbXBsYXRlVXJsOiAnL2FwcC9ob21lL3Bhc3N3b3JkQ2hhbmdlLmh0bScsXG5cdFx0ICAgIFx0XHRcdGNvbnRyb2xsZXI6ICdQYXNzd29yZENoYW5nZUNvbnRyb2xsZXIgYXMgcHdjaGFuZ2UnXG5cdFx0ICAgIFx0XHR9XG5cdFx0ICAgIFx0fSxcblxuXHRcdCAgICBcdHJlc29sdmU6IHtcblx0XHQgICAgXHRcdCdjdXJyZW50QXV0aCc6IFsnQXV0aFdyYXBwZXInLCBmdW5jdGlvbihBdXRoV3JhcHBlcikge1xuXHRcdCAgICBcdFx0XHRyZXR1cm4gQXV0aFdyYXBwZXIuJHJlcXVpcmVBdXRoKCk7XG5cdFx0ICAgIFx0XHR9XVxuXHRcdCAgICBcdH1cblx0XHQgICAgfSlcblxuXHRcdCAgICAuc3RhdGUoJ2V2ZW50R2FtZScsIHtcblx0XHQgICAgXHR1cmw6ICcvZXZlbnQvOmV2ZW50TmFtZS9nYW1lLzpnYW1lTmFtZScsXG5cblx0XHQgICAgXHR2aWV3czoge1xuXHRcdCAgICBcdFx0J2hlYWRlcic6IHtcblx0XHQgICAgXHRcdFx0dGVtcGxhdGVVcmw6ICcvYXBwL2hlYWRlci9ob21lSGVhZGVyLmh0bScsXG5cdFx0ICAgIFx0XHRcdGNvbnRyb2xsZXI6ICdIZWFkZXJDb250cm9sbGVyIGFzIGhlYWRlcicsXG5cdFx0ICAgIFx0XHRcdGRhdGE6IHtcblx0XHQgICAgXHRcdFx0XHRoZWFkZXJUeXBlOiAndGFsbCdcblx0XHQgICAgXHRcdFx0fVxuXHRcdCAgICBcdFx0fSxcblx0XHQgICAgXHRcdCdjb250ZW50Jzoge1xuXHRcdCAgICBcdFx0XHR0ZW1wbGF0ZVVybDogJy9hcHAvZXZlbnQvZ2FtZS5odG0nLFxuXHRcdCAgICBcdFx0XHRjb250cm9sbGVyOiAnRXZlbnRHYW1lQ29udHJvbGxlciBhcyBnYW1lJ1xuXHRcdCAgICBcdFx0fVxuXHRcdCAgICBcdH1cblx0XHQgICAgfSk7XG5cdH1cbn0pKCk7IixudWxsLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCd2Zy5hcHAnKVxuICAgICAgICAucnVuKHJ1bik7XG5cbiAgICBmdW5jdGlvbiBydW4oJHJvb3RTY29wZSwgJGxvY2F0aW9uLCAkc3RhdGUsICRmaXJlYmFzZU9iamVjdCwgQXV0aFdyYXBwZXIpIHtcblxuICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLCBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvciA9PT0gJ0FVVEhfUkVRVUlSRUQnKSB7XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdyZWdpc3Rlck9yTG9naW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgLy8gSWYgdXNlciBpcyBsb2dnZWQgaW4sIGRvd25sb2FkIHRoZWlyIHByb2ZpbGUgZGF0YSB0byBhbiBvYmplY3QgaW4gJHJvb3RTY29wZS5cbiAgICAgICAgICAgIGlmIChBdXRoV3JhcHBlci4kZ2V0QXV0aCgpKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyIGF1dGhEYXRhID0gQXV0aFdyYXBwZXIuJGdldEF1dGgoKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVmID0gbmV3IEZpcmViYXNlKCdodHRwczovL3dvbGZzY29udGVzdHMuZmlyZWJhc2Vpby5jb20nKTtcblxuICAgICAgICAgICAgICAgIHZhciBwcm9maWxlRGF0YSA9ICRmaXJlYmFzZU9iamVjdChyZWYuY2hpbGQoJ3VzZXJzJykuY2hpbGQoYXV0aERhdGEudWlkKSk7XG4gICAgICAgICAgICAgICAgcHJvZmlsZURhdGEuJGJpbmRUbygkcm9vdFNjb3BlLCAncHJvZmlsZScpLnRoZW4oZnVuY3Rpb24odW5iaW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUudW5iaW5kRnVuY3Rpb24gPSB1bmJpbmQ7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcblxuICAgIH1cblxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCd2Zy5hcHAnKVxuICAgICAgICAuc2VydmljZSgnYXV0aFNlcnZpY2UnLCBhdXRoU2VydmljZSk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBhdXRoU2VydmljZSgkcSwgJHJvb3RTY29wZSwgJHN0YXRlLCAkZmlyZWJhc2VPYmplY3QsIEF1dGhXcmFwcGVyKSB7XG4gICAgICAgIFxuICAgIFx0dmFyIEZCVVJMID0gJ2h0dHBzOi8vd29sZnNjb250ZXN0cy5maXJlYmFzZWlvLmNvbSc7XG5cbiAgICBcdHRoaXMuY2hlY2tJZlVzZXJFeGlzdHMgPSBjaGVja0lmVXNlckV4aXN0cztcbiAgICBcdHRoaXMuY3JlYXRlTmV3VXNlciA9IGNyZWF0ZU5ld1VzZXI7XG4gICAgICAgIHRoaXMubG9naW5Ub0FjY291bnQgPSBsb2dpblRvQWNjb3VudDtcbiAgICAgICAgdGhpcy5sb2dPdXQgPSBsb2dPdXQ7XG5cbiAgICBcdC8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIFx0ZnVuY3Rpb24gY2hlY2tJZlVzZXJFeGlzdHMoaW5wdXRVc2VybmFtZSkge1xuXG4gICAgXHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICBcdFx0dmFyIGRvZXNVc2VyRXhpc3QgPSBmYWxzZTtcbiAgICBcdFx0dmFyIHVzZXJzUmVmID0gbmV3IEZpcmViYXNlKEZCVVJMICsgJy91c2VycycpO1xuXG4gICAgXHRcdHVzZXJzUmVmLm9uY2UoJ3ZhbHVlJywgZnVuY3Rpb24oZGF0YVNuYXBzaG90KSB7XG5cbiAgICBcdFx0XHRkYXRhU25hcHNob3QuZm9yRWFjaChmdW5jdGlvbih1c2VyKSB7XG4gICAgXHRcdFx0XHRpZiAodXNlci52YWwoKS51c2VyTmFtZSA9PT0gaW5wdXRVc2VybmFtZSkge1xuICAgIFx0XHRcdFx0XHRkb2VzVXNlckV4aXN0ID0gdHJ1ZTtcbiAgICBcdFx0XHRcdH1cbiAgICBcdFx0XHR9KTtcblxuICAgIFx0XHRcdGRlZmVycmVkLnJlc29sdmUoZG9lc1VzZXJFeGlzdCk7XG5cbiAgICBcdFx0fSk7XG5cbiAgICBcdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cbiAgICBcdH1cblxuICAgIFx0ZnVuY3Rpb24gY3JlYXRlTmV3VXNlcihpbnB1dEVtYWlsLCBpbnB1dFBhc3N3b3JkLCBpbnB1dFVzZXJuYW1lKSB7XG5cbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICBcdFx0QXV0aFdyYXBwZXIuJGNyZWF0ZVVzZXIoe1xuICAgIFx0XHRcdGVtYWlsOiBpbnB1dEVtYWlsLFxuICAgIFx0XHRcdHBhc3N3b3JkOiBpbnB1dFBhc3N3b3JkXG4gICAgXHRcdH0pLnRoZW4oZnVuY3Rpb24odXNlckRhdGEpIHtcblxuICAgIFx0XHRcdC8vIENyZWF0ZSBhIGRhdGEgZW50cnkgZm9yIHRoZSBuZXcgdXNlcm5hbWUuXG4gICAgXHRcdFx0bmV3IEZpcmViYXNlKEZCVVJMKS5jaGlsZCgndXNlcnMvJyArIHVzZXJEYXRhLnVpZCkuc2V0KHtcblxuICAgIFx0XHRcdFx0dXNlck5hbWU6IGlucHV0VXNlcm5hbWUsXG4gICAgXHRcdFx0XHRyb2xlOiAnVXNlcidcblxuICAgIFx0XHRcdH0sIGZ1bmN0aW9uKGVycm9yRGF0YSkge1xuICAgIFx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnJvckRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3JEYXRhLmNvZGU7XG4gICAgXHRcdFx0fSk7XG5cbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBkYXRhIGVudHJ5IGZvciB0aGUgdXNlcidzIGF2YXRhci5cbiAgICAgICAgICAgICAgICBuZXcgRmlyZWJhc2UoRkJVUkwpLmNoaWxkKCdhdmF0YXJzJykuY2hpbGQoaW5wdXRVc2VybmFtZSkuc2V0KCdodHRwOi8vYXBpLmFkb3JhYmxlLmlvL2F2YXRhcnMvNDIvJyArIGlucHV0VXNlcm5hbWUpO1xuXG4gICAgXHRcdFx0Ly8gTG9nIHRoZSB1c2VyIGluLlxuICAgIFx0XHRcdEF1dGhXcmFwcGVyLiRhdXRoV2l0aFBhc3N3b3JkKHtcbiAgICBcdFx0XHRcdGVtYWlsOiBpbnB1dEVtYWlsLFxuICAgIFx0XHRcdFx0cGFzc3dvcmQ6IGlucHV0UGFzc3dvcmRcbiAgICBcdFx0XHR9KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCdBQ0NPVU5UX0NSRUFURUQnKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgIFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvckRhdGEpIHtcblxuICAgIFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyb3JEYXRhKTtcblxuICAgIFx0XHRcdGlmIChlcnJvckRhdGEuY29kZSA9PT0gJ0VNQUlMX1RBS0VOJykge1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGVycm9yRGF0YS5jb2RlKTtcbiAgICBcdFx0XHR9XG5cbiAgICBcdFx0fSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgXHR9XG5cbiAgICAgICAgZnVuY3Rpb24gbG9naW5Ub0FjY291bnQoaW5wdXRFbWFpbCwgaW5wdXRQYXNzd29yZCkge1xuXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICBBdXRoV3JhcHBlci4kYXV0aFdpdGhQYXNzd29yZCh7XG4gICAgICAgICAgICAgICAgZW1haWw6IGlucHV0RW1haWwsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGlucHV0UGFzc3dvcmRcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oYXV0aERhdGEpIHtcblxuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJ0xPR0lOX1NVQ0NFU1MnKTtcblxuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3JEYXRhKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JEYXRhLmNvZGUgPT09ICdJTlZBTElEX1VTRVInKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJ0lOVkFMSURfVVNFUicpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3JEYXRhLmNvZGUgPT09ICdJTlZBTElEX1BBU1NXT1JEJykge1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCdJTlZBTElEX1BBU1NXT1JEJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGxvZ091dCgpIHtcbiAgICAgICAgICAgIEF1dGhXcmFwcGVyLiR1bmF1dGgoKTtcbiAgICAgICAgICAgICRyb290U2NvcGUudW5iaW5kRnVuY3Rpb24oKTtcblxuICAgICAgICAgICAgJHN0YXRlLmdvKCdpbmRleCcpO1xuICAgICAgICB9XG5cbiAgICB9XG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3ZnLmFwcCcpXG4gICAgICAgIC5mYWN0b3J5KCdBdXRoV3JhcHBlcicsIEF1dGhXcmFwcGVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIEF1dGhXcmFwcGVyKCRmaXJlYmFzZUF1dGgpIHtcblxuICAgICAgICB2YXIgcmVmID0gbmV3IEZpcmViYXNlKCdodHRwczovL3dvbGZzY29udGVzdHMuZmlyZWJhc2Vpby5jb20nKTtcbiAgICAgICAgcmV0dXJuICRmaXJlYmFzZUF1dGgocmVmKTtcblxuICAgIH1cbiAgICBcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLnNlcnZpY2UoJ2V2ZW50U2VydmljZScsIGV2ZW50U2VydmljZSk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBldmVudFNlcnZpY2UoJHEsICRmaWx0ZXIsICRmaXJlYmFzZU9iamVjdCwgJGZpcmViYXNlQXJyYXkpIHtcblxuICAgIFx0dmFyIEZCVVJMID0gJ2h0dHBzOi8vd29sZnNjb250ZXN0cy5maXJlYmFzZWlvLmNvbSc7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVNdWx0aUdhbWVGaW5hbFN0YW5kaW5ncyA9IGNyZWF0ZU11bHRpR2FtZUZpbmFsU3RhbmRpbmdzO1xuICAgICAgICB0aGlzLmdldEV2ZW50UHJvcGVydGllcyA9IGdldEV2ZW50UHJvcGVydGllcztcbiAgICAgICAgdGhpcy5nZXRHYW1lRGF0YSA9IGdldEdhbWVEYXRhO1xuICAgICAgICB0aGlzLmdldEdhbWVzTGlzdCA9IGdldEdhbWVzTGlzdDtcbiAgICAgICAgdGhpcy5nZXRNdWx0aUdhbWVMZWFkZXJib2FyZCA9IGdldE11bHRpR2FtZUxlYWRlcmJvYXJkO1xuICAgICAgICB0aGlzLmdldFNpbmdsZUdhbWVMZWFkZXJib2FyZCA9IGdldFNpbmdsZUdhbWVMZWFkZXJib2FyZDtcbiAgICAgICAgdGhpcy5nZXRQbGF5ZXJTY29yZXMgPSBnZXRQbGF5ZXJTY29yZXM7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZU11bHRpR2FtZUZpbmFsU3RhbmRpbmdzKGlucHV0RXZlbnQpIHtcblxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBmaW5hbCBzdGFuZGluZ3Mgb2YgdGhlIGV2ZW50LlxuICAgICAgICAgICAgZ2V0TXVsdGlHYW1lTGVhZGVyYm9hcmQoaW5wdXRFdmVudCkudGhlbihmdW5jdGlvbihwcm9taXNlUmVzb2x1dGlvbikge1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1Zyhwcm9taXNlUmVzb2x1dGlvbik7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVmID0gbmV3IEZpcmViYXNlKEZCVVJMKTtcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXRFdmVudFN0YW5kaW5ncyA9ICRmaXJlYmFzZU9iamVjdChcbiAgICAgICAgICAgICAgICAgICAgcmVmXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGQoJ3N0YW5kaW5ncycpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGQoaW5wdXRFdmVudClcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaW5wdXRFdmVudFN0YW5kaW5ncy4kbG9hZGVkKCkudGhlbihmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlUmVzb2x1dGlvbi5mb3JFYWNoKGZ1bmN0aW9uKHN0YW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dEV2ZW50U3RhbmRpbmdzW3N0YW5kaW5nLmtleV0gPSBzdGFuZGluZy5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaW5wdXRFdmVudFN0YW5kaW5ncy4kc2F2ZSgpO1xuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRFdmVudFByb3BlcnRpZXMoaW5wdXRFdmVudCkge1xuXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIFx0dmFyIHJlZiA9IG5ldyBGaXJlYmFzZShGQlVSTCk7XG4gICAgICAgIFx0dmFyIGV2ZW50UHJvcGVydGllcyA9ICRmaXJlYmFzZU9iamVjdChcbiAgICAgICAgXHRcdHJlZlxuICAgICAgICBcdFx0XHQuY2hpbGQoJ2NvbnRlc3RzJylcbiAgICAgICAgXHRcdFx0LmNoaWxkKGlucHV0RXZlbnQpXG4gICAgICAgIFx0XHRcdC5jaGlsZCgncHJvcGVydGllcycpXG4gICAgICAgIFx0KTtcblxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShldmVudFByb3BlcnRpZXMpO1xuXG4gICAgICAgIFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldEdhbWVEYXRhKGlucHV0RXZlbnQsIGlucHV0R2FtZSkge1xuXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICB2YXIgcmVmID0gbmV3IEZpcmViYXNlKEZCVVJMKTtcblxuICAgICAgICAgICAgZ2V0R2FtZXNMaXN0KGlucHV0RXZlbnQpLnRoZW4oZnVuY3Rpb24oZ2FtZXNMaXN0KSB7XG5cbiAgICAgICAgICAgICAgICBnYW1lc0xpc3QuZm9yRWFjaChmdW5jdGlvbihnYW1lKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWUuY2FtZWxOYW1lID09PSBpbnB1dEdhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZ2FtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0R2FtZXNMaXN0KGlucHV0RXZlbnQpIHtcblxuICAgICAgICBcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgXHR2YXIgcmVmID0gbmV3IEZpcmViYXNlKEZCVVJMKTtcbiAgICAgICAgXHR2YXIgZ2FtZXNMaXN0ID0gJGZpcmViYXNlQXJyYXkoXG4gICAgICAgIFx0XHRyZWZcbiAgICAgICAgXHRcdFx0LmNoaWxkKCdjb250ZXN0cycpXG4gICAgICAgIFx0XHRcdC5jaGlsZChpbnB1dEV2ZW50KVxuICAgICAgICBcdFx0XHQuY2hpbGQoJ2FjdGl2ZUdhbWVzJylcbiAgICAgICAgXHQpO1xuXG4gICAgICAgIFx0Z2FtZXNMaXN0LiRsb2FkZWQoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBcdFx0ZGVmZXJyZWQucmVzb2x2ZShnYW1lc0xpc3QpO1xuICAgICAgICBcdH0pO1xuXG4gICAgICAgIFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldE11bHRpR2FtZUxlYWRlcmJvYXJkKGlucHV0RXZlbnQpIHtcblxuICAgICAgICBcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgXHQvLyBXZSBuZWVkIHRvIGdldCB0aGUgdG9wIDEyIHBsYXllcnMgZm9yIGV2ZXJ5IGdhbWUuXG4gICAgICAgIFx0dmFyIHBsYXllclBvaW50cyA9IHt9O1xuXG4gICAgICAgIFx0Z2V0R2FtZXNMaXN0KGlucHV0RXZlbnQpLnRoZW4oZnVuY3Rpb24ocHJvbWlzZVJlc29sdXRpb24pIHtcblxuICAgICAgICBcdFx0dmFyIGdhbWVzTGlzdCA9IHByb21pc2VSZXNvbHV0aW9uO1xuICAgICAgICBcdFx0Z2FtZXNMaXN0LmZvckVhY2goZnVuY3Rpb24oZ2FtZSkge1xuXG4gICAgICAgIFx0XHRcdGlmIChnYW1lLnNjb3Jlcykge1xuXG4gICAgICAgIFx0XHRcdFx0Ly8gQ29udmVydCB0aGUgZ2FtZSdzIHNjb3JlcyB0byBhbiBhcnJheS5cbiAgICAgICAgXHRcdFx0XHR2YXIgc2NvcmVzQXJyYXkgPSAkLm1hcChnYW1lLnNjb3JlcywgZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGVsOyB9KTtcbiAgICAgICAgXHRcdFx0XHRzY29yZXNBcnJheSA9ICRmaWx0ZXIoJ29yZGVyQnknKShzY29yZXNBcnJheSwgJy1zY29yZScpO1xuXG4gICAgICAgIFx0XHRcdFx0dmFyIHRvdGFsQXdhcmQgPSAxMjtcblxuICAgICAgICBcdFx0XHRcdC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgdG9wIHNjb3JlcyBhd2FyZGluZyBwb2ludHMuXG4gICAgICAgIFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY29yZXNBcnJheS5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgIFx0XHRcdFx0XHRpZiAoIXBsYXllclBvaW50c1tzY29yZXNBcnJheVtpXS51c2VyTmFtZV0pIHtcbiAgICAgICAgXHRcdFx0XHRcdFx0cGxheWVyUG9pbnRzW3Njb3Jlc0FycmF5W2ldLnVzZXJOYW1lXSA9IHtcbiAgICAgICAgXHRcdFx0XHRcdFx0XHRwb2ludHM6IDBcbiAgICAgICAgXHRcdFx0XHRcdFx0fTtcbiAgICAgICAgXHRcdFx0XHRcdH1cblxuICAgICAgICBcdFx0XHRcdFx0cGxheWVyUG9pbnRzW3Njb3Jlc0FycmF5W2ldLnVzZXJOYW1lXS5wb2ludHMgKz0gdG90YWxBd2FyZDtcblxuICAgICAgICBcdFx0XHRcdFx0aWYgKHRvdGFsQXdhcmQgPiAwKSB7XG4gICAgICAgIFx0XHRcdFx0XHRcdHRvdGFsQXdhcmQgLT0gMTtcbiAgICAgICAgXHRcdFx0XHRcdH1cblxuICAgICAgICBcdFx0XHRcdH1cblxuICAgICAgICBcdFx0XHR9XG5cbiAgICAgICAgXHRcdH0pO1xuXG4gICAgICAgIFx0XHQvLyBGaW5kIGFuZCByZXNvbHZlIHRpZXMuXG4gICAgICAgIFx0XHRwbGF5ZXJQb2ludHMgPSAkZmlsdGVyKCdvcmRlck9iamVjdEJ5JykocGxheWVyUG9pbnRzLCAncG9pbnRzJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdmFyIGhhdmVCb3R0b21TY29yZXJzRmxvb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgZmxvb3JSYW5nZSA9IDA7XG4gICAgICAgIFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHBsYXllclBvaW50cy5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgIFx0XHRcdGlmIChwbGF5ZXJQb2ludHNbaS0xXSAmJiBwbGF5ZXJQb2ludHNbaV0ucG9pbnRzICYmIHBsYXllclBvaW50c1tpLTFdLnBvaW50cykge1xuXG4gICAgICAgIFx0XHRcdFx0aWYgKHBsYXllclBvaW50c1tpXS5wb2ludHMgPT09IHBsYXllclBvaW50c1tpLTFdLnBvaW50cykge1xuICAgICAgICBcdFx0XHRcdFx0cGxheWVyUG9pbnRzW2ldLnBvc2l0aW9uID0gcGxheWVyUG9pbnRzW2ktMV0ucG9zaXRpb247XG4gICAgICAgIFx0XHRcdFx0fSBlbHNlIHtcbiAgICAgICAgXHRcdFx0XHRcdHBsYXllclBvaW50c1tpXS5wb3NpdGlvbiA9IChpKzEpO1xuICAgICAgICBcdFx0XHRcdH1cblxuICAgICAgICBcdFx0XHR9IGVsc2Uge1xuXG4gICAgICAgIFx0XHRcdFx0aWYgKGkgPT09IDApIHtcbiAgICAgICAgXHRcdFx0XHRcdHBsYXllclBvaW50c1tpXS5wb3NpdGlvbiA9IDE7XG4gICAgICAgIFx0XHRcdFx0fSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGF2ZUJvdHRvbVNjb3JlcnNGbG9vcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgY291bnQgb2YgcGxheWVycyBpbiBvbmUgcG9zaXRpb24gaGlnaGVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0U2NvcmVDb3VudE9mID0gcGxheWVyUG9pbnRzW2ktMV0ucG9pbnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJQb2ludHMuZm9yRWFjaChmdW5jdGlvbihwb2ludHNEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnRzRGF0YS5wb2ludHMgPT09IGdldFNjb3JlQ291bnRPZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yUmFuZ2UgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGF2ZUJvdHRvbVNjb3JlcnNGbG9vciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgIFx0XHRcdFx0XHRwbGF5ZXJQb2ludHNbaV0ucG9zaXRpb24gPSAocGxheWVyUG9pbnRzLmxlbmd0aCArIDEpIC0gZmxvb3JSYW5nZTtcbiAgICAgICAgXHRcdFx0XHR9XG5cbiAgICAgICAgXHRcdFx0fVxuXG4gICAgICAgIFx0XHR9XG5cbiAgICAgICAgXHRcdGRlZmVycmVkLnJlc29sdmUocGxheWVyUG9pbnRzKTtcblxuICAgICAgICBcdH0pO1xuXG5cdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0U2luZ2xlR2FtZUxlYWRlcmJvYXJkKGlucHV0RXZlbnQpIHtcblxuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgdmFyIHJlZiA9IG5ldyBGaXJlYmFzZShGQlVSTCk7XG4gICAgICAgICAgICB2YXIgbGVhZGVyYm9hcmREYXRhID0gJGZpcmViYXNlQXJyYXkoXG4gICAgICAgICAgICAgICAgcmVmXG4gICAgICAgICAgICAgICAgICAgIC5jaGlsZCgnY29udGVzdHMnKVxuICAgICAgICAgICAgICAgICAgICAuY2hpbGQoaW5wdXRFdmVudClcbiAgICAgICAgICAgICAgICAgICAgLmNoaWxkKCdzY29yZXMnKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShsZWFkZXJib2FyZERhdGEpO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0UGxheWVyU2NvcmVzKGlucHV0RXZlbnQsIGlucHV0R2FtZXNMaXN0LCBpbnB1dFBsYXllcikge1xuXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICB2YXIgZGlzcGxheVNjb3JlcyA9IFtdO1xuXG4gICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggZXZlcnkgZ2FtZS5cbiAgICAgICAgICAgIGlucHV0R2FtZXNMaXN0LmZvckVhY2goZnVuY3Rpb24oZ2FtZSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKGdhbWUuc2NvcmVzKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgZ2FtZSdzIHNjb3JlcyB0byBhbiBhcnJheS5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjb3Jlc0FycmF5ID0gJC5tYXAoZ2FtZS5zY29yZXMsIGZ1bmN0aW9uKGVsKSB7IHJldHVybiBlbDsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3Jlc0FycmF5ID0gJGZpbHRlcignb3JkZXJCeScpKHNjb3Jlc0FycmF5LCAnLXNjb3JlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvdGFsQXdhcmQgPSAxMjtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggdGhlIHNjb3JlcyBzdGFydGluZyBmcm9tIHRoZSB0b3AgYW5kIGZpbmQgb3VyIHVzZXIuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2NvcmVzQXJyYXkubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm91bmQgb3VyIHBsYXllci5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY29yZXNBcnJheVtpXS51c2VyTmFtZSA9PT0gaW5wdXRQbGF5ZXIpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdTY29yZU9iamVjdCA9IGdhbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2NvcmVPYmplY3QucG9zaXRpb24gPSBpKzE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2NvcmVPYmplY3Quc2NvcmUgPSBzY29yZXNBcnJheVtpXS5zY29yZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTY29yZU9iamVjdC5wb2ludHNFYXJuZWQgPSB0b3RhbEF3YXJkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Njb3JlT2JqZWN0LmlucFVybCA9IHNjb3Jlc0FycmF5W2ldLmlucFVybCA/IHNjb3Jlc0FycmF5W2ldLmlucFVybCA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2NvcmVPYmplY3QudHdpdGNoVXJsID0gc2NvcmVzQXJyYXlbaV0udHdpdGNoVXJsID8gc2NvcmVzQXJyYXlbaV0udHdpdGNoVXJsIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTY29yZU9iamVjdC5tYW1lVmVyc2lvbiA9IHNjb3Jlc0FycmF5W2ldLm1hbWVWZXJzaW9uID8gc2NvcmVzQXJyYXlbaV0ubWFtZVZlcnNpb24gOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVNjb3Jlcy5wdXNoKG5ld1Njb3JlT2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEF3YXJkID0gMTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsQXdhcmQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQXdhcmQgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkaXNwbGF5U2NvcmVzKTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAgICAgfVxuXG4gICAgfVxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCd2Zy5hcHAnKVxuICAgICAgICAuY29udHJvbGxlcignRXZlbnRHYW1lQ29udHJvbGxlcicsIEV2ZW50R2FtZUNvbnRyb2xsZXIpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gRXZlbnRHYW1lQ29udHJvbGxlcigkc2NvcGUsICRmaWx0ZXIsICRzdGF0ZVBhcmFtcywgJHRpbWVvdXQsICRmaXJlYmFzZUFycmF5LCBldmVudFNlcnZpY2UsIGF1dGhTZXJ2aWNlKSB7XG5cbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIFx0YW5ndWxhci5lbGVtZW50KCcjY29udGVudFZpZXcnKVxuICAgICAgICBcdCAgICAuY3NzKCdvcGFjaXR5JywgJzEnKVxuICAgICAgICBcdCAgICAuY3NzKCdwb3NpdGlvbicsICdpbmhlcml0Jyk7XG4gICAgICAgIH0sIDQxMCk7XG5cbiAgICAgICAgdmFyIEZCVVJMID0gJ2h0dHBzOi8vd29sZnNjb250ZXN0cy5maXJlYmFzZWlvLmNvbSc7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgdm0uZXZlbnROYW1lID0gJHN0YXRlUGFyYW1zLmV2ZW50TmFtZTtcbiAgICAgICAgdm0uZ2FtZU5hbWUgPSAkc3RhdGVQYXJhbXMuZ2FtZU5hbWU7XG5cbiAgICAgICAgdm0uaW5pdEdhbWVQYWdlID0gaW5pdEdhbWVQYWdlO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBpbml0R2FtZVBhZ2UoKSB7XG5cbiAgICAgICAgICAgIHZhciByZWYgPSBuZXcgRmlyZWJhc2UoRkJVUkwpO1xuXG4gICAgICAgICAgICB2bS5ldmVudFByb3BlcnRpZXMgPSBldmVudFNlcnZpY2UuZ2V0RXZlbnRQcm9wZXJ0aWVzKHZtLmV2ZW50TmFtZSk7XG5cbiAgICAgICAgICAgIGV2ZW50U2VydmljZS5nZXRHYW1lRGF0YSh2bS5ldmVudE5hbWUsIHZtLmdhbWVOYW1lKS50aGVuKGZ1bmN0aW9uKHByb21pc2VSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgdm0uZ2FtZURhdGEgPSBwcm9taXNlUmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIHZtLmdhbWVTY29yZXMgPSAkZmlyZWJhc2VBcnJheShcbiAgICAgICAgICAgICAgICAgICAgcmVmXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGQoJ2NvbnRlc3RzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZCh2bS5ldmVudE5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGQoJ2FjdGl2ZUdhbWVzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZCh2bS5nYW1lRGF0YS4kaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGQoJ3Njb3JlcycpXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcodm0uZ2FtZURhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcodm0uZ2FtZVNjb3Jlcyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V2ZW50TWFpbkNvbnRyb2xsZXInLCBFdmVudE1haW5Db250cm9sbGVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIEV2ZW50TWFpbkNvbnRyb2xsZXIoJHNjb3BlLCAkZmlsdGVyLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgJHRpbWVvdXQsICRmaXJlYmFzZUFycmF5LCBldmVudFNlcnZpY2UsIGF1dGhTZXJ2aWNlLCBwcm9maWxlU2VydmljZSkge1xuXG4gICAgICAgIHZhciBGQlVSTCA9ICdodHRwczovL3dvbGZzY29udGVzdHMuZmlyZWJhc2Vpby5jb20nO1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIHZtLmV2ZW50TmFtZSA9ICRzdGF0ZVBhcmFtcy5ldmVudE5hbWU7XG5cbiAgICAgICAgdm0uY2xvc2VHYW1lTW9kYWwgPSBjbG9zZUdhbWVNb2RhbDtcbiAgICAgICAgdm0uY2xvc2VNdWx0aUdhbWVMZWFkZXJib2FyZE1vZGFsID0gY2xvc2VNdWx0aUdhbWVMZWFkZXJib2FyZE1vZGFsO1xuICAgICAgICB2bS5jbG9zZVBsYXllck1vZGFsID0gY2xvc2VQbGF5ZXJNb2RhbDtcbiAgICAgICAgdm0uZGV0ZXJtaW5lUG9pbnRzID0gZGV0ZXJtaW5lUG9pbnRzO1xuICAgICAgICB2bS5nZXRGaXJzdFBsYWNlU2NvcmVzID0gZ2V0Rmlyc3RQbGFjZVNjb3JlcztcbiAgICAgICAgdm0uZ29Ub1BsYXllclByb2ZpbGUgPSBnb1RvUGxheWVyUHJvZmlsZTtcbiAgICAgICAgdm0uaW5pdEV2ZW50ID0gaW5pdEV2ZW50O1xuICAgICAgICB2bS5vcGVuQmFkZ2VzTW9kYWwgPSBvcGVuQmFkZ2VzTW9kYWw7XG4gICAgICAgIHZtLm9wZW5HYW1lTW9kYWwgPSBvcGVuR2FtZU1vZGFsO1xuICAgICAgICB2bS5vcGVuR2FtZU1vZGFsRnJvbVBsYXllck1vZGFsID0gb3BlbkdhbWVNb2RhbEZyb21QbGF5ZXJNb2RhbDtcbiAgICAgICAgdm0ub3Blbk11bHRpR2FtZUxlYWRlcmJvYXJkTW9kYWwgPSBvcGVuTXVsdGlHYW1lTGVhZGVyYm9hcmRNb2RhbDtcbiAgICAgICAgdm0ub3BlblBsYXllck1vZGFsID0gb3BlblBsYXllck1vZGFsO1xuICAgICAgICB2bS5vcGVuUGxheWVyTW9kYWxGcm9tR2FtZU1vZGFsID0gb3BlblBsYXllck1vZGFsRnJvbUdhbWVNb2RhbDtcbiAgICAgICAgdm0ub3BlblBsYXllck1vZGFsRnJvbUxlYWRlcmJvYXJkTW9kYWwgPSBvcGVuUGxheWVyTW9kYWxGcm9tTGVhZGVyYm9hcmRNb2RhbDtcbiAgICAgICAgdm0ub3BlblJ1bGVzTW9kYWwgPSBvcGVuUnVsZXNNb2RhbDtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBjbG9zZUdhbWVNb2RhbCgpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI2dhbWVNb2RhbCcpLmNsb3NlTW9kYWwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNsb3NlTXVsdGlHYW1lTGVhZGVyYm9hcmRNb2RhbCgpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI211bHRpR2FtZUxlYWRlcmJvYXJkTW9kYWwnKS5jbG9zZU1vZGFsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjbG9zZVBsYXllck1vZGFsKCkge1xuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjcGxheWVyTW9kYWwnKS5jbG9zZU1vZGFsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkZXRlcm1pbmVQb2ludHMoaW5wdXRTY29yZURhdGEsIGlucHV0SW5kZXgpIHtcblxuICAgICAgICAgICAgdmFyIHVzZXJHYW1lUG9pbnRzO1xuXG4gICAgICAgICAgICAvLyBObyBwb3NpdGlvbiBncmVhdGVyIHRoYW4gMTIgZ2V0cyBwb2ludHMuXG4gICAgICAgICAgICBpZiAoaW5wdXRJbmRleCA+IDExKSB7XG4gICAgICAgICAgICAgICAgdXNlckdhbWVQb2ludHMgPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyR2FtZVBvaW50cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdXNlckdhbWVQb2ludHMgPSAxMiAtIGlucHV0SW5kZXg7XG5cbiAgICAgICAgICAgIHZhciBzb3J0ZWRTY29yZXMgPSAkZmlsdGVyKCdvcmRlckJ5Jykodm0uZ2FtZVNjb3JlcywgJy1zY29yZScpO1xuXG4gICAgICAgICAgICAvLyBBbSBJIHRpZWQgd2l0aCB0aGUgcGVyc29uIGFib3ZlIG1lPyBJZiBzbywgbWF0Y2ggdGhlaXIgcG9pbnRzLlxuICAgICAgICAgICAgaWYgKHNvcnRlZFNjb3Jlc1tpbnB1dEluZGV4IC0gMV0pIHtcblxuICAgICAgICAgICAgICAgIGlmIChzb3J0ZWRTY29yZXNbaW5wdXRJbmRleCAtIDFdLnNjb3JlID09PSBpbnB1dFNjb3JlRGF0YS5zY29yZSkge1xuICAgICAgICAgICAgICAgICAgICB1c2VyR2FtZVBvaW50cyArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHVzZXJHYW1lUG9pbnRzO1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0Rmlyc3RQbGFjZVNjb3JlcygpIHtcblxuICAgICAgICAgICAgdm0uZ2FtZUxpc3QuZm9yRWFjaChmdW5jdGlvbihnYW1lKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgc2NvcmVzLCBnZXQgdGhlIHRvcCBvbmUuXG4gICAgICAgICAgICAgICAgaWYgKGdhbWUuc2NvcmVzKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjb3Jlc0FycmF5ID0gJC5tYXAoZ2FtZS5zY29yZXMsIGZ1bmN0aW9uKGVsKSB7IHJldHVybiBlbDsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3Jlc0FycmF5ID0gJGZpbHRlcignb3JkZXJCeScpKHNjb3Jlc0FycmF5LCAnLXNjb3JlJyk7XG4gICAgICAgICAgICAgICAgICAgIGdhbWUuZmlyc3RTY29yZSA9IHNjb3Jlc0FycmF5WzBdO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ29Ub1BsYXllclByb2ZpbGUoaW5wdXRQbGF5ZXIpIHtcblxuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjcGxheWVyTW9kYWwnKS5jbG9zZU1vZGFsKCk7XG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3Byb2ZpbGUnLCB7dXNlcm5hbWU6IGlucHV0UGxheWVyfSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGluaXRFdmVudCgpIHtcblxuICAgICAgICAgICAgZXZlbnRTZXJ2aWNlLmdldEV2ZW50UHJvcGVydGllcyh2bS5ldmVudE5hbWUpLnRoZW4oZnVuY3Rpb24ocHJvbWlzZVJlc29sdXRpb24pIHtcblxuICAgICAgICAgICAgICAgIHZtLmV2ZW50UHJvcGVydGllcyA9IHByb21pc2VSZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICAgICAgdm0uZXZlbnRQcm9wZXJ0aWVzLiRsb2FkZWQoKS50aGVuKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBtdWx0aWdhbWUgZXZlbnQsIGdldCB0aGUgZGF0YSBuZWVkZWQgZm9yIG11bHRpZ2FtZSBjb21wb25lbnRzLlxuICAgICAgICAgICAgICAgICAgICBpZiAodm0uZXZlbnRQcm9wZXJ0aWVzLmZvcm1hdC5tdWx0aUdhbWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXJ2aWNlLmdldEdhbWVzTGlzdCh2bS5ldmVudE5hbWUpLnRoZW4oZnVuY3Rpb24ocHJvbWlzZVJlc29sdXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5nYW1lTGlzdCA9IHByb21pc2VSZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEZpcnN0UGxhY2VTY29yZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFNlcnZpY2UuZ2V0TXVsdGlHYW1lTGVhZGVyYm9hcmQodm0uZXZlbnROYW1lKS50aGVuKGZ1bmN0aW9uKHByb21pc2VSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlYWRlcmJvYXJkID0gcHJvbWlzZVJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0ubGVhZGVyYm9hcmRMZW5ndGggPSBsZWFkZXJib2FyZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uc3VtbWFyaXplZExlYWRlcmJvYXJkID0gbGVhZGVyYm9hcmQuc2xpY2UoMCwgOCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgc2luZ2xlIGdhbWUgZXZlbnQsIGdldCB0aGUgZGF0YSBuZWVkZWQgZm9yIHNpbmdsZSBnYW1lIGNvbXBvbmVudHMuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2VydmljZS5nZXRTaW5nbGVHYW1lTGVhZGVyYm9hcmQodm0uZXZlbnROYW1lKS50aGVuKGZ1bmN0aW9uKHByb21pc2VSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlYWRlcmJvYXJkID0gcHJvbWlzZVJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhsZWFkZXJib2FyZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0ubGVhZGVyYm9hcmRMZW5ndGggPSBsZWFkZXJib2FyZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uc3VtbWFyaXplZExlYWRlcmJvYXJkID0gbGVhZGVyYm9hcmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy92bS5zdW1tYXJpemVkTGVhZGVyYm9hcmQgPSBsZWFkZXJib2FyZC5zbGljZSgwLCA4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKHZtLnN1bW1hcml6ZWRMZWFkZXJib2FyZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHByb2ZpbGVTZXJ2aWNlLmdldEF2YXRhckRhdGEoKS50aGVuKGZ1bmN0aW9uKHByb21pc2VSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgdm0uYXZhdGFyRGF0YSA9IHByb21pc2VSZXNvbHV0aW9uO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9wZW5CYWRnZXNNb2RhbCgpIHtcblxuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjYmFkZ2VzTW9kYWwnKS5vcGVuTW9kYWwoKTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI2JhZGdlc01vZGFsQ29udGVudCcpLnNjcm9sbFRvcCgwKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb3BlbkdhbWVNb2RhbChpbnB1dEdhbWVOYW1lKSB7XG5cbiAgICAgICAgICAgIHZhciByZWYgPSBuZXcgRmlyZWJhc2UoRkJVUkwpO1xuXG4gICAgICAgICAgICBldmVudFNlcnZpY2UuZ2V0R2FtZURhdGEodm0uZXZlbnROYW1lLCBpbnB1dEdhbWVOYW1lKS50aGVuKGZ1bmN0aW9uKHByb21pc2VSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgdm0uZ2FtZURhdGEgPSBwcm9taXNlUmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIHZtLmdhbWVTY29yZXMgPSAkZmlyZWJhc2VBcnJheShcbiAgICAgICAgICAgICAgICAgICAgcmVmXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGQoJ2NvbnRlc3RzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZCh2bS5ldmVudE5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGQoJ2FjdGl2ZUdhbWVzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZCh2bS5nYW1lRGF0YS4kaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGQoJ3Njb3JlcycpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNnYW1lTW9kYWwnKS5vcGVuTW9kYWwoKTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI2dhbWVNb2RhbENvbnRlbnQnKS5zY3JvbGxUb3AoMCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9wZW5NdWx0aUdhbWVMZWFkZXJib2FyZE1vZGFsKCkge1xuXG4gICAgICAgICAgICBldmVudFNlcnZpY2UuZ2V0TXVsdGlHYW1lTGVhZGVyYm9hcmQodm0uZXZlbnROYW1lKS50aGVuKGZ1bmN0aW9uKHByb21pc2VSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgdm0uY29tcGxldGVMZWFkZXJib2FyZCA9IHByb21pc2VSZXNvbHV0aW9uO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI211bHRpR2FtZUxlYWRlcmJvYXJkTW9kYWwnKS5vcGVuTW9kYWwoKTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI211bHRpR2FtZUxlYWRlcmJvYXJkTW9kYWxDb250ZW50Jykuc2Nyb2xsVG9wKDApO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvcGVuUGxheWVyTW9kYWwoaW5wdXRQbGF5ZXIpIHtcblxuICAgICAgICAgICAgdm0uZm9jdXNQbGF5ZXIgPSBpbnB1dFBsYXllcjtcblxuICAgICAgICAgICAgZXZlbnRTZXJ2aWNlLmdldFBsYXllclNjb3Jlcyh2bS5ldmVudE5hbWUsIHZtLmdhbWVMaXN0LCB2bS5mb2N1c1BsYXllcikudGhlbihmdW5jdGlvbihwcm9taXNlUmVzb2x1dGlvbikge1xuICAgICAgICAgICAgICAgIHZtLnBsYXllclNjb3JlcyA9IHByb21pc2VSZXNvbHV0aW9uO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI3BsYXllck1vZGFsJykub3Blbk1vZGFsKCk7XG4gICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNwbGF5ZXJNb2RhbENvbnRlbnQnKS5zY3JvbGxUb3AoMCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9wZW5HYW1lTW9kYWxGcm9tUGxheWVyTW9kYWwoaW5wdXRHYW1lKSB7XG5cbiAgICAgICAgICAgIGNsb3NlUGxheWVyTW9kYWwoKTtcblxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgb3BlbkdhbWVNb2RhbChpbnB1dEdhbWUpO1xuICAgICAgICAgICAgfSwgNDUwKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb3BlblBsYXllck1vZGFsRnJvbUdhbWVNb2RhbChpbnB1dFBsYXllcikge1xuXG4gICAgICAgICAgICBjbG9zZUdhbWVNb2RhbCgpO1xuXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBvcGVuUGxheWVyTW9kYWwoaW5wdXRQbGF5ZXIpO1xuICAgICAgICAgICAgfSwgNDUwKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb3BlblBsYXllck1vZGFsRnJvbUxlYWRlcmJvYXJkTW9kYWwoaW5wdXRQbGF5ZXIpIHtcblxuICAgICAgICAgICAgY2xvc2VNdWx0aUdhbWVMZWFkZXJib2FyZE1vZGFsKCk7XG5cbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIG9wZW5QbGF5ZXJNb2RhbChpbnB1dFBsYXllcik7XG4gICAgICAgICAgICB9LCA0NTApO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvcGVuUnVsZXNNb2RhbCgpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI3J1bGVzTW9kYWwnKS5vcGVuTW9kYWwoKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3ZnLmFwcCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3ZnR2FtZXNMaXN0JywgdmdHYW1lc0xpc3QpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gdmdHYW1lc0xpc3QgKCkge1xuICAgICAgICAvLyBVc2FnZTpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gQ3JlYXRlczpcbiAgICAgICAgLy9cbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICAgICAgICBjb250cm9sbGVyOiBHYW1lc0xpc3RDb250cm9sbGVyLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgbGluazogbGluayxcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4vYXBwL2V2ZW50Q29tcG9uZW50cy9nYW1lc0xpc3QuZGlyZWN0aXZlLmh0bScsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgXHRkYXRhOiAnPScsXG4gICAgICAgICAgICBcdG9wZW5HYW1lRnVuY3Rpb246ICc9J1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBHYW1lc0xpc3RDb250cm9sbGVyKCkge1xuICAgIFx0dmFyIHZtID0gdGhpcztcbiAgICB9XG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3ZnLmFwcCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3ZnTXVsdGlHYW1lTGVhZGVyYm9hcmQnLCB2Z011bHRpR2FtZUxlYWRlcmJvYXJkKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHZnTXVsdGlHYW1lTGVhZGVyYm9hcmQgKCkge1xuICAgICAgICAvLyBVc2FnZTpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gQ3JlYXRlczpcbiAgICAgICAgLy9cbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICAgICAgICBjb250cm9sbGVyOiBNdWx0aUdhbWVMZWFkZXJib2FyZENvbnRyb2xsZXIsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICBsaW5rOiBsaW5rLFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi9hcHAvZXZlbnRDb21wb25lbnRzL211bHRpR2FtZUxlYWRlcmJvYXJkLmRpcmVjdGl2ZS5odG0nLFxuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIFx0ZGF0YTogJz0nLFxuICAgICAgICAgICAgICAgIGF2YXRhckRhdGE6ICc9JyxcbiAgICAgICAgICAgIFx0Y29tcGxldGVMZW5ndGg6ICc9JyxcbiAgICAgICAgICAgIFx0b3BlblBsYXllckZ1bmN0aW9uOiAnPScsXG4gICAgICAgICAgICAgICAgb3BlbkxlYWRlcmJvYXJkRnVuY3Rpb246ICc9J1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBNdWx0aUdhbWVMZWFkZXJib2FyZENvbnRyb2xsZXIoKSB7XG4gICAgXHR2YXIgdm0gPSB0aGlzO1xuICAgIH1cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLmRpcmVjdGl2ZSgndmdTaW5nbGVHYW1lTGVhZGVyYm9hcmQnLCB2Z1NpbmdsZUdhbWVMZWFkZXJib2FyZCk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiB2Z1NpbmdsZUdhbWVMZWFkZXJib2FyZCAoKSB7XG4gICAgICAgIC8vIFVzYWdlOlxuICAgICAgICAvL1xuICAgICAgICAvLyBDcmVhdGVzOlxuICAgICAgICAvL1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFNpbmdsZUdhbWVMZWFkZXJib2FyZENvbnRyb2xsZXIsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICBsaW5rOiBsaW5rLFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi9hcHAvZXZlbnRDb21wb25lbnRzL3NpbmdsZUdhbWVMZWFkZXJib2FyZC5kaXJlY3RpdmUuaHRtJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBcdGRhdGE6ICc9JyxcbiAgICAgICAgICAgICAgICBhdmF0YXJEYXRhOiAnPScsXG4gICAgICAgICAgICBcdGNvbXBsZXRlTGVuZ3RoOiAnPScsXG4gICAgICAgICAgICAgICAgb3BlbkxlYWRlcmJvYXJkRnVuY3Rpb246ICc9J1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBTaW5nbGVHYW1lTGVhZGVyYm9hcmRDb250cm9sbGVyKCkge1xuICAgIFx0dmFyIHZtID0gdGhpcztcbiAgICB9XG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3ZnLmFwcCcpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3ZnU3RpY2t5TWVzc2FnZScsIHZnU3RpY2t5TWVzc2FnZSk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiB2Z1N0aWNreU1lc3NhZ2UgKCkge1xuICAgICAgICAvLyBVc2FnZTpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gQ3JlYXRlczpcbiAgICAgICAgLy9cbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICAgICAgICBjb250cm9sbGVyOiBTdGlja3lNZXNzYWdlQ29udHJvbGxlcixcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgIGxpbms6IGxpbmssXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuL2FwcC9ldmVudENvbXBvbmVudHMvc3RpY2t5TWVzc2FnZS5kaXJlY3RpdmUuaHRtJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBcdHByb3BlcnRpZXM6ICc9J1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBTdGlja3lNZXNzYWdlQ29udHJvbGxlcigkdGltZW91dCkge1xuICAgIFx0dmFyIHZtID0gdGhpcztcbiAgICB9XG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3ZnLmFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdIZWFkZXJDb250cm9sbGVyJywgSGVhZGVyQ29udHJvbGxlcik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBIZWFkZXJDb250cm9sbGVyKCR0aW1lb3V0LCAkcm9vdFNjb3BlLCAkd2luZG93LCAkc3RhdGUsIGF1dGhTZXJ2aWNlKSB7XG5cbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJy5kcm9wZG93bi1idXR0b24nKVxuICAgICAgICAgICAgICAgIC5kcm9wZG93bih7XG4gICAgICAgICAgICAgICAgICAgIGluRHVyYXRpb246IDMwMCxcbiAgICAgICAgICAgICAgICAgICAgb3V0RHVyYXRpb246IDIyNSxcbiAgICAgICAgICAgICAgICAgICAgY29uc3RyYWluX3dpZHRoOiBmYWxzZSwgLy8gRG9lcyBub3QgY2hhbmdlIHdpZHRoIG9mIGRyb3Bkb3duIHRvIHRoYXQgb2YgdGhlIGFjdGl2YXRvclxuICAgICAgICAgICAgICAgICAgICBob3ZlcjogZmFsc2UsIC8vIEFjdGl2YXRlIG9uIGhvdmVyXG4gICAgICAgICAgICAgICAgICAgIGd1dHRlcjogLTExNCwgLy8gU3BhY2luZyBmcm9tIGVkZ2VcbiAgICAgICAgICAgICAgICAgICAgYmVsb3dPcmlnaW46IHRydWUgLy8gRGlzcGxheXMgZHJvcGRvd24gYmVsb3cgdGhlIGJ1dHRvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCA0MDApO1xuXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIHZtLmhlYWRlclR5cGUgPSAkc3RhdGUuY3VycmVudC52aWV3cy5oZWFkZXIuZGF0YS5oZWFkZXJUeXBlO1xuXG4gICAgICAgIHZtLmxvZ091dCA9IGxvZ091dDtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGxvZ091dCgpIHtcbiAgICAgICAgICAgIGF1dGhTZXJ2aWNlLmxvZ091dCgpO1xuICAgICAgICAgICAgJHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfVxuXG4gICAgfVxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCd2Zy5hcHAnKVxuICAgICAgICAuZmlsdGVyKCdvcmRlck9iamVjdEJ5Jywgb3JkZXJPYmplY3RCeSk7XG5cbiAgICBmdW5jdGlvbiBvcmRlck9iamVjdEJ5KCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaXRlbXMsIGZpZWxkLCByZXZlcnNlKSB7XG4gICAgICAgICAgICB2YXIgZmlsdGVyZWQgPSBbXTtcblxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbihpdGVtLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBpdGVtLmtleSA9IGtleTtcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZpbHRlcmVkLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGFbZmllbGRdID4gYltmaWVsZF0gPyAxIDogLTEpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmKHJldmVyc2UpIGZpbHRlcmVkLnJldmVyc2UoKTtcblxuICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkO1xuICAgICAgICB9O1xuICAgIH1cblxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCd2Zy5hcHAnKVxuICAgICAgICAuY29udHJvbGxlcignQXZhdGFyQ29udHJvbGxlcicsIEF2YXRhckNvbnRyb2xsZXIpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gQXZhdGFyQ29udHJvbGxlcigkcm9vdFNjb3BlLCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgJHRpbWVvdXQsIFVwbG9hZCwgaW1ndXIsIHByb2ZpbGVTZXJ2aWNlKSB7XG5cbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICB2bS5pbml0QXZhdGFyID0gaW5pdEF2YXRhcjtcbiAgICAgICAgdm0udXBsb2FkQXZhdGFyID0gdXBsb2FkQXZhdGFyO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBpbml0QXZhdGFyKCkge1xuICAgICAgICBcdHByb2ZpbGVTZXJ2aWNlLmdldEF2YXRhckRhdGEoKS50aGVuKGZ1bmN0aW9uIHRoZW4obW9kZWwpIHtcbiAgICAgICAgICAgICAgICB2bS5hdmF0YXJEYXRhID0gbW9kZWw7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcHJvZmlsZVNlcnZpY2UuZ2V0QmFkZ2VzRGF0YSgkcm9vdFNjb3BlLnByb2ZpbGUudXNlck5hbWUpLnRoZW4oZnVuY3Rpb24gdGhlbihtb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICB2bS5iYWRnZXNEYXRhID0gbW9kZWw7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdXBsb2FkQXZhdGFyKCkge1xuXG4gICAgICAgIFx0dm0uZGlzYWJsZUJ1dHRvbiA9IHRydWU7XG5cbiAgICAgICAgXHRpbWd1ci5zZXRBUElLZXkoJ0NsaWVudC1JRCBmNTNkNmQ1ODMzYjA3YmMnKTtcbiAgICAgICAgXHRpbWd1ci51cGxvYWQodm0uZmlsZSkudGhlbihmdW5jdGlvbiB0aGVuKG1vZGVsKSB7XG4gICAgICAgIFx0XHRwcm9maWxlU2VydmljZS5zYXZlQXZhdGFyTGluayhtb2RlbFswXS5saW5rLCAkcm9vdFNjb3BlLnByb2ZpbGUudXNlck5hbWUpO1xuICAgICAgICBcdFx0TWF0ZXJpYWxpemUudG9hc3QoJ1lvdXIgYXZhdGFyIHdhcyB1cGxvYWRlZCcsIDQwMDApO1xuXG4gICAgICAgIFx0XHQkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgXHRcdFx0JHN0YXRlLmdvKCdpbmRleCcpO1xuICAgICAgICBcdFx0fSwgMTAwMCk7XG4gICAgICAgIFx0fSk7XG5cbiAgICAgICAgfVxuXG4gICAgfVxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCd2Zy5hcHAnKVxuICAgICAgICAuY29udHJvbGxlcignSG9tZUNvbnRyb2xsZXInLCBIb21lQ29udHJvbGxlcik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBIb21lQ29udHJvbGxlcigkc2NvcGUsICR0aW1lb3V0KSB7XG5cbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgXHRhbmd1bGFyLmVsZW1lbnQoJyNjb250ZW50VmlldycpXG4gICAgICAgICAgICAgICAgLmNzcygnb3BhY2l0eScsICcxJylcbiAgICAgICAgICAgICAgICAuY3NzKCdwb3NpdGlvbicsICdpbmhlcml0Jyk7XG4gICAgICAgIH0sIDMxMCk7XG5cbiAgICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0xlYWRlcmJvYXJkQ29udHJvbGxlcicsIExlYWRlcmJvYXJkQ29udHJvbGxlcik7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBMZWFkZXJib2FyZENvbnRyb2xsZXIoJHEsICR0aW1lb3V0LCAkZmlyZWJhc2VBcnJheSwgcHJvZmlsZVNlcnZpY2UpIHtcblxuICAgIFx0dmFyIEZCVVJMID0gJ2h0dHBzOi8vd29sZnNjb250ZXN0cy5maXJlYmFzZWlvLmNvbSc7XG5cbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgXHRhbmd1bGFyLmVsZW1lbnQoJyNjb250ZW50VmlldycpXG4gICAgICAgICAgICAgICAgLmNzcygnb3BhY2l0eScsICcxJylcbiAgICAgICAgICAgICAgICAuY3NzKCdwb3NpdGlvbicsICdpbmhlcml0Jyk7XG4gICAgICAgIH0sIDMxMCk7XG5cbiAgICAgICAgZ2V0UHJvZmlsZVNjb3JlcygpLnRoZW4oZnVuY3Rpb24gdGhlbihtb2RlbCkge1xuICAgICAgICBcdHZtLnByb2ZpbGVTY29yZURhdGEgPSBtb2RlbDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJvZmlsZVNlcnZpY2UuZ2V0QXZhdGFyRGF0YSgpLnRoZW4oZnVuY3Rpb24gdGhlbihtb2RlbCkge1xuICAgICAgICBcdHZtLmF2YXRhckRhdGEgPSBtb2RlbDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldFByb2ZpbGVTY29yZXMoKSB7XG5cbiAgICAgICAgXHR2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICBcdHZhciByZWYgPSBuZXcgRmlyZWJhc2UoRkJVUkwpO1xuXG4gICAgICAgIFx0dmFyIHByb2ZpbGVTY29yZURhdGEgPSAkZmlyZWJhc2VBcnJheShcbiAgICAgICAgXHRcdHJlZlxuICAgICAgICBcdFx0XHQuY2hpbGQoJ2JhZGdlcycpXG4gICAgICAgIFx0KTtcblxuICAgICAgICBcdHByb2ZpbGVTY29yZURhdGEuJGxvYWRlZChmdW5jdGlvbigpIHtcbiAgICAgICAgXHRcdGRlZmVycmVkLnJlc29sdmUocHJvZmlsZVNjb3JlRGF0YSk7XG4gICAgICAgIFx0fSk7XG5cbiAgICAgICAgXHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgICB9XG5cbiAgICB9XG59KSgpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3ZnLmFwcCcpXG4gICAgICAgIC5jb250cm9sbGVyKCdQYXNzd29yZENoYW5nZUNvbnRyb2xsZXInLCBQYXNzd29yZENoYW5nZUNvbnRyb2xsZXIpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gUGFzc3dvcmRDaGFuZ2VDb250cm9sbGVyKCRzY29wZSwgJHRpbWVvdXQsICRzdGF0ZSwgQXV0aFdyYXBwZXIpIHtcblxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBcdGFuZ3VsYXIuZWxlbWVudCgnI2NvbnRlbnRWaWV3JylcbiAgICAgICAgICAgICAgICAuY3NzKCdvcGFjaXR5JywgJzEnKVxuICAgICAgICAgICAgICAgIC5jc3MoJ3Bvc2l0aW9uJywgJ2luaGVyaXQnKTtcbiAgICAgICAgfSwgMzEwKTtcblxuICAgICAgICB2bS5zdWJtaXRDaGFuZ2VQYXNzd29yZCA9IHN1Ym1pdENoYW5nZVBhc3N3b3JkO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIHN1Ym1pdENoYW5nZVBhc3N3b3JkKCkge1xuXG4gICAgICAgICAgICBpZiAoJHNjb3BlLnB3Q2hhbmdlRm9ybS4kdmFsaWQpIHtcblxuICAgICAgICAgICAgICAgIEF1dGhXcmFwcGVyLiRjaGFuZ2VQYXNzd29yZCh7XG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiBBdXRoV3JhcHBlci4kZ2V0QXV0aCgpLnBhc3N3b3JkLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICBvbGRQYXNzd29yZDogdm0uaW5wdXRDdXJyZW50UGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgIG5ld1Bhc3N3b3JkOiB2bS5pbnB1dE5ld1Bhc3N3b3JkXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBNYXRlcmlhbGl6ZS50b2FzdCgnWW91ciBwYXNzd29yZCB3YXMgY2hhbmdlZC4nLCA0MDAwKTtcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2luZGV4Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSAnSU5WQUxJRF9QQVNTV09SRCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLnNob3dDaGFuZ2VQYXNzd29yZE1lc3NhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH07XG5cbiAgICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1Byb2ZpbGVDb250cm9sbGVyJywgUHJvZmlsZUNvbnRyb2xsZXIpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gUHJvZmlsZUNvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGVQYXJhbXMsICRxLCAkdGltZW91dCwgJHN0YXRlLCAkZmlyZWJhc2VBcnJheSwgYXV0aFNlcnZpY2UsIHByb2ZpbGVTZXJ2aWNlLCBldmVudFNlcnZpY2UpIHtcblxuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgXHRhbmd1bGFyLmVsZW1lbnQoJyNjb250ZW50VmlldycpXG4gICAgICAgIFx0ICAgIC5jc3MoJ29wYWNpdHknLCAnMScpXG4gICAgICAgIFx0ICAgIC5jc3MoJ3Bvc2l0aW9uJywgJ2luaGVyaXQnKTtcblxuICAgICAgICAgICAgJCgnLmNvbGxhcHNpYmxlJykuY29sbGFwc2libGUoe1xuICAgICAgICAgICAgICAgIGFjY29yZGlvbjogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIDQxMCk7XG5cbiAgICAgICAgdmFyIEZCVVJMID0gJ2h0dHBzOi8vd29sZnNjb250ZXN0cy5maXJlYmFzZWlvLmNvbSc7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgdm0uaW5pdFByb2ZpbGUgPSBpbml0UHJvZmlsZTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBpbml0UHJvZmlsZSgpIHtcbiAgICAgICAgICAgIHByb2ZpbGVTZXJ2aWNlLmdldFVzZXJEYXRhKCRzdGF0ZVBhcmFtcy51c2VybmFtZSkudGhlbihmdW5jdGlvbihwcm9taXNlUmVzb2x1dGlvbikge1xuICAgICAgICAgICAgICAgIHZtLnByb2ZpbGVEYXRhID0gcHJvbWlzZVJlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICBwcm9maWxlU2VydmljZS5nZXRUb3VybmFtZW50SGlzdG9yeSh2bS5wcm9maWxlRGF0YSkudGhlbihmdW5jdGlvbihwcm9taXNlUmVzb2x1dGlvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG91cm5hbWVudEhpc3RvcnlEYXRhID0gcHJvbWlzZVJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgICAgIHZtLmV2ZW50U3RhbmRpbmdzID0gcHJvZmlsZVNlcnZpY2UuZ2V0VG91cm5hbWVudFN0YW5kaW5ncyh0b3VybmFtZW50SGlzdG9yeURhdGEsICRzdGF0ZVBhcmFtcy51c2VybmFtZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcHJvZmlsZVNlcnZpY2UuZ2V0QXZhdGFyRGF0YSgpLnRoZW4oZnVuY3Rpb24ocHJvbWlzZVJlc29sdXRpb24pIHtcbiAgICAgICAgICAgICAgICB2bS5hdmF0YXJEYXRhID0gcHJvbWlzZVJlc29sdXRpb247XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcHJvZmlsZVNlcnZpY2UuZ2V0QmFkZ2VzRGF0YSgkc3RhdGVQYXJhbXMudXNlcm5hbWUpLnRoZW4oZnVuY3Rpb24gdGhlbihtb2RlbCkge1xuICAgICAgICAgICAgICAgIHZtLmJhZGdlc0RhdGEgPSBtb2RlbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLnNlcnZpY2UoJ3Byb2ZpbGVTZXJ2aWNlJywgcHJvZmlsZVNlcnZpY2UpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcHJvZmlsZVNlcnZpY2UoJHJvb3RTY29wZSwgJHEsICRmaXJlYmFzZUFycmF5LCAkZmlyZWJhc2VPYmplY3QsIGV2ZW50U2VydmljZSkge1xuXG4gICAgXHR2YXIgRkJVUkwgPSAnaHR0cHM6Ly93b2xmc2NvbnRlc3RzLmZpcmViYXNlaW8uY29tJztcblxuICAgICAgICB0aGlzLmdldEF2YXRhckRhdGEgPSBnZXRBdmF0YXJEYXRhO1xuICAgICAgICB0aGlzLmdldEJhZGdlc0RhdGEgPSBnZXRCYWRnZXNEYXRhO1xuICAgIFx0dGhpcy5nZXRUb3VybmFtZW50SGlzdG9yeSA9IGdldFRvdXJuYW1lbnRIaXN0b3J5O1xuICAgICAgICB0aGlzLmdldFRvdXJuYW1lbnRTdGFuZGluZ3MgPSBnZXRUb3VybmFtZW50U3RhbmRpbmdzO1xuICAgICAgICB0aGlzLmdldFVzZXJEYXRhID0gZ2V0VXNlckRhdGE7XG4gICAgICAgIHRoaXMuc2F2ZUF2YXRhckxpbmsgPSBzYXZlQXZhdGFyTGluaztcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0QXZhdGFyRGF0YSgpIHtcblxuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciByZWYgPSBuZXcgRmlyZWJhc2UoRkJVUkwpO1xuXG4gICAgICAgICAgICB2YXIgYXZhdGFyRGF0YSA9ICRmaXJlYmFzZU9iamVjdChcbiAgICAgICAgICAgICAgICByZWZcbiAgICAgICAgICAgICAgICAgICAgLmNoaWxkKCdhdmF0YXJzJylcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGF2YXRhckRhdGEuJGxvYWRlZChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGF2YXRhckRhdGEpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRCYWRnZXNEYXRhKGlucHV0VXNlcikge1xuXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgdmFyIHJlZiA9IG5ldyBGaXJlYmFzZShGQlVSTCk7XG5cbiAgICAgICAgICAgIHZhciBiYWRnZXNEYXRhID0gJGZpcmViYXNlT2JqZWN0KFxuICAgICAgICAgICAgICAgIHJlZlxuICAgICAgICAgICAgICAgICAgICAuY2hpbGQoJ2JhZGdlcycpXG4gICAgICAgICAgICAgICAgICAgIC5jaGlsZChpbnB1dFVzZXIpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBiYWRnZXNEYXRhLiRsb2FkZWQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShiYWRnZXNEYXRhKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0VG91cm5hbWVudEhpc3RvcnkoaW5wdXRVc2VyRGF0YSkge1xuXG4gICAgICAgIFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgXHR2YXIgcmVmID0gbmV3IEZpcmViYXNlKEZCVVJMKTtcblxuICAgICAgICBcdC8vIExvb3AgdGhyb3VnaCBlYWNoIGV2ZW50IGluIHRoZSBwbGVkZ2VkVG8gb2JqZWN0LlxuICAgICAgICBcdHZhciBldmVudHNBcnJheSA9IFtdO1xuICAgICAgICBcdGZvciAodmFyIGtleSBpbiBpbnB1dFVzZXJEYXRhLnBsZWRnZWRUbykge1xuICAgICAgICBcdFx0ZXZlbnRzQXJyYXkucHVzaChrZXkpO1xuICAgICAgICBcdH1cblxuICAgICAgICBcdGRlZmVycmVkLnJlc29sdmUoZXZlbnRzQXJyYXkpO1xuXG4gICAgICAgIFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFRvdXJuYW1lbnRTdGFuZGluZ3MoaW5wdXRUb3VybmFtZW50SGlzdG9yeSwgaW5wdXRVc2VyKSB7XG5cbiAgICAgICAgICAgIHZhciByZWYgPSBuZXcgRmlyZWJhc2UoRkJVUkwpO1xuXG4gICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggZWFjaCBldmVudCBpbiB0aGUgdXNlcidzIGhpc3RvcnkuXG4gICAgICAgICAgICB2YXIgZXZlbnRTdGFuZGluZ3MgPSBbXTtcbiAgICAgICAgICAgIGlucHV0VG91cm5hbWVudEhpc3RvcnkuZm9yRWFjaChmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgICAgICAgICAgZXZlbnRTZXJ2aWNlLmdldEV2ZW50UHJvcGVydGllcyhldmVudCkudGhlbihmdW5jdGlvbihldmVudFByb3BlcnRpZXMpIHtcblxuICAgICAgICAgICAgICAgICAgICBldmVudFByb3BlcnRpZXMuJGxvYWRlZCgpLnRoZW4oZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGNvbmNsdWRlZCwgZ2V0IHRoZSB1c2VyJ3Mgc3RhbmRpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRQcm9wZXJ0aWVzLnN0YXRlID09PSAnY29uY2x1ZGVkJykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50U3RhbmRpbmdEYXRhID0gJGZpcmViYXNlT2JqZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZCgnc3RhbmRpbmdzJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZChldmVudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTdGFuZGluZ0RhdGEuJGxvYWRlZCgpLnRoZW4oZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50U3RhbmRpbmdEYXRhW2lucHV0VXNlcl0pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTdGFuZGluZ3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZXZlbnRQcm9wZXJ0aWVzLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlbWllcjogZXZlbnRQcm9wZXJ0aWVzLnByZW1pZXIgPyB0cnVlIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9ydE5hbWU6IGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiAnY29uY2x1ZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogZXZlbnRQcm9wZXJ0aWVzLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBldmVudFN0YW5kaW5nRGF0YVtpbnB1dFVzZXJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFN0YW5kaW5ncy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBldmVudFByb3BlcnRpZXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVtaWVyOiBldmVudFByb3BlcnRpZXMucHJlbWllciA/IHRydWUgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3J0TmFtZTogZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6ICdjb25jbHVkZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBldmVudFByb3BlcnRpZXMuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudFByb3BlcnRpZXMuc3RhdGUgPT09ICdpbnByb2dyZXNzJyB8fCBldmVudFByb3BlcnRpZXMuc3RhdGUgPT09ICd1cGNvbWluZycpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U3RhbmRpbmdzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBldmVudFByb3BlcnRpZXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlbWllcjogZXZlbnRQcm9wZXJ0aWVzLnByZW1pZXIgPyB0cnVlIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvcnROYW1lOiBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGV2ZW50UHJvcGVydGllcy5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IGV2ZW50UHJvcGVydGllcy5zdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBldmVudFN0YW5kaW5ncztcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0VXNlckRhdGEoaW5wdXRVc2VyKSB7XG5cbiAgICAgICAgXHR2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICBcdHZhciByZWYgPSBuZXcgRmlyZWJhc2UoRkJVUkwpO1xuXG4gICAgICAgIFx0dmFyIHVzZXJzRGF0YSA9ICRmaXJlYmFzZUFycmF5KFxuICAgICAgICBcdFx0cmVmXG4gICAgICAgIFx0XHRcdC5jaGlsZCgndXNlcnMnKVxuICAgICAgICBcdCk7XG5cbiAgICAgICAgXHR1c2Vyc0RhdGEuJGxvYWRlZChmdW5jdGlvbigpIHtcblxuICAgICAgICBcdFx0dXNlcnNEYXRhLmZvckVhY2goZnVuY3Rpb24odXNlcikge1xuICAgICAgICBcdFx0XHRpZiAodXNlci51c2VyTmFtZSA9PT0gaW5wdXRVc2VyKSB7XG4gICAgICAgIFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZSh1c2VyKTtcbiAgICAgICAgXHRcdFx0fVxuICAgICAgICBcdFx0fSk7XG5cbiAgICAgICAgXHR9KTtcblxuICAgICAgICBcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBGSVhNRTogTWFrZSB0aGlzIHNlcnZlci1zaWRlLlxuICAgICAgICBmdW5jdGlvbiBzYXZlQXZhdGFyTGluayhpbnB1dExpbmssIGlucHV0VXNlcikge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgcmVmID0gbmV3IEZpcmViYXNlKEZCVVJMKTtcblxuICAgICAgICAgICAgdmFyIGF2YXRhckRhdGEgPSAkZmlyZWJhc2VPYmplY3QoXG4gICAgICAgICAgICAgICAgcmVmXG4gICAgICAgICAgICAgICAgICAgIC5jaGlsZCgnYXZhdGFycycpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBhdmF0YXJEYXRhLiRsb2FkZWQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYXZhdGFyRGF0YVtpbnB1dFVzZXJdID0gaW5wdXRMaW5rO1xuICAgICAgICAgICAgICAgIGF2YXRhckRhdGEuJHNhdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgIH1cbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgndmcuYXBwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1JlZ0NvbnRyb2xsZXInLCBSZWdDb250cm9sbGVyKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIFJlZ0NvbnRyb2xsZXIoJHNjb3BlLCAkcm9vdFNjb3BlLCAkdGltZW91dCwgJHdpbmRvdywgJHN0YXRlLCAkZmlyZWJhc2VPYmplY3QsIGF1dGhTZXJ2aWNlLCBBdXRoV3JhcHBlcikge1xuXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBcdGFuZ3VsYXIuZWxlbWVudCgnI2NvbnRlbnRWaWV3JylcbiAgICAgICAgXHQgICAgLmNzcygnb3BhY2l0eScsICcxJylcbiAgICAgICAgXHQgICAgLmNzcygncG9zaXRpb24nLCAnaW5oZXJpdCcpO1xuICAgICAgICB9LCA0MTApO1xuXG4gICAgICAgIHZhciBGQlVSTCA9ICdodHRwczovL3dvbGZzY29udGVzdHMuZmlyZWJhc2Vpby5jb20nO1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIHZtLmxvZ2luVG9BY2NvdW50ID0gbG9naW5Ub0FjY291bnQ7XG4gICAgICAgIHZtLnBhc3N3b3JkUmVzZXQgPSBwYXNzd29yZFJlc2V0O1xuICAgICAgICB2bS5zdWJtaXROZXdBY2NvdW50ID0gc3VibWl0TmV3QWNjb3VudDtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBsb2dpblRvQWNjb3VudCgpIHtcblxuICAgICAgICAgICAgYXV0aFNlcnZpY2UubG9naW5Ub0FjY291bnQodm0ubG9naW5FbWFpbCwgdm0ubG9naW5QYXNzd29yZCkudGhlbihmdW5jdGlvbihwcm9taXNlUmVzb2x1dGlvbikge1xuXG4gICAgICAgICAgICAgICAgdm0uc2hvd0ludmFsaWRVc2VyRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2bS5zaG93SW52YWxpZFBhc3N3b3JkRXJyb3IgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmIChwcm9taXNlUmVzb2x1dGlvbiA9PT0gJ0xPR0lOX1NVQ0NFU1MnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdpbmRleCcpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9taXNlUmVzb2x1dGlvbiA9PT0gJ0lOVkFMSURfVVNFUicpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0uc2hvd0ludmFsaWRVc2VyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9taXNlUmVzb2x1dGlvbiA9PT0gJ0lOVkFMSURfUEFTU1dPUkQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLnNob3dJbnZhbGlkUGFzc3dvcmRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcGFzc3dvcmRSZXNldCgpIHtcblxuICAgICAgICAgICAgaWYgKCF2bS5sb2dpbkVtYWlsKSB7XG4gICAgICAgICAgICAgICAgdm0uc2hvd1Bhc3N3b3JkUmVzZXRFbWFpbE1lc3NhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQXV0aFdyYXBwZXIuJHJlc2V0UGFzc3dvcmQoe1xuICAgICAgICAgICAgICAgIGVtYWlsOiB2bS5sb2dpbkVtYWlsXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZtLnNob3dQYXNzd29yZFJlc2V0RW1haWxNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgTWF0ZXJpYWxpemUudG9hc3QoJ0EgcGFzc3dvcmQgcmVzZXQgZW1haWwgaGFzIGJlZW4gc2VudCB0byAnICsgdm0ubG9naW5FbWFpbCArICcuJywgNDAwMCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3VibWl0TmV3QWNjb3VudCgpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRG9lcyB0aGUgdXNlciBleGlzdD8gSWYgc28sIHNob3cgYW4gZXJyb3IgbWVzc2FnZS5cbiAgICAgICAgICAgIGF1dGhTZXJ2aWNlLmNoZWNrSWZVc2VyRXhpc3RzKHZtLm5ld1VzZXJuYW1lKS50aGVuKGZ1bmN0aW9uKHVzZXJFeGlzdHMpIHtcblxuICAgICAgICAgICAgICAgIHZtLnNob3dEdXBsaWNhdGVVc2VyRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2bS5zaG93RW1haWxUYWtlbkVycm9yID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAodXNlckV4aXN0cykge1xuXG4gICAgICAgICAgICAgICAgICAgIHZtLnNob3dEdXBsaWNhdGVVc2VyRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAvLyBUcnkgdG8gY3JlYXRlIHRoZSBuZXcgdXNlci5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGF1dGhTZXJ2aWNlLmNyZWF0ZU5ld1VzZXIodm0ubmV3RW1haWwsIHZtLm5ld1Bhc3N3b3JkLCB2bS5uZXdVc2VybmFtZSkudGhlbihmdW5jdGlvbihwcm9taXNlUmVzb2x1dGlvbikge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvbWlzZVJlc29sdXRpb24gPT09ICdFTUFJTF9UQUtFTicpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLnNob3dFbWFpbFRha2VuRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9taXNlUmVzb2x1dGlvbiA9PT0gJ0FDQ09VTlRfQ1JFQVRFRCcpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncHJvZmlsZScsIHt1c2VybmFtZTogdm0ubmV3VXNlcm5hbWV9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICB9XG5cbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9