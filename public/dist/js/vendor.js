/*! @license Firebase v2.2.4
    License: https://www.firebase.com/terms/terms-of-service.html */
(function() {var h,aa=this;function n(a){return void 0!==a}function ba(){}function ca(a){a.ub=function(){return a.tf?a.tf:a.tf=new a}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){return"function"==da(a)}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ja(a,b,c){return a.call.apply(a.bind,arguments)}
function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return q.apply(null,arguments)}var la=Date.now||function(){return+new Date};
function ma(a,b){function c(){}c.prototype=b.prototype;a.Zg=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Vg=function(a,c,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[c].apply(a,g)}};function r(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function na(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function oa(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function pa(a){var b=0,c;for(c in a)b++;return b}function qa(a){for(var b in a)return b}function ra(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function sa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ta(a,b){for(var c in a)if(a[c]==b)return!0;return!1}
function ua(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function va(a,b){var c=ua(a,b,void 0);return c&&a[c]}function wa(a){for(var b in a)return!1;return!0}function xa(a){var b={},c;for(c in a)b[c]=a[c];return b}var ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function za(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<ya.length;f++)c=ya[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Aa(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function Ba(){this.Pd=void 0}
function Ca(a,b,c){switch(typeof b){case "string":Da(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(ea(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],Ca(a,a.Pd?a.Pd.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),Da(f,c),
c.push(":"),Ca(a,a.Pd?a.Pd.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var Ea={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Fa=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function Da(a,b){b.push('"',a.replace(Fa,function(a){if(a in Ea)return Ea[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return Ea[a]=e+b.toString(16)}),'"')};function Ga(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)};var Ha;a:{var Ia=aa.navigator;if(Ia){var Ja=Ia.userAgent;if(Ja){Ha=Ja;break a}}Ha=""};function Ka(){this.Wa=-1};function La(){this.Wa=-1;this.Wa=64;this.R=[];this.le=[];this.Tf=[];this.Id=[];this.Id[0]=128;for(var a=1;a<this.Wa;++a)this.Id[a]=0;this.be=this.$b=0;this.reset()}ma(La,Ka);La.prototype.reset=function(){this.R[0]=1732584193;this.R[1]=4023233417;this.R[2]=2562383102;this.R[3]=271733878;this.R[4]=3285377520;this.be=this.$b=0};
function Ma(a,b,c){c||(c=0);var d=a.Tf;if(p(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.R[0];c=a.R[1];for(var g=a.R[2],k=a.R[3],l=a.R[4],m,e=0;80>e;e++)40>e?20>e?(f=k^c&(g^k),m=1518500249):(f=c^g^k,m=1859775393):60>e?(f=c&g|k&(c|g),m=2400959708):(f=c^g^k,m=3395469782),f=(b<<
5|b>>>27)+f+l+m+d[e]&4294967295,l=k,k=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.R[0]=a.R[0]+b&4294967295;a.R[1]=a.R[1]+c&4294967295;a.R[2]=a.R[2]+g&4294967295;a.R[3]=a.R[3]+k&4294967295;a.R[4]=a.R[4]+l&4294967295}
La.prototype.update=function(a,b){if(null!=a){n(b)||(b=a.length);for(var c=b-this.Wa,d=0,e=this.le,f=this.$b;d<b;){if(0==f)for(;d<=c;)Ma(this,a,d),d+=this.Wa;if(p(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.Wa){Ma(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Wa){Ma(this,e);f=0;break}}this.$b=f;this.be+=b}};var t=Array.prototype,Na=t.indexOf?function(a,b,c){return t.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Oa=t.forEach?function(a,b,c){t.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Pa=t.filter?function(a,b,c){return t.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=p(a)?
a.split(""):a,k=0;k<d;k++)if(k in g){var l=g[k];b.call(c,l,k,a)&&(e[f++]=l)}return e},Qa=t.map?function(a,b,c){return t.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=p(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ra=t.reduce?function(a,b,c,d){for(var e=[],f=1,g=arguments.length;f<g;f++)e.push(arguments[f]);d&&(e[0]=q(b,d));return t.reduce.apply(a,e)}:function(a,b,c,d){var e=c;Oa(a,function(c,g){e=b.call(d,e,c,g,a)});return e},Sa=t.every?function(a,b,
c){return t.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Ta(a,b){var c=Ua(a,b,void 0);return 0>c?null:p(a)?a.charAt(c):a[c]}function Ua(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Va(a,b){var c=Na(a,b);0<=c&&t.splice.call(a,c,1)}function Wa(a,b,c){return 2>=arguments.length?t.slice.call(a,b):t.slice.call(a,b,c)}
function Xa(a,b){a.sort(b||Ya)}function Ya(a,b){return a>b?1:a<b?-1:0};var Za=-1!=Ha.indexOf("Opera")||-1!=Ha.indexOf("OPR"),$a=-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE"),ab=-1!=Ha.indexOf("Gecko")&&-1==Ha.toLowerCase().indexOf("webkit")&&!(-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE")),bb=-1!=Ha.toLowerCase().indexOf("webkit");
(function(){var a="",b;if(Za&&aa.opera)return a=aa.opera.version,ha(a)?a():a;ab?b=/rv\:([^\);]+)(\)|;)/:$a?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:bb&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Ha))?a[1]:"");return $a&&(b=(b=aa.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var cb=null,db=null,eb=null;function fb(a,b){if(!fa(a))throw Error("encodeByteArray takes an array as a parameter");gb();for(var c=b?db:cb,d=[],e=0;e<a.length;e+=3){var f=a[e],g=e+1<a.length,k=g?a[e+1]:0,l=e+2<a.length,m=l?a[e+2]:0,v=f>>2,f=(f&3)<<4|k>>4,k=(k&15)<<2|m>>6,m=m&63;l||(m=64,g||(k=64));d.push(c[v],c[f],c[k],c[m])}return d.join("")}
function gb(){if(!cb){cb={};db={};eb={};for(var a=0;65>a;a++)cb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),db[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),eb[db[a]]=a,62<=a&&(eb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)]=a)}};function u(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function w(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function hb(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function ib(a){var b={};hb(a,function(a,d){b[a]=d});return b};function jb(a){var b=[];hb(a,function(a,d){ea(d)?Oa(d,function(d){b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))});return b.length?"&"+b.join("&"):""}function kb(a){var b={};a=a.replace(/^\?/,"").split("&");Oa(a,function(a){a&&(a=a.split("="),b[a[0]]=a[1])});return b};function x(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}function z(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}return a=a+" failed: "+(d+" argument ")}
function A(a,b,c,d){if((!d||n(c))&&!ha(c))throw Error(z(a,b,d)+"must be a valid function.");}function lb(a,b,c){if(n(c)&&(!ia(c)||null===c))throw Error(z(a,b,!0)+"must be a valid context object.");};function mb(a){return"undefined"!==typeof JSON&&n(JSON.parse)?JSON.parse(a):Aa(a)}function B(a){if("undefined"!==typeof JSON&&n(JSON.stringify))a=JSON.stringify(a);else{var b=[];Ca(new Ba,a,b);a=b.join("")}return a};function nb(){this.Sd=C}nb.prototype.j=function(a){return this.Sd.oa(a)};nb.prototype.toString=function(){return this.Sd.toString()};function ob(){}ob.prototype.pf=function(){return null};ob.prototype.xe=function(){return null};var pb=new ob;function qb(a,b,c){this.Qf=a;this.Ka=b;this.Hd=c}qb.prototype.pf=function(a){var b=this.Ka.D;if(rb(b,a))return b.j().M(a);b=null!=this.Hd?new sb(this.Hd,!0,!1):this.Ka.u();return this.Qf.Xa(a,b)};qb.prototype.xe=function(a,b,c){var d=null!=this.Hd?this.Hd:tb(this.Ka);a=this.Qf.me(d,b,1,c,a);return 0===a.length?null:a[0]};function ub(){this.tb=[]}function vb(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.Yb();null===c||f.Z(c.Yb())||(a.tb.push(c),c=null);null===c&&(c=new wb(f));c.add(e)}c&&a.tb.push(c)}function xb(a,b,c){vb(a,c);yb(a,function(a){return a.Z(b)})}function zb(a,b,c){vb(a,c);yb(a,function(a){return a.contains(b)||b.contains(a)})}
function yb(a,b){for(var c=!0,d=0;d<a.tb.length;d++){var e=a.tb[d];if(e)if(e=e.Yb(),b(e)){for(var e=a.tb[d],f=0;f<e.sd.length;f++){var g=e.sd[f];if(null!==g){e.sd[f]=null;var k=g.Ub();Ab&&Bb("event: "+g.toString());Cb(k)}}a.tb[d]=null}else c=!1}c&&(a.tb=[])}function wb(a){this.qa=a;this.sd=[]}wb.prototype.add=function(a){this.sd.push(a)};wb.prototype.Yb=function(){return this.qa};function D(a,b,c,d){this.type=a;this.Ja=b;this.Ya=c;this.Je=d;this.Nd=void 0}function Db(a){return new D(Eb,a)}var Eb="value";function Fb(a,b,c,d){this.te=b;this.Wd=c;this.Nd=d;this.rd=a}Fb.prototype.Yb=function(){var a=this.Wd.lc();return"value"===this.rd?a.path:a.parent().path};Fb.prototype.ye=function(){return this.rd};Fb.prototype.Ub=function(){return this.te.Ub(this)};Fb.prototype.toString=function(){return this.Yb().toString()+":"+this.rd+":"+B(this.Wd.lf())};function Gb(a,b,c){this.te=a;this.error=b;this.path=c}Gb.prototype.Yb=function(){return this.path};Gb.prototype.ye=function(){return"cancel"};
Gb.prototype.Ub=function(){return this.te.Ub(this)};Gb.prototype.toString=function(){return this.path.toString()+":cancel"};function sb(a,b,c){this.B=a;this.$=b;this.Tb=c}function Hb(a){return a.$}function rb(a,b){return a.$&&!a.Tb||a.B.Ha(b)}sb.prototype.j=function(){return this.B};function Ib(a){this.dg=a;this.Ad=null}Ib.prototype.get=function(){var a=this.dg.get(),b=xa(a);if(this.Ad)for(var c in this.Ad)b[c]-=this.Ad[c];this.Ad=a;return b};function Jb(a,b){this.Mf={};this.Yd=new Ib(a);this.ca=b;var c=1E4+2E4*Math.random();setTimeout(q(this.Hf,this),Math.floor(c))}Jb.prototype.Hf=function(){var a=this.Yd.get(),b={},c=!1,d;for(d in a)0<a[d]&&u(this.Mf,d)&&(b[d]=a[d],c=!0);c&&this.ca.Te(b);setTimeout(q(this.Hf,this),Math.floor(6E5*Math.random()))};function Kb(){this.Dc={}}function Lb(a,b,c){n(c)||(c=1);u(a.Dc,b)||(a.Dc[b]=0);a.Dc[b]+=c}Kb.prototype.get=function(){return xa(this.Dc)};var Mb={},Nb={};function Ob(a){a=a.toString();Mb[a]||(Mb[a]=new Kb);return Mb[a]}function Pb(a,b){var c=a.toString();Nb[c]||(Nb[c]=b());return Nb[c]};function E(a,b){this.name=a;this.S=b}function Qb(a,b){return new E(a,b)};function Rb(a,b){return Sb(a.name,b.name)}function Tb(a,b){return Sb(a,b)};function Ub(a,b,c){this.type=Vb;this.source=a;this.path=b;this.Ia=c}Ub.prototype.Wc=function(a){return this.path.e()?new Ub(this.source,F,this.Ia.M(a)):new Ub(this.source,G(this.path),this.Ia)};Ub.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ia.toString()+")"};function Wb(a,b){this.type=Xb;this.source=Yb;this.path=a;this.Ve=b}Wb.prototype.Wc=function(){return this.path.e()?this:new Wb(G(this.path),this.Ve)};Wb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Ve+")"};function Zb(a,b){this.type=$b;this.source=a;this.path=b}Zb.prototype.Wc=function(){return this.path.e()?new Zb(this.source,F):new Zb(this.source,G(this.path))};Zb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"};function ac(a,b){this.La=a;this.xa=b?b:bc}h=ac.prototype;h.Na=function(a,b){return new ac(this.La,this.xa.Na(a,b,this.La).X(null,null,!1,null,null))};h.remove=function(a){return new ac(this.La,this.xa.remove(a,this.La).X(null,null,!1,null,null))};h.get=function(a){for(var b,c=this.xa;!c.e();){b=this.La(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};
function cc(a,b){for(var c,d=a.xa,e=null;!d.e();){c=a.La(b,d.key);if(0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");}h.e=function(){return this.xa.e()};h.count=function(){return this.xa.count()};h.Rc=function(){return this.xa.Rc()};h.ec=function(){return this.xa.ec()};h.ha=function(a){return this.xa.ha(a)};
h.Wb=function(a){return new dc(this.xa,null,this.La,!1,a)};h.Xb=function(a,b){return new dc(this.xa,a,this.La,!1,b)};h.Zb=function(a,b){return new dc(this.xa,a,this.La,!0,b)};h.rf=function(a){return new dc(this.xa,null,this.La,!0,a)};function dc(a,b,c,d,e){this.Rd=e||null;this.Ee=d;this.Pa=[];for(e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.Ee?a.left:a.right;else if(0===e){this.Pa.push(a);break}else this.Pa.push(a),a=this.Ee?a.right:a.left}
function H(a){if(0===a.Pa.length)return null;var b=a.Pa.pop(),c;c=a.Rd?a.Rd(b.key,b.value):{key:b.key,value:b.value};if(a.Ee)for(b=b.left;!b.e();)a.Pa.push(b),b=b.right;else for(b=b.right;!b.e();)a.Pa.push(b),b=b.left;return c}function ec(a){if(0===a.Pa.length)return null;var b;b=a.Pa;b=b[b.length-1];return a.Rd?a.Rd(b.key,b.value):{key:b.key,value:b.value}}function fc(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:bc;this.right=null!=e?e:bc}h=fc.prototype;
h.X=function(a,b,c,d,e){return new fc(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};h.count=function(){return this.left.count()+1+this.right.count()};h.e=function(){return!1};h.ha=function(a){return this.left.ha(a)||a(this.key,this.value)||this.right.ha(a)};function gc(a){return a.left.e()?a:gc(a.left)}h.Rc=function(){return gc(this).key};h.ec=function(){return this.right.e()?this.key:this.right.ec()};
h.Na=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.X(null,null,null,e.left.Na(a,b,c),null):0===d?e.X(null,b,null,null,null):e.X(null,null,null,null,e.right.Na(a,b,c));return hc(e)};function ic(a){if(a.left.e())return bc;a.left.fa()||a.left.left.fa()||(a=jc(a));a=a.X(null,null,null,ic(a.left),null);return hc(a)}
h.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.e()||c.left.fa()||c.left.left.fa()||(c=jc(c)),c=c.X(null,null,null,c.left.remove(a,b),null);else{c.left.fa()&&(c=kc(c));c.right.e()||c.right.fa()||c.right.left.fa()||(c=lc(c),c.left.left.fa()&&(c=kc(c),c=lc(c)));if(0===b(a,c.key)){if(c.right.e())return bc;d=gc(c.right);c=c.X(d.key,d.value,null,null,ic(c.right))}c=c.X(null,null,null,null,c.right.remove(a,b))}return hc(c)};h.fa=function(){return this.color};
function hc(a){a.right.fa()&&!a.left.fa()&&(a=mc(a));a.left.fa()&&a.left.left.fa()&&(a=kc(a));a.left.fa()&&a.right.fa()&&(a=lc(a));return a}function jc(a){a=lc(a);a.right.left.fa()&&(a=a.X(null,null,null,null,kc(a.right)),a=mc(a),a=lc(a));return a}function mc(a){return a.right.X(null,null,a.color,a.X(null,null,!0,null,a.right.left),null)}function kc(a){return a.left.X(null,null,a.color,null,a.X(null,null,!0,a.left.right,null))}
function lc(a){return a.X(null,null,!a.color,a.left.X(null,null,!a.left.color,null,null),a.right.X(null,null,!a.right.color,null,null))}function nc(){}h=nc.prototype;h.X=function(){return this};h.Na=function(a,b){return new fc(a,b,null)};h.remove=function(){return this};h.count=function(){return 0};h.e=function(){return!0};h.ha=function(){return!1};h.Rc=function(){return null};h.ec=function(){return null};h.fa=function(){return!1};var bc=new nc;function oc(a,b){return a&&"object"===typeof a?(J(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function pc(a,b){var c=new qc;rc(a,new K(""),function(a,e){c.mc(a,sc(e,b))});return c}function sc(a,b){var c=a.A().K(),c=oc(c,b),d;if(a.N()){var e=oc(a.Ba(),b);return e!==a.Ba()||c!==a.A().K()?new tc(e,L(c)):a}d=a;c!==a.A().K()&&(d=d.da(new tc(c)));a.U(M,function(a,c){var e=sc(c,b);e!==c&&(d=d.Q(a,e))});return d};function K(a,b){if(1==arguments.length){this.o=a.split("/");for(var c=0,d=0;d<this.o.length;d++)0<this.o[d].length&&(this.o[c]=this.o[d],c++);this.o.length=c;this.Y=0}else this.o=a,this.Y=b}function N(a,b){var c=O(a);if(null===c)return b;if(c===O(b))return N(G(a),G(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")");}function O(a){return a.Y>=a.o.length?null:a.o[a.Y]}function uc(a){return a.o.length-a.Y}
function G(a){var b=a.Y;b<a.o.length&&b++;return new K(a.o,b)}function vc(a){return a.Y<a.o.length?a.o[a.o.length-1]:null}h=K.prototype;h.toString=function(){for(var a="",b=this.Y;b<this.o.length;b++)""!==this.o[b]&&(a+="/"+this.o[b]);return a||"/"};h.slice=function(a){return this.o.slice(this.Y+(a||0))};h.parent=function(){if(this.Y>=this.o.length)return null;for(var a=[],b=this.Y;b<this.o.length-1;b++)a.push(this.o[b]);return new K(a,0)};
h.w=function(a){for(var b=[],c=this.Y;c<this.o.length;c++)b.push(this.o[c]);if(a instanceof K)for(c=a.Y;c<a.o.length;c++)b.push(a.o[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new K(b,0)};h.e=function(){return this.Y>=this.o.length};h.Z=function(a){if(uc(this)!==uc(a))return!1;for(var b=this.Y,c=a.Y;b<=this.o.length;b++,c++)if(this.o[b]!==a.o[c])return!1;return!0};
h.contains=function(a){var b=this.Y,c=a.Y;if(uc(this)>uc(a))return!1;for(;b<this.o.length;){if(this.o[b]!==a.o[c])return!1;++b;++c}return!0};var F=new K("");function wc(a,b){this.Qa=a.slice();this.Ea=Math.max(1,this.Qa.length);this.kf=b;for(var c=0;c<this.Qa.length;c++)this.Ea+=xc(this.Qa[c]);yc(this)}wc.prototype.push=function(a){0<this.Qa.length&&(this.Ea+=1);this.Qa.push(a);this.Ea+=xc(a);yc(this)};wc.prototype.pop=function(){var a=this.Qa.pop();this.Ea-=xc(a);0<this.Qa.length&&--this.Ea};
function yc(a){if(768<a.Ea)throw Error(a.kf+"has a key path longer than 768 bytes ("+a.Ea+").");if(32<a.Qa.length)throw Error(a.kf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+zc(a));}function zc(a){return 0==a.Qa.length?"":"in property '"+a.Qa.join(".")+"'"};function Ac(){this.wc={}}Ac.prototype.set=function(a,b){null==b?delete this.wc[a]:this.wc[a]=b};Ac.prototype.get=function(a){return u(this.wc,a)?this.wc[a]:null};Ac.prototype.remove=function(a){delete this.wc[a]};Ac.prototype.uf=!0;function Bc(a){this.Ec=a;this.Md="firebase:"}h=Bc.prototype;h.set=function(a,b){null==b?this.Ec.removeItem(this.Md+a):this.Ec.setItem(this.Md+a,B(b))};h.get=function(a){a=this.Ec.getItem(this.Md+a);return null==a?null:mb(a)};h.remove=function(a){this.Ec.removeItem(this.Md+a)};h.uf=!1;h.toString=function(){return this.Ec.toString()};function Cc(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("firebase:sentinel","cache");b.removeItem("firebase:sentinel");return new Bc(b)}}catch(c){}return new Ac}var Dc=Cc("localStorage"),P=Cc("sessionStorage");function Ec(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.lb=b;this.Cb=c;this.Tg=d;this.Ld=e||"";this.Oa=Dc.get("host:"+a)||this.host}function Fc(a,b){b!==a.Oa&&(a.Oa=b,"s-"===a.Oa.substr(0,2)&&Dc.set("host:"+a.host,a.Oa))}Ec.prototype.toString=function(){var a=(this.lb?"https://":"http://")+this.host;this.Ld&&(a+="<"+this.Ld+">");return a};var Gc=function(){var a=1;return function(){return a++}}();function J(a,b){if(!a)throw Hc(b);}function Hc(a){return Error("Firebase (2.2.4) INTERNAL ASSERT FAILED: "+a)}
function Ic(a){try{var b;if("undefined"!==typeof atob)b=atob(a);else{gb();for(var c=eb,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],g=e<a.length?c[a.charAt(e)]:0;++e;var k=e<a.length?c[a.charAt(e)]:64;++e;var l=e<a.length?c[a.charAt(e)]:64;++e;if(null==f||null==g||null==k||null==l)throw Error();d.push(f<<2|g>>4);64!=k&&(d.push(g<<4&240|k>>2),64!=l&&d.push(k<<6&192|l))}if(8192>d.length)b=String.fromCharCode.apply(null,d);else{a="";for(c=0;c<d.length;c+=8192)a+=String.fromCharCode.apply(null,Wa(d,c,
c+8192));b=a}}return b}catch(m){Bb("base64Decode failed: ",m)}return null}function Jc(a){var b=Kc(a);a=new La;a.update(b);var b=[],c=8*a.be;56>a.$b?a.update(a.Id,56-a.$b):a.update(a.Id,a.Wa-(a.$b-56));for(var d=a.Wa-1;56<=d;d--)a.le[d]=c&255,c/=256;Ma(a,a.le);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.R[d]>>e&255,++c;return fb(b)}
function Lc(a){for(var b="",c=0;c<arguments.length;c++)b=fa(arguments[c])?b+Lc.apply(null,arguments[c]):"object"===typeof arguments[c]?b+B(arguments[c]):b+arguments[c],b+=" ";return b}var Ab=null,Mc=!0;function Bb(a){!0===Mc&&(Mc=!1,null===Ab&&!0===P.get("logging_enabled")&&Nc(!0));if(Ab){var b=Lc.apply(null,arguments);Ab(b)}}function Oc(a){return function(){Bb(a,arguments)}}
function Pc(a){if("undefined"!==typeof console){var b="FIREBASE INTERNAL ERROR: "+Lc.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function Qc(a){var b=Lc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b);}function Q(a){if("undefined"!==typeof console){var b="FIREBASE WARNING: "+Lc.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function Rc(a){var b="",c="",d="",e="",f=!0,g="https",k=443;if(p(a)){var l=a.indexOf("//");0<=l&&(g=a.substring(0,l-1),a=a.substring(l+2));l=a.indexOf("/");-1===l&&(l=a.length);b=a.substring(0,l);e="";a=a.substring(l).split("/");for(l=0;l<a.length;l++)if(0<a[l].length){var m=a[l];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch(v){}e+="/"+m}a=b.split(".");3===a.length?(c=a[1],d=a[0].toLowerCase()):2===a.length&&(c=a[0]);l=b.indexOf(":");0<=l&&(f="https"===g||"wss"===g,k=b.substring(l+1),isFinite(k)&&
(k=String(k)),k=p(k)?/^\s*-?0x/i.test(k)?parseInt(k,16):parseInt(k,10):NaN)}return{host:b,port:k,domain:c,Qg:d,lb:f,scheme:g,Zc:e}}function Sc(a){return ga(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}
function Tc(a){if("complete"===document.readyState)a();else{var b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}
function Sb(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=Uc(a),d=Uc(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function Vc(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+B(b));}
function Wc(a){if("object"!==typeof a||null===a)return B(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=B(b[d]),c+=":",c+=Wc(a[b[d]]);return c+"}"}function Xc(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function Yc(a,b){if(ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else r(a,b)}
function Zc(a){J(!Sc(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&
(d="0"+d),c+=d;return c.toLowerCase()}var $c=/^-?\d{1,10}$/;function Uc(a){return $c.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function Cb(a){try{a()}catch(b){setTimeout(function(){Q("Exception was thrown by user callback.",b.stack||"");throw b;},Math.floor(0))}}function R(a,b){if(ha(a)){var c=Array.prototype.slice.call(arguments,1).slice();Cb(function(){a.apply(null,c)})}};function Kc(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,J(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b}function xc(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b};function ad(a){var b={},c={},d={},e="";try{var f=a.split("."),b=mb(Ic(f[0])||""),c=mb(Ic(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(g){}return{Wg:b,Ac:c,data:d,Ng:e}}function bd(a){a=ad(a).Ac;return"object"===typeof a&&a.hasOwnProperty("iat")?w(a,"iat"):null}function cd(a){a=ad(a);var b=a.Ac;return!!a.Ng&&!!b&&"object"===typeof b&&b.hasOwnProperty("iat")};function dd(a){this.V=a;this.g=a.n.g}function ed(a,b,c,d){var e=[],f=[];Oa(b,function(b){"child_changed"===b.type&&a.g.xd(b.Je,b.Ja)&&f.push(new D("child_moved",b.Ja,b.Ya))});fd(a,e,"child_removed",b,d,c);fd(a,e,"child_added",b,d,c);fd(a,e,"child_moved",f,d,c);fd(a,e,"child_changed",b,d,c);fd(a,e,Eb,b,d,c);return e}function fd(a,b,c,d,e,f){d=Pa(d,function(a){return a.type===c});Xa(d,q(a.eg,a));Oa(d,function(c){var d=gd(a,c,f);Oa(e,function(e){e.Jf(c.type)&&b.push(e.createEvent(d,a.V))})})}
function gd(a,b,c){"value"!==b.type&&"child_removed"!==b.type&&(b.Nd=c.qf(b.Ya,b.Ja,a.g));return b}dd.prototype.eg=function(a,b){if(null==a.Ya||null==b.Ya)throw Hc("Should only compare child_ events.");return this.g.compare(new E(a.Ya,a.Ja),new E(b.Ya,b.Ja))};function hd(){this.eb={}}
function id(a,b){var c=b.type,d=b.Ya;J("child_added"==c||"child_changed"==c||"child_removed"==c,"Only child changes supported for tracking");J(".priority"!==d,"Only non-priority child changes can be tracked.");var e=w(a.eb,d);if(e){var f=e.type;if("child_added"==c&&"child_removed"==f)a.eb[d]=new D("child_changed",b.Ja,d,e.Ja);else if("child_removed"==c&&"child_added"==f)delete a.eb[d];else if("child_removed"==c&&"child_changed"==f)a.eb[d]=new D("child_removed",e.Je,d);else if("child_changed"==c&&
"child_added"==f)a.eb[d]=new D("child_added",b.Ja,d);else if("child_changed"==c&&"child_changed"==f)a.eb[d]=new D("child_changed",b.Ja,d,e.Je);else throw Hc("Illegal combination of changes: "+b+" occurred after "+e);}else a.eb[d]=b};function jd(a,b,c){this.Pb=a;this.qb=b;this.sb=c||null}h=jd.prototype;h.Jf=function(a){return"value"===a};h.createEvent=function(a,b){var c=b.n.g;return new Fb("value",this,new S(a.Ja,b.lc(),c))};h.Ub=function(a){var b=this.sb;if("cancel"===a.ye()){J(this.qb,"Raising a cancel event on a listener with no cancel callback");var c=this.qb;return function(){c.call(b,a.error)}}var d=this.Pb;return function(){d.call(b,a.Wd)}};h.ff=function(a,b){return this.qb?new Gb(this,a,b):null};
h.matches=function(a){return a instanceof jd?a.Pb&&this.Pb?a.Pb===this.Pb&&a.sb===this.sb:!0:!1};h.sf=function(){return null!==this.Pb};function kd(a,b,c){this.ga=a;this.qb=b;this.sb=c}h=kd.prototype;h.Jf=function(a){a="children_added"===a?"child_added":a;return("children_removed"===a?"child_removed":a)in this.ga};h.ff=function(a,b){return this.qb?new Gb(this,a,b):null};
h.createEvent=function(a,b){J(null!=a.Ya,"Child events should have a childName.");var c=b.lc().w(a.Ya);return new Fb(a.type,this,new S(a.Ja,c,b.n.g),a.Nd)};h.Ub=function(a){var b=this.sb;if("cancel"===a.ye()){J(this.qb,"Raising a cancel event on a listener with no cancel callback");var c=this.qb;return function(){c.call(b,a.error)}}var d=this.ga[a.rd];return function(){d.call(b,a.Wd,a.Nd)}};
h.matches=function(a){if(a instanceof kd){if(!this.ga||!a.ga)return!0;if(this.sb===a.sb){var b=pa(a.ga);if(b===pa(this.ga)){if(1===b){var b=qa(a.ga),c=qa(this.ga);return c===b&&(!a.ga[b]||!this.ga[c]||a.ga[b]===this.ga[c])}return oa(this.ga,function(b,c){return a.ga[c]===b})}}}return!1};h.sf=function(){return null!==this.ga};function ld(a){this.g=a}h=ld.prototype;h.G=function(a,b,c,d,e){J(a.Ic(this.g),"A node must be indexed if only a child is updated");d=a.M(b);if(d.Z(c))return a;null!=e&&(c.e()?a.Ha(b)?id(e,new D("child_removed",d,b)):J(a.N(),"A child remove without an old child only makes sense on a leaf node"):d.e()?id(e,new D("child_added",c,b)):id(e,new D("child_changed",c,b,d)));return a.N()&&c.e()?a:a.Q(b,c).mb(this.g)};
h.ta=function(a,b,c){null!=c&&(a.N()||a.U(M,function(a,e){b.Ha(a)||id(c,new D("child_removed",e,a))}),b.N()||b.U(M,function(b,e){if(a.Ha(b)){var f=a.M(b);f.Z(e)||id(c,new D("child_changed",e,b,f))}else id(c,new D("child_added",e,b))}));return b.mb(this.g)};h.da=function(a,b){return a.e()?C:a.da(b)};h.Ga=function(){return!1};h.Vb=function(){return this};function md(a){this.Ae=new ld(a.g);this.g=a.g;var b;a.la?(b=nd(a),b=a.g.Oc(od(a),b)):b=a.g.Sc();this.dd=b;a.na?(b=pd(a),a=a.g.Oc(qd(a),b)):a=a.g.Pc();this.Fc=a}h=md.prototype;h.matches=function(a){return 0>=this.g.compare(this.dd,a)&&0>=this.g.compare(a,this.Fc)};h.G=function(a,b,c,d,e){this.matches(new E(b,c))||(c=C);return this.Ae.G(a,b,c,d,e)};h.ta=function(a,b,c){b.N()&&(b=C);var d=b.mb(this.g),d=d.da(C),e=this;b.U(M,function(a,b){e.matches(new E(a,b))||(d=d.Q(a,C))});return this.Ae.ta(a,d,c)};
h.da=function(a){return a};h.Ga=function(){return!0};h.Vb=function(){return this.Ae};function rd(a){this.ra=new md(a);this.g=a.g;J(a.ia,"Only valid if limit has been set");this.ja=a.ja;this.Jb=!sd(a)}h=rd.prototype;h.G=function(a,b,c,d,e){this.ra.matches(new E(b,c))||(c=C);return a.M(b).Z(c)?a:a.Db()<this.ja?this.ra.Vb().G(a,b,c,d,e):td(this,a,b,c,d,e)};
h.ta=function(a,b,c){var d;if(b.N()||b.e())d=C.mb(this.g);else if(2*this.ja<b.Db()&&b.Ic(this.g)){d=C.mb(this.g);b=this.Jb?b.Zb(this.ra.Fc,this.g):b.Xb(this.ra.dd,this.g);for(var e=0;0<b.Pa.length&&e<this.ja;){var f=H(b),g;if(g=this.Jb?0>=this.g.compare(this.ra.dd,f):0>=this.g.compare(f,this.ra.Fc))d=d.Q(f.name,f.S),e++;else break}}else{d=b.mb(this.g);d=d.da(C);var k,l,m;if(this.Jb){b=d.rf(this.g);k=this.ra.Fc;l=this.ra.dd;var v=ud(this.g);m=function(a,b){return v(b,a)}}else b=d.Wb(this.g),k=this.ra.dd,
l=this.ra.Fc,m=ud(this.g);for(var e=0,y=!1;0<b.Pa.length;)f=H(b),!y&&0>=m(k,f)&&(y=!0),(g=y&&e<this.ja&&0>=m(f,l))?e++:d=d.Q(f.name,C)}return this.ra.Vb().ta(a,d,c)};h.da=function(a){return a};h.Ga=function(){return!0};h.Vb=function(){return this.ra.Vb()};
function td(a,b,c,d,e,f){var g;if(a.Jb){var k=ud(a.g);g=function(a,b){return k(b,a)}}else g=ud(a.g);J(b.Db()==a.ja,"");var l=new E(c,d),m=a.Jb?wd(b,a.g):xd(b,a.g),v=a.ra.matches(l);if(b.Ha(c)){var y=b.M(c),m=e.xe(a.g,m,a.Jb);null!=m&&m.name==c&&(m=e.xe(a.g,m,a.Jb));e=null==m?1:g(m,l);if(v&&!d.e()&&0<=e)return null!=f&&id(f,new D("child_changed",d,c,y)),b.Q(c,d);null!=f&&id(f,new D("child_removed",y,c));b=b.Q(c,C);return null!=m&&a.ra.matches(m)?(null!=f&&id(f,new D("child_added",m.S,m.name)),b.Q(m.name,
m.S)):b}return d.e()?b:v&&0<=g(m,l)?(null!=f&&(id(f,new D("child_removed",m.S,m.name)),id(f,new D("child_added",d,c))),b.Q(c,d).Q(m.name,C)):b};function yd(a,b){this.he=a;this.cg=b}function zd(a){this.I=a}
zd.prototype.bb=function(a,b,c,d){var e=new hd,f;if(b.type===Vb)b.source.ve?c=Ad(this,a,b.path,b.Ia,c,d,e):(J(b.source.of,"Unknown source."),f=b.source.af,c=Bd(this,a,b.path,b.Ia,c,d,f,e));else if(b.type===Cd)b.source.ve?c=Dd(this,a,b.path,b.children,c,d,e):(J(b.source.of,"Unknown source."),f=b.source.af,c=Ed(this,a,b.path,b.children,c,d,f,e));else if(b.type===Xb)if(b.Ve)if(f=b.path,null!=c.sc(f))c=a;else{b=new qb(c,a,d);d=a.D.j();if(f.e()||".priority"===O(f))Hb(a.u())?b=c.ua(tb(a)):(b=a.u().j(),
J(b instanceof T,"serverChildren would be complete if leaf node"),b=c.xc(b)),b=this.I.ta(d,b,e);else{f=O(f);var g=c.Xa(f,a.u());null==g&&rb(a.u(),f)&&(g=d.M(f));b=null!=g?this.I.G(d,f,g,b,e):a.D.j().Ha(f)?this.I.G(d,f,C,b,e):d;b.e()&&Hb(a.u())&&(d=c.ua(tb(a)),d.N()&&(b=this.I.ta(b,d,e)))}d=Hb(a.u())||null!=c.sc(F);c=Fd(a,b,d,this.I.Ga())}else c=Gd(this,a,b.path,c,d,e);else if(b.type===$b)d=b.path,b=a.u(),f=b.j(),g=b.$||d.e(),c=Hd(this,new Id(a.D,new sb(f,g,b.Tb)),d,c,pb,e);else throw Hc("Unknown operation type: "+
b.type);e=ra(e.eb);d=c;b=d.D;b.$&&(f=b.j().N()||b.j().e(),g=Jd(a),(0<e.length||!a.D.$||f&&!b.j().Z(g)||!b.j().A().Z(g.A()))&&e.push(Db(Jd(d))));return new yd(c,e)};
function Hd(a,b,c,d,e,f){var g=b.D;if(null!=d.sc(c))return b;var k;if(c.e())J(Hb(b.u()),"If change path is empty, we must have complete server data"),b.u().Tb?(e=tb(b),d=d.xc(e instanceof T?e:C)):d=d.ua(tb(b)),f=a.I.ta(b.D.j(),d,f);else{var l=O(c);if(".priority"==l)J(1==uc(c),"Can't have a priority with additional path components"),f=g.j(),k=b.u().j(),d=d.hd(c,f,k),f=null!=d?a.I.da(f,d):g.j();else{var m=G(c);rb(g,l)?(k=b.u().j(),d=d.hd(c,g.j(),k),d=null!=d?g.j().M(l).G(m,d):g.j().M(l)):d=d.Xa(l,b.u());
f=null!=d?a.I.G(g.j(),l,d,e,f):g.j()}}return Fd(b,f,g.$||c.e(),a.I.Ga())}function Bd(a,b,c,d,e,f,g,k){var l=b.u();g=g?a.I:a.I.Vb();if(c.e())d=g.ta(l.j(),d,null);else if(g.Ga()&&!l.Tb)d=l.j().G(c,d),d=g.ta(l.j(),d,null);else{var m=O(c);if((c.e()?!l.$||l.Tb:!rb(l,O(c)))&&1<uc(c))return b;d=l.j().M(m).G(G(c),d);d=".priority"==m?g.da(l.j(),d):g.G(l.j(),m,d,pb,null)}l=l.$||c.e();b=new Id(b.D,new sb(d,l,g.Ga()));return Hd(a,b,c,e,new qb(e,b,f),k)}
function Ad(a,b,c,d,e,f,g){var k=b.D;e=new qb(e,b,f);if(c.e())g=a.I.ta(b.D.j(),d,g),a=Fd(b,g,!0,a.I.Ga());else if(f=O(c),".priority"===f)g=a.I.da(b.D.j(),d),a=Fd(b,g,k.$,k.Tb);else{var l=G(c);c=k.j().M(f);if(!l.e()){var m=e.pf(f);d=null!=m?".priority"===vc(l)&&m.oa(l.parent()).e()?m:m.G(l,d):C}c.Z(d)?a=b:(g=a.I.G(k.j(),f,d,e,g),a=Fd(b,g,k.$,a.I.Ga()))}return a}
function Dd(a,b,c,d,e,f,g){var k=b;Kd(d,function(d,m){var v=c.w(d);rb(b.D,O(v))&&(k=Ad(a,k,v,m,e,f,g))});Kd(d,function(d,m){var v=c.w(d);rb(b.D,O(v))||(k=Ad(a,k,v,m,e,f,g))});return k}function Ld(a,b){Kd(b,function(b,d){a=a.G(b,d)});return a}
function Ed(a,b,c,d,e,f,g,k){if(b.u().j().e()&&!Hb(b.u()))return b;var l=b;c=c.e()?d:Md(Nd,c,d);var m=b.u().j();c.children.ha(function(c,d){if(m.Ha(c)){var I=b.u().j().M(c),I=Ld(I,d);l=Bd(a,l,new K(c),I,e,f,g,k)}});c.children.ha(function(c,d){var I=!Hb(b.u())&&null==d.value;m.Ha(c)||I||(I=b.u().j().M(c),I=Ld(I,d),l=Bd(a,l,new K(c),I,e,f,g,k))});return l}
function Gd(a,b,c,d,e,f){if(null!=d.sc(c))return b;var g=new qb(d,b,e),k=e=b.D.j();if(Hb(b.u())){if(c.e())e=d.ua(tb(b)),k=a.I.ta(b.D.j(),e,f);else if(".priority"===O(c)){var l=d.Xa(O(c),b.u());null==l||e.e()||e.A().Z(l)||(k=a.I.da(e,l))}else l=O(c),e=d.Xa(l,b.u()),null!=e&&(k=a.I.G(b.D.j(),l,e,g,f));e=!0}else if(b.D.$||c.e())k=e,e=b.D.j(),e.N()||e.U(M,function(c){var e=d.Xa(c,b.u());null!=e&&(k=a.I.G(k,c,e,g,f))}),e=b.D.$;else{l=O(c);if(1==uc(c)||rb(b.D,l))c=d.Xa(l,b.u()),null!=c&&(k=a.I.G(e,l,c,
g,f));e=!1}return Fd(b,k,e,a.I.Ga())};function Od(){}var Pd={};function ud(a){return q(a.compare,a)}Od.prototype.xd=function(a,b){return 0!==this.compare(new E("[MIN_NAME]",a),new E("[MIN_NAME]",b))};Od.prototype.Sc=function(){return Qd};function Rd(a){this.bc=a}ma(Rd,Od);h=Rd.prototype;h.Hc=function(a){return!a.M(this.bc).e()};h.compare=function(a,b){var c=a.S.M(this.bc),d=b.S.M(this.bc),c=c.Cc(d);return 0===c?Sb(a.name,b.name):c};h.Oc=function(a,b){var c=L(a),c=C.Q(this.bc,c);return new E(b,c)};
h.Pc=function(){var a=C.Q(this.bc,Sd);return new E("[MAX_NAME]",a)};h.toString=function(){return this.bc};function Td(){}ma(Td,Od);h=Td.prototype;h.compare=function(a,b){var c=a.S.A(),d=b.S.A(),c=c.Cc(d);return 0===c?Sb(a.name,b.name):c};h.Hc=function(a){return!a.A().e()};h.xd=function(a,b){return!a.A().Z(b.A())};h.Sc=function(){return Qd};h.Pc=function(){return new E("[MAX_NAME]",new tc("[PRIORITY-POST]",Sd))};h.Oc=function(a,b){var c=L(a);return new E(b,new tc("[PRIORITY-POST]",c))};
h.toString=function(){return".priority"};var M=new Td;function Ud(){}ma(Ud,Od);h=Ud.prototype;h.compare=function(a,b){return Sb(a.name,b.name)};h.Hc=function(){throw Hc("KeyIndex.isDefinedOn not expected to be called.");};h.xd=function(){return!1};h.Sc=function(){return Qd};h.Pc=function(){return new E("[MAX_NAME]",C)};h.Oc=function(a){J(p(a),"KeyIndex indexValue must always be a string.");return new E(a,C)};h.toString=function(){return".key"};var Vd=new Ud;function Wd(){}ma(Wd,Od);h=Wd.prototype;
h.compare=function(a,b){var c=a.S.Cc(b.S);return 0===c?Sb(a.name,b.name):c};h.Hc=function(){return!0};h.xd=function(a,b){return!a.Z(b)};h.Sc=function(){return Qd};h.Pc=function(){return Xd};h.Oc=function(a,b){var c=L(a);return new E(b,c)};h.toString=function(){return".value"};var Yd=new Wd;function Zd(){this.Rb=this.na=this.Lb=this.la=this.ia=!1;this.ja=0;this.Nb="";this.dc=null;this.xb="";this.ac=null;this.vb="";this.g=M}var $d=new Zd;function sd(a){return""===a.Nb?a.la:"l"===a.Nb}function od(a){J(a.la,"Only valid if start has been set");return a.dc}function nd(a){J(a.la,"Only valid if start has been set");return a.Lb?a.xb:"[MIN_NAME]"}function qd(a){J(a.na,"Only valid if end has been set");return a.ac}
function pd(a){J(a.na,"Only valid if end has been set");return a.Rb?a.vb:"[MAX_NAME]"}function ae(a){var b=new Zd;b.ia=a.ia;b.ja=a.ja;b.la=a.la;b.dc=a.dc;b.Lb=a.Lb;b.xb=a.xb;b.na=a.na;b.ac=a.ac;b.Rb=a.Rb;b.vb=a.vb;b.g=a.g;return b}h=Zd.prototype;h.Ge=function(a){var b=ae(this);b.ia=!0;b.ja=a;b.Nb="";return b};h.He=function(a){var b=ae(this);b.ia=!0;b.ja=a;b.Nb="l";return b};h.Ie=function(a){var b=ae(this);b.ia=!0;b.ja=a;b.Nb="r";return b};
h.Xd=function(a,b){var c=ae(this);c.la=!0;n(a)||(a=null);c.dc=a;null!=b?(c.Lb=!0,c.xb=b):(c.Lb=!1,c.xb="");return c};h.qd=function(a,b){var c=ae(this);c.na=!0;n(a)||(a=null);c.ac=a;n(b)?(c.Rb=!0,c.vb=b):(c.Yg=!1,c.vb="");return c};function be(a,b){var c=ae(a);c.g=b;return c}function ce(a){var b={};a.la&&(b.sp=a.dc,a.Lb&&(b.sn=a.xb));a.na&&(b.ep=a.ac,a.Rb&&(b.en=a.vb));if(a.ia){b.l=a.ja;var c=a.Nb;""===c&&(c=sd(a)?"l":"r");b.vf=c}a.g!==M&&(b.i=a.g.toString());return b}
function de(a){return!(a.la||a.na||a.ia)}function ee(a){var b={};if(de(a)&&a.g==M)return b;var c;a.g===M?c="$priority":a.g===Yd?c="$value":(J(a.g instanceof Rd,"Unrecognized index type!"),c=a.g.toString());b.orderBy=B(c);a.la&&(b.startAt=B(a.dc),a.Lb&&(b.startAt+=","+B(a.xb)));a.na&&(b.endAt=B(a.ac),a.Rb&&(b.endAt+=","+B(a.vb)));a.ia&&(sd(a)?b.limitToFirst=a.ja:b.limitToLast=a.ja);return b}h.toString=function(){return B(ce(this))};function fe(a,b){this.yd=a;this.cc=b}fe.prototype.get=function(a){var b=w(this.yd,a);if(!b)throw Error("No index defined for "+a);return b===Pd?null:b};function ge(a,b,c){var d=na(a.yd,function(d,f){var g=w(a.cc,f);J(g,"Missing index implementation for "+f);if(d===Pd){if(g.Hc(b.S)){for(var k=[],l=c.Wb(Qb),m=H(l);m;)m.name!=b.name&&k.push(m),m=H(l);k.push(b);return he(k,ud(g))}return Pd}g=c.get(b.name);k=d;g&&(k=k.remove(new E(b.name,g)));return k.Na(b,b.S)});return new fe(d,a.cc)}
function ie(a,b,c){var d=na(a.yd,function(a){if(a===Pd)return a;var d=c.get(b.name);return d?a.remove(new E(b.name,d)):a});return new fe(d,a.cc)}var je=new fe({".priority":Pd},{".priority":M});function tc(a,b){this.C=a;J(n(this.C)&&null!==this.C,"LeafNode shouldn't be created with null/undefined value.");this.ba=b||C;ke(this.ba);this.Bb=null}h=tc.prototype;h.N=function(){return!0};h.A=function(){return this.ba};h.da=function(a){return new tc(this.C,a)};h.M=function(a){return".priority"===a?this.ba:C};h.oa=function(a){return a.e()?this:".priority"===O(a)?this.ba:C};h.Ha=function(){return!1};h.qf=function(){return null};
h.Q=function(a,b){return".priority"===a?this.da(b):b.e()&&".priority"!==a?this:C.Q(a,b).da(this.ba)};h.G=function(a,b){var c=O(a);if(null===c)return b;if(b.e()&&".priority"!==c)return this;J(".priority"!==c||1===uc(a),".priority must be the last token in a path");return this.Q(c,C.G(G(a),b))};h.e=function(){return!1};h.Db=function(){return 0};h.K=function(a){return a&&!this.A().e()?{".value":this.Ba(),".priority":this.A().K()}:this.Ba()};
h.hash=function(){if(null===this.Bb){var a="";this.ba.e()||(a+="priority:"+le(this.ba.K())+":");var b=typeof this.C,a=a+(b+":"),a="number"===b?a+Zc(this.C):a+this.C;this.Bb=Jc(a)}return this.Bb};h.Ba=function(){return this.C};h.Cc=function(a){if(a===C)return 1;if(a instanceof T)return-1;J(a.N(),"Unknown node type");var b=typeof a.C,c=typeof this.C,d=Na(me,b),e=Na(me,c);J(0<=d,"Unknown leaf type: "+b);J(0<=e,"Unknown leaf type: "+c);return d===e?"object"===c?0:this.C<a.C?-1:this.C===a.C?0:1:e-d};
var me=["object","boolean","number","string"];tc.prototype.mb=function(){return this};tc.prototype.Ic=function(){return!0};tc.prototype.Z=function(a){return a===this?!0:a.N()?this.C===a.C&&this.ba.Z(a.ba):!1};tc.prototype.toString=function(){return B(this.K(!0))};function T(a,b,c){this.m=a;(this.ba=b)&&ke(this.ba);a.e()&&J(!this.ba||this.ba.e(),"An empty node cannot have a priority");this.wb=c;this.Bb=null}h=T.prototype;h.N=function(){return!1};h.A=function(){return this.ba||C};h.da=function(a){return this.m.e()?this:new T(this.m,a,this.wb)};h.M=function(a){if(".priority"===a)return this.A();a=this.m.get(a);return null===a?C:a};h.oa=function(a){var b=O(a);return null===b?this:this.M(b).oa(G(a))};h.Ha=function(a){return null!==this.m.get(a)};
h.Q=function(a,b){J(b,"We should always be passing snapshot nodes");if(".priority"===a)return this.da(b);var c=new E(a,b),d,e;b.e()?(d=this.m.remove(a),c=ie(this.wb,c,this.m)):(d=this.m.Na(a,b),c=ge(this.wb,c,this.m));e=d.e()?C:this.ba;return new T(d,e,c)};h.G=function(a,b){var c=O(a);if(null===c)return b;J(".priority"!==O(a)||1===uc(a),".priority must be the last token in a path");var d=this.M(c).G(G(a),b);return this.Q(c,d)};h.e=function(){return this.m.e()};h.Db=function(){return this.m.count()};
var ne=/^(0|[1-9]\d*)$/;h=T.prototype;h.K=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;this.U(M,function(f,g){b[f]=g.K(a);c++;e&&ne.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],g;for(g in b)f[g]=b[g];return f}a&&!this.A().e()&&(b[".priority"]=this.A().K());return b};h.hash=function(){if(null===this.Bb){var a="";this.A().e()||(a+="priority:"+le(this.A().K())+":");this.U(M,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});this.Bb=""===a?"":Jc(a)}return this.Bb};
h.qf=function(a,b,c){return(c=oe(this,c))?(a=cc(c,new E(a,b)))?a.name:null:cc(this.m,a)};function wd(a,b){var c;c=(c=oe(a,b))?(c=c.Rc())&&c.name:a.m.Rc();return c?new E(c,a.m.get(c)):null}function xd(a,b){var c;c=(c=oe(a,b))?(c=c.ec())&&c.name:a.m.ec();return c?new E(c,a.m.get(c)):null}h.U=function(a,b){var c=oe(this,a);return c?c.ha(function(a){return b(a.name,a.S)}):this.m.ha(b)};h.Wb=function(a){return this.Xb(a.Sc(),a)};
h.Xb=function(a,b){var c=oe(this,b);if(c)return c.Xb(a,function(a){return a});for(var c=this.m.Xb(a.name,Qb),d=ec(c);null!=d&&0>b.compare(d,a);)H(c),d=ec(c);return c};h.rf=function(a){return this.Zb(a.Pc(),a)};h.Zb=function(a,b){var c=oe(this,b);if(c)return c.Zb(a,function(a){return a});for(var c=this.m.Zb(a.name,Qb),d=ec(c);null!=d&&0<b.compare(d,a);)H(c),d=ec(c);return c};h.Cc=function(a){return this.e()?a.e()?0:-1:a.N()||a.e()?1:a===Sd?-1:0};
h.mb=function(a){if(a===Vd||ta(this.wb.cc,a.toString()))return this;var b=this.wb,c=this.m;J(a!==Vd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.Wb(Qb),f=H(c);f;)e=e||a.Hc(f.S),d.push(f),f=H(c);d=e?he(d,ud(a)):Pd;e=a.toString();c=xa(b.cc);c[e]=a;a=xa(b.yd);a[e]=d;return new T(this.m,this.ba,new fe(a,c))};h.Ic=function(a){return a===Vd||ta(this.wb.cc,a.toString())};
h.Z=function(a){if(a===this)return!0;if(a.N())return!1;if(this.A().Z(a.A())&&this.m.count()===a.m.count()){var b=this.Wb(M);a=a.Wb(M);for(var c=H(b),d=H(a);c&&d;){if(c.name!==d.name||!c.S.Z(d.S))return!1;c=H(b);d=H(a)}return null===c&&null===d}return!1};function oe(a,b){return b===Vd?null:a.wb.get(b.toString())}h.toString=function(){return B(this.K(!0))};function L(a,b){if(null===a)return C;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);J(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new tc(a,L(c));if(a instanceof Array){var d=C,e=a;r(e,function(a,b){if(u(e,b)&&"."!==b.substring(0,1)){var c=L(a);if(c.N()||!c.e())d=
d.Q(b,c)}});return d.da(L(c))}var f=[],g=!1,k=a;hb(k,function(a){if("string"!==typeof a||"."!==a.substring(0,1)){var b=L(k[a]);b.e()||(g=g||!b.A().e(),f.push(new E(a,b)))}});if(0==f.length)return C;var l=he(f,Rb,function(a){return a.name},Tb);if(g){var m=he(f,ud(M));return new T(l,L(c),new fe({".priority":m},{".priority":M}))}return new T(l,L(c),je)}var pe=Math.log(2);
function qe(a){this.count=parseInt(Math.log(a+1)/pe,10);this.hf=this.count-1;this.bg=a+1&parseInt(Array(this.count+1).join("1"),2)}function re(a){var b=!(a.bg&1<<a.hf);a.hf--;return b}
function he(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var m=a[b],v=c?c(m):m;return new fc(v,m.S,!1,null,null)}var m=parseInt(f/2,10)+b,f=e(b,m),y=e(m+1,d),m=a[m],v=c?c(m):m;return new fc(v,m.S,!1,f,y)}a.sort(b);var f=function(b){function d(b,g){var k=v-b,y=v;v-=b;var y=e(k+1,y),k=a[k],I=c?c(k):k,y=new fc(I,k.S,g,null,y);f?f.left=y:m=y;f=y}for(var f=null,m=null,v=a.length,y=0;y<b.count;++y){var I=re(b),vd=Math.pow(2,b.count-(y+1));I?d(vd,!1):(d(vd,!1),d(vd,!0))}return m}(new qe(a.length));
return null!==f?new ac(d||b,f):new ac(d||b)}function le(a){return"number"===typeof a?"number:"+Zc(a):"string:"+a}function ke(a){if(a.N()){var b=a.K();J("string"===typeof b||"number"===typeof b||"object"===typeof b&&u(b,".sv"),"Priority must be a string or number.")}else J(a===Sd||a.e(),"priority of unexpected type.");J(a===Sd||a.A().e(),"Priority nodes can't have a priority of their own.")}var C=new T(new ac(Tb),null,je);function se(){T.call(this,new ac(Tb),C,je)}ma(se,T);h=se.prototype;
h.Cc=function(a){return a===this?0:1};h.Z=function(a){return a===this};h.A=function(){return this};h.M=function(){return C};h.e=function(){return!1};var Sd=new se,Qd=new E("[MIN_NAME]",C),Xd=new E("[MAX_NAME]",Sd);function Id(a,b){this.D=a;this.Ud=b}function Fd(a,b,c,d){return new Id(new sb(b,c,d),a.Ud)}function Jd(a){return a.D.$?a.D.j():null}Id.prototype.u=function(){return this.Ud};function tb(a){return a.Ud.$?a.Ud.j():null};function te(a,b){this.V=a;var c=a.n,d=new ld(c.g),c=de(c)?new ld(c.g):c.ia?new rd(c):new md(c);this.Gf=new zd(c);var e=b.u(),f=b.D,g=d.ta(C,e.j(),null),k=c.ta(C,f.j(),null);this.Ka=new Id(new sb(k,f.$,c.Ga()),new sb(g,e.$,d.Ga()));this.Za=[];this.ig=new dd(a)}function ue(a){return a.V}h=te.prototype;h.u=function(){return this.Ka.u().j()};h.hb=function(a){var b=tb(this.Ka);return b&&(de(this.V.n)||!a.e()&&!b.M(O(a)).e())?b.oa(a):null};h.e=function(){return 0===this.Za.length};h.Ob=function(a){this.Za.push(a)};
h.kb=function(a,b){var c=[];if(b){J(null==a,"A cancel should cancel all event registrations.");var d=this.V.path;Oa(this.Za,function(a){(a=a.ff(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.Za.length;++f){var g=this.Za[f];if(!g.matches(a))e.push(g);else if(a.sf()){e=e.concat(this.Za.slice(f+1));break}}this.Za=e}else this.Za=[];return c};
h.bb=function(a,b,c){a.type===Cd&&null!==a.source.Ib&&(J(tb(this.Ka),"We should always have a full cache before handling merges"),J(Jd(this.Ka),"Missing event cache, even though we have a server cache"));var d=this.Ka;a=this.Gf.bb(d,a,b,c);b=this.Gf;c=a.he;J(c.D.j().Ic(b.I.g),"Event snap not indexed");J(c.u().j().Ic(b.I.g),"Server snap not indexed");J(Hb(a.he.u())||!Hb(d.u()),"Once a server snap is complete, it should never go back");this.Ka=a.he;return ve(this,a.cg,a.he.D.j(),null)};
function we(a,b){var c=a.Ka.D,d=[];c.j().N()||c.j().U(M,function(a,b){d.push(new D("child_added",b,a))});c.$&&d.push(Db(c.j()));return ve(a,d,c.j(),b)}function ve(a,b,c,d){return ed(a.ig,b,c,d?[d]:a.Za)};function xe(a,b,c){this.type=Cd;this.source=a;this.path=b;this.children=c}xe.prototype.Wc=function(a){if(this.path.e())return a=this.children.subtree(new K(a)),a.e()?null:a.value?new Ub(this.source,F,a.value):new xe(this.source,F,a);J(O(this.path)===a,"Can't get a merge for a child not on the path of the operation");return new xe(this.source,G(this.path),this.children)};xe.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};var Vb=0,Cd=1,Xb=2,$b=3;function ye(a,b,c,d){this.ve=a;this.of=b;this.Ib=c;this.af=d;J(!d||b,"Tagged queries must be from server.")}var Yb=new ye(!0,!1,null,!1),ze=new ye(!1,!0,null,!1);ye.prototype.toString=function(){return this.ve?"user":this.af?"server(queryID="+this.Ib+")":"server"};function Ae(a,b){this.f=Oc("p:rest:");this.H=a;this.Gb=b;this.Fa=null;this.aa={}}function Be(a,b){if(n(b))return"tag$"+b;var c=a.n;J(de(c)&&c.g==M,"should have a tag if it's not a default query.");return a.path.toString()}h=Ae.prototype;
h.xf=function(a,b,c,d){var e=a.path.toString();this.f("Listen called for "+e+" "+a.wa());var f=Be(a,c),g={};this.aa[f]=g;a=ee(a.n);var k=this;Ce(this,e+".json",a,function(a,b){var v=b;404===a&&(a=v=null);null===a&&k.Gb(e,v,!1,c);w(k.aa,f)===g&&d(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})};h.Of=function(a,b){var c=Be(a,b);delete this.aa[c]};h.P=function(a,b){this.Fa=a;var c=ad(a),d=c.data,c=c.Ac&&c.Ac.exp;b&&b("ok",{auth:d,expires:c})};h.ee=function(a){this.Fa=null;a("ok",null)};
h.Le=function(){};h.Bf=function(){};h.Gd=function(){};h.put=function(){};h.yf=function(){};h.Te=function(){};
function Ce(a,b,c,d){c=c||{};c.format="export";a.Fa&&(c.auth=a.Fa);var e=(a.H.lb?"https://":"http://")+a.H.host+b+"?"+jb(c);a.f("Sending REST request for "+e);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(d&&4===f.readyState){a.f("REST Response for "+e+" received. status:",f.status,"response:",f.responseText);var b=null;if(200<=f.status&&300>f.status){try{b=mb(f.responseText)}catch(c){Q("Failed to parse JSON response for "+e+": "+f.responseText)}d(null,b)}else 401!==f.status&&404!==
f.status&&Q("Got unsuccessful REST response for "+e+" Status: "+f.status),d(f.status);d=null}};f.open("GET",e,!0);f.send()};function De(a,b){this.value=a;this.children=b||Ee}var Ee=new ac(function(a,b){return a===b?0:a<b?-1:1});function Fe(a){var b=Nd;r(a,function(a,d){b=b.set(new K(d),a)});return b}h=De.prototype;h.e=function(){return null===this.value&&this.children.e()};function Ge(a,b,c){if(null!=a.value&&c(a.value))return{path:F,value:a.value};if(b.e())return null;var d=O(b);a=a.children.get(d);return null!==a?(b=Ge(a,G(b),c),null!=b?{path:(new K(d)).w(b.path),value:b.value}:null):null}
function He(a,b){return Ge(a,b,function(){return!0})}h.subtree=function(a){if(a.e())return this;var b=this.children.get(O(a));return null!==b?b.subtree(G(a)):Nd};h.set=function(a,b){if(a.e())return new De(b,this.children);var c=O(a),d=(this.children.get(c)||Nd).set(G(a),b),c=this.children.Na(c,d);return new De(this.value,c)};
h.remove=function(a){if(a.e())return this.children.e()?Nd:new De(null,this.children);var b=O(a),c=this.children.get(b);return c?(a=c.remove(G(a)),b=a.e()?this.children.remove(b):this.children.Na(b,a),null===this.value&&b.e()?Nd:new De(this.value,b)):this};h.get=function(a){if(a.e())return this.value;var b=this.children.get(O(a));return b?b.get(G(a)):null};
function Md(a,b,c){if(b.e())return c;var d=O(b);b=Md(a.children.get(d)||Nd,G(b),c);d=b.e()?a.children.remove(d):a.children.Na(d,b);return new De(a.value,d)}function Ie(a,b){return Je(a,F,b)}function Je(a,b,c){var d={};a.children.ha(function(a,f){d[a]=Je(f,b.w(a),c)});return c(b,a.value,d)}function Ke(a,b,c){return Le(a,b,F,c)}function Le(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.e())return null;e=O(b);return(a=a.children.get(e))?Le(a,G(b),c.w(e),d):null}
function Me(a,b,c){var d=F;if(!b.e()){var e=!0;a.value&&(e=c(d,a.value));!0===e&&(e=O(b),(a=a.children.get(e))&&Ne(a,G(b),d.w(e),c))}}function Ne(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=O(b);return(a=a.children.get(e))?Ne(a,G(b),c.w(e),d):Nd}function Kd(a,b){Oe(a,F,b)}function Oe(a,b,c){a.children.ha(function(a,e){Oe(e,b.w(a),c)});a.value&&c(b,a.value)}function Pe(a,b){a.children.ha(function(a,d){d.value&&b(a,d.value)})}var Nd=new De(null);
De.prototype.toString=function(){var a={};Kd(this,function(b,c){a[b.toString()]=c.toString()});return B(a)};function Qe(a){this.W=a}var Re=new Qe(new De(null));function Se(a,b,c){if(b.e())return new Qe(new De(c));var d=He(a.W,b);if(null!=d){var e=d.path,d=d.value;b=N(e,b);d=d.G(b,c);return new Qe(a.W.set(e,d))}a=Md(a.W,b,new De(c));return new Qe(a)}function Te(a,b,c){var d=a;hb(c,function(a,c){d=Se(d,b.w(a),c)});return d}Qe.prototype.Od=function(a){if(a.e())return Re;a=Md(this.W,a,Nd);return new Qe(a)};function Ue(a,b){var c=He(a.W,b);return null!=c?a.W.get(c.path).oa(N(c.path,b)):null}
function Ve(a){var b=[],c=a.W.value;null!=c?c.N()||c.U(M,function(a,c){b.push(new E(a,c))}):a.W.children.ha(function(a,c){null!=c.value&&b.push(new E(a,c.value))});return b}function We(a,b){if(b.e())return a;var c=Ue(a,b);return null!=c?new Qe(new De(c)):new Qe(a.W.subtree(b))}Qe.prototype.e=function(){return this.W.e()};Qe.prototype.apply=function(a){return Xe(F,this.W,a)};
function Xe(a,b,c){if(null!=b.value)return c.G(a,b.value);var d=null;b.children.ha(function(b,f){".priority"===b?(J(null!==f.value,"Priority writes must always be leaf nodes"),d=f.value):c=Xe(a.w(b),f,c)});c.oa(a).e()||null===d||(c=c.G(a.w(".priority"),d));return c};function Ye(){this.T=Re;this.za=[];this.Lc=-1}h=Ye.prototype;
h.Od=function(a){var b=Ua(this.za,function(b){return b.ie===a});J(0<=b,"removeWrite called with nonexistent writeId.");var c=this.za[b];this.za.splice(b,1);for(var d=c.visible,e=!1,f=this.za.length-1;d&&0<=f;){var g=this.za[f];g.visible&&(f>=b&&Ze(g,c.path)?d=!1:c.path.contains(g.path)&&(e=!0));f--}if(d){if(e)this.T=$e(this.za,af,F),this.Lc=0<this.za.length?this.za[this.za.length-1].ie:-1;else if(c.Ia)this.T=this.T.Od(c.path);else{var k=this;r(c.children,function(a,b){k.T=k.T.Od(c.path.w(b))})}return c.path}return null};
h.ua=function(a,b,c,d){if(c||d){var e=We(this.T,a);return!d&&e.e()?b:d||null!=b||null!=Ue(e,F)?(e=$e(this.za,function(b){return(b.visible||d)&&(!c||!(0<=Na(c,b.ie)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||C,e.apply(b)):null}e=Ue(this.T,a);if(null!=e)return e;e=We(this.T,a);return e.e()?b:null!=b||null!=Ue(e,F)?(b=b||C,e.apply(b)):null};
h.xc=function(a,b){var c=C,d=Ue(this.T,a);if(d)d.N()||d.U(M,function(a,b){c=c.Q(a,b)});else if(b){var e=We(this.T,a);b.U(M,function(a,b){var d=We(e,new K(a)).apply(b);c=c.Q(a,d)});Oa(Ve(e),function(a){c=c.Q(a.name,a.S)})}else e=We(this.T,a),Oa(Ve(e),function(a){c=c.Q(a.name,a.S)});return c};h.hd=function(a,b,c,d){J(c||d,"Either existingEventSnap or existingServerSnap must exist");a=a.w(b);if(null!=Ue(this.T,a))return null;a=We(this.T,a);return a.e()?d.oa(b):a.apply(d.oa(b))};
h.Xa=function(a,b,c){a=a.w(b);var d=Ue(this.T,a);return null!=d?d:rb(c,b)?We(this.T,a).apply(c.j().M(b)):null};h.sc=function(a){return Ue(this.T,a)};h.me=function(a,b,c,d,e,f){var g;a=We(this.T,a);g=Ue(a,F);if(null==g)if(null!=b)g=a.apply(b);else return[];g=g.mb(f);if(g.e()||g.N())return[];b=[];a=ud(f);e=e?g.Zb(c,f):g.Xb(c,f);for(f=H(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=H(e);return b};
function Ze(a,b){return a.Ia?a.path.contains(b):!!ua(a.children,function(c,d){return a.path.w(d).contains(b)})}function af(a){return a.visible}
function $e(a,b,c){for(var d=Re,e=0;e<a.length;++e){var f=a[e];if(b(f)){var g=f.path;if(f.Ia)c.contains(g)?(g=N(c,g),d=Se(d,g,f.Ia)):g.contains(c)&&(g=N(g,c),d=Se(d,F,f.Ia.oa(g)));else if(f.children)if(c.contains(g))g=N(c,g),d=Te(d,g,f.children);else{if(g.contains(c))if(g=N(g,c),g.e())d=Te(d,F,f.children);else if(f=w(f.children,O(g)))f=f.oa(G(g)),d=Se(d,F,f)}else throw Hc("WriteRecord should have .snap or .children");}}return d}function bf(a,b){this.Mb=a;this.W=b}h=bf.prototype;
h.ua=function(a,b,c){return this.W.ua(this.Mb,a,b,c)};h.xc=function(a){return this.W.xc(this.Mb,a)};h.hd=function(a,b,c){return this.W.hd(this.Mb,a,b,c)};h.sc=function(a){return this.W.sc(this.Mb.w(a))};h.me=function(a,b,c,d,e){return this.W.me(this.Mb,a,b,c,d,e)};h.Xa=function(a,b){return this.W.Xa(this.Mb,a,b)};h.w=function(a){return new bf(this.Mb.w(a),this.W)};function cf(){this.ya={}}h=cf.prototype;h.e=function(){return wa(this.ya)};h.bb=function(a,b,c){var d=a.source.Ib;if(null!==d)return d=w(this.ya,d),J(null!=d,"SyncTree gave us an op for an invalid query."),d.bb(a,b,c);var e=[];r(this.ya,function(d){e=e.concat(d.bb(a,b,c))});return e};h.Ob=function(a,b,c,d,e){var f=a.wa(),g=w(this.ya,f);if(!g){var g=c.ua(e?d:null),k=!1;g?k=!0:(g=d instanceof T?c.xc(d):C,k=!1);g=new te(a,new Id(new sb(g,k,!1),new sb(d,e,!1)));this.ya[f]=g}g.Ob(b);return we(g,b)};
h.kb=function(a,b,c){var d=a.wa(),e=[],f=[],g=null!=df(this);if("default"===d){var k=this;r(this.ya,function(a,d){f=f.concat(a.kb(b,c));a.e()&&(delete k.ya[d],de(a.V.n)||e.push(a.V))})}else{var l=w(this.ya,d);l&&(f=f.concat(l.kb(b,c)),l.e()&&(delete this.ya[d],de(l.V.n)||e.push(l.V)))}g&&null==df(this)&&e.push(new U(a.k,a.path));return{Hg:e,jg:f}};function ef(a){return Pa(ra(a.ya),function(a){return!de(a.V.n)})}h.hb=function(a){var b=null;r(this.ya,function(c){b=b||c.hb(a)});return b};
function ff(a,b){if(de(b.n))return df(a);var c=b.wa();return w(a.ya,c)}function df(a){return va(a.ya,function(a){return de(a.V.n)})||null};function gf(a){this.sa=Nd;this.Hb=new Ye;this.$e={};this.kc={};this.Mc=a}function hf(a,b,c,d,e){var f=a.Hb,g=e;J(d>f.Lc,"Stacking an older write on top of newer ones");n(g)||(g=!0);f.za.push({path:b,Ia:c,ie:d,visible:g});g&&(f.T=Se(f.T,b,c));f.Lc=d;return e?jf(a,new Ub(Yb,b,c)):[]}function kf(a,b,c,d){var e=a.Hb;J(d>e.Lc,"Stacking an older merge on top of newer ones");e.za.push({path:b,children:c,ie:d,visible:!0});e.T=Te(e.T,b,c);e.Lc=d;c=Fe(c);return jf(a,new xe(Yb,b,c))}
function lf(a,b,c){c=c||!1;b=a.Hb.Od(b);return null==b?[]:jf(a,new Wb(b,c))}function mf(a,b,c){c=Fe(c);return jf(a,new xe(ze,b,c))}function nf(a,b,c,d){d=of(a,d);if(null!=d){var e=pf(d);d=e.path;e=e.Ib;b=N(d,b);c=new Ub(new ye(!1,!0,e,!0),b,c);return qf(a,d,c)}return[]}function rf(a,b,c,d){if(d=of(a,d)){var e=pf(d);d=e.path;e=e.Ib;b=N(d,b);c=Fe(c);c=new xe(new ye(!1,!0,e,!0),b,c);return qf(a,d,c)}return[]}
gf.prototype.Ob=function(a,b){var c=a.path,d=null,e=!1;Me(this.sa,c,function(a,b){var f=N(a,c);d=b.hb(f);e=e||null!=df(b);return!d});var f=this.sa.get(c);f?(e=e||null!=df(f),d=d||f.hb(F)):(f=new cf,this.sa=this.sa.set(c,f));var g;null!=d?g=!0:(g=!1,d=C,Pe(this.sa.subtree(c),function(a,b){var c=b.hb(F);c&&(d=d.Q(a,c))}));var k=null!=ff(f,a);if(!k&&!de(a.n)){var l=sf(a);J(!(l in this.kc),"View does not exist, but we have a tag");var m=tf++;this.kc[l]=m;this.$e["_"+m]=l}g=f.Ob(a,b,new bf(c,this.Hb),
d,g);k||e||(f=ff(f,a),g=g.concat(uf(this,a,f)));return g};
gf.prototype.kb=function(a,b,c){var d=a.path,e=this.sa.get(d),f=[];if(e&&("default"===a.wa()||null!=ff(e,a))){f=e.kb(a,b,c);e.e()&&(this.sa=this.sa.remove(d));e=f.Hg;f=f.jg;b=-1!==Ua(e,function(a){return de(a.n)});var g=Ke(this.sa,d,function(a,b){return null!=df(b)});if(b&&!g&&(d=this.sa.subtree(d),!d.e()))for(var d=vf(d),k=0;k<d.length;++k){var l=d[k],m=l.V,l=wf(this,l);this.Mc.Xe(m,xf(this,m),l.ud,l.J)}if(!g&&0<e.length&&!c)if(b)this.Mc.Zd(a,null);else{var v=this;Oa(e,function(a){a.wa();var b=v.kc[sf(a)];
v.Mc.Zd(a,b)})}yf(this,e)}return f};gf.prototype.ua=function(a,b){var c=this.Hb,d=Ke(this.sa,a,function(b,c){var d=N(b,a);if(d=c.hb(d))return d});return c.ua(a,d,b,!0)};function vf(a){return Ie(a,function(a,c,d){if(c&&null!=df(c))return[df(c)];var e=[];c&&(e=ef(c));r(d,function(a){e=e.concat(a)});return e})}function yf(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!de(d.n)){var d=sf(d),e=a.kc[d];delete a.kc[d];delete a.$e["_"+e]}}}
function uf(a,b,c){var d=b.path,e=xf(a,b);c=wf(a,c);b=a.Mc.Xe(b,e,c.ud,c.J);d=a.sa.subtree(d);if(e)J(null==df(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=Ie(d,function(a,b,c){if(!a.e()&&b&&null!=df(b))return[ue(df(b))];var d=[];b&&(d=d.concat(Qa(ef(b),function(a){return a.V})));r(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.Mc.Zd(c,xf(a,c));return b}
function wf(a,b){var c=b.V,d=xf(a,c);return{ud:function(){return(b.u()||C).hash()},J:function(b){if("ok"===b){if(d){var f=c.path;if(b=of(a,d)){var g=pf(b);b=g.path;g=g.Ib;f=N(b,f);f=new Zb(new ye(!1,!0,g,!0),f);b=qf(a,b,f)}else b=[]}else b=jf(a,new Zb(ze,c.path));return b}f="Unknown Error";"too_big"===b?f="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==b?f="Client doesn't have permission to access the desired data.":"unavailable"==b&&
(f="The service is unavailable");f=Error(b+": "+f);f.code=b.toUpperCase();return a.kb(c,null,f)}}}function sf(a){return a.path.toString()+"$"+a.wa()}function pf(a){var b=a.indexOf("$");J(-1!==b&&b<a.length-1,"Bad queryKey.");return{Ib:a.substr(b+1),path:new K(a.substr(0,b))}}function of(a,b){var c=a.$e,d="_"+b;return d in c?c[d]:void 0}function xf(a,b){var c=sf(b);return w(a.kc,c)}var tf=1;
function qf(a,b,c){var d=a.sa.get(b);J(d,"Missing sync point for query tag that we're tracking");return d.bb(c,new bf(b,a.Hb),null)}function jf(a,b){return zf(a,b,a.sa,null,new bf(F,a.Hb))}function zf(a,b,c,d,e){if(b.path.e())return Af(a,b,c,d,e);var f=c.get(F);null==d&&null!=f&&(d=f.hb(F));var g=[],k=O(b.path),l=b.Wc(k);if((c=c.children.get(k))&&l)var m=d?d.M(k):null,k=e.w(k),g=g.concat(zf(a,l,c,m,k));f&&(g=g.concat(f.bb(b,e,d)));return g}
function Af(a,b,c,d,e){var f=c.get(F);null==d&&null!=f&&(d=f.hb(F));var g=[];c.children.ha(function(c,f){var m=d?d.M(c):null,v=e.w(c),y=b.Wc(c);y&&(g=g.concat(Af(a,y,f,m,v)))});f&&(g=g.concat(f.bb(b,e,d)));return g};function Bf(){this.children={};this.kd=0;this.value=null}function Cf(a,b,c){this.Dd=a?a:"";this.Yc=b?b:null;this.B=c?c:new Bf}function Df(a,b){for(var c=b instanceof K?b:new K(b),d=a,e;null!==(e=O(c));)d=new Cf(e,d,w(d.B.children,e)||new Bf),c=G(c);return d}h=Cf.prototype;h.Ba=function(){return this.B.value};function Ef(a,b){J("undefined"!==typeof b,"Cannot set value to undefined");a.B.value=b;Ff(a)}h.clear=function(){this.B.value=null;this.B.children={};this.B.kd=0;Ff(this)};
h.td=function(){return 0<this.B.kd};h.e=function(){return null===this.Ba()&&!this.td()};h.U=function(a){var b=this;r(this.B.children,function(c,d){a(new Cf(d,b,c))})};function Gf(a,b,c,d){c&&!d&&b(a);a.U(function(a){Gf(a,b,!0,d)});c&&d&&b(a)}function Hf(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}h.path=function(){return new K(null===this.Yc?this.Dd:this.Yc.path()+"/"+this.Dd)};h.name=function(){return this.Dd};h.parent=function(){return this.Yc};
function Ff(a){if(null!==a.Yc){var b=a.Yc,c=a.Dd,d=a.e(),e=u(b.B.children,c);d&&e?(delete b.B.children[c],b.B.kd--,Ff(b)):d||e||(b.B.children[c]=a.B,b.B.kd++,Ff(b))}};function If(a){J(ea(a)&&0<a.length,"Requires a non-empty array");this.Uf=a;this.Nc={}}If.prototype.de=function(a,b){for(var c=this.Nc[a]||[],d=0;d<c.length;d++)c[d].yc.apply(c[d].Ma,Array.prototype.slice.call(arguments,1))};If.prototype.Eb=function(a,b,c){Jf(this,a);this.Nc[a]=this.Nc[a]||[];this.Nc[a].push({yc:b,Ma:c});(a=this.ze(a))&&b.apply(c,a)};If.prototype.gc=function(a,b,c){Jf(this,a);a=this.Nc[a]||[];for(var d=0;d<a.length;d++)if(a[d].yc===b&&(!c||c===a[d].Ma)){a.splice(d,1);break}};
function Jf(a,b){J(Ta(a.Uf,function(a){return a===b}),"Unknown event: "+b)};var Kf=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);J(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);J(20===c.length,"nextPushId: Length should be 20.");
return c}}();function Lf(){If.call(this,["online"]);this.ic=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.ic||(a.ic=!0,a.de("online",!0))},!1);window.addEventListener("offline",function(){a.ic&&(a.ic=!1,a.de("online",!1))},!1)}}ma(Lf,If);Lf.prototype.ze=function(a){J("online"===a,"Unknown event type: "+a);return[this.ic]};ca(Lf);function Mf(){If.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.uc=!0;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];b!==c.uc&&(c.uc=b,c.de("visible",b))},!1)}}ma(Mf,If);Mf.prototype.ze=function(a){J("visible"===a,"Unknown event type: "+a);return[this.uc]};ca(Mf);var Nf=/[\[\].#$\/\u0000-\u001F\u007F]/,Of=/[\[\].#$\u0000-\u001F\u007F]/;function Pf(a){return p(a)&&0!==a.length&&!Nf.test(a)}function Qf(a){return null===a||p(a)||ga(a)&&!Sc(a)||ia(a)&&u(a,".sv")}function Rf(a,b,c,d){d&&!n(b)||Sf(z(a,1,d),b,c)}
function Sf(a,b,c){c instanceof K&&(c=new wc(c,a));if(!n(b))throw Error(a+"contains undefined "+zc(c));if(ha(b))throw Error(a+"contains a function "+zc(c)+" with contents: "+b.toString());if(Sc(b))throw Error(a+"contains "+b.toString()+" "+zc(c));if(p(b)&&b.length>10485760/3&&10485760<xc(b))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+zc(c)+" ('"+b.substring(0,50)+"...')");if(ia(b)){var d=!1,e=!1;hb(b,function(b,g){if(".value"===b)d=!0;else if(".priority"!==b&&".sv"!==b&&(e=
!0,!Pf(b)))throw Error(a+" contains an invalid key ("+b+") "+zc(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.push(b);Sf(a,g,c);c.pop()});if(d&&e)throw Error(a+' contains ".value" child '+zc(c)+" in addition to actual children.");}}
function Tf(a,b,c){if(!ia(b)||ea(b))throw Error(z(a,1,!1)+" must be an Object containing the children to replace.");if(u(b,".value"))throw Error(z(a,1,!1)+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');Rf(a,b,c,!1)}
function Uf(a,b,c){if(Sc(c))throw Error(z(a,b,!1)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Qf(c))throw Error(z(a,b,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).");}
function Vf(a,b,c){if(!c||n(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(z(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".');}}function Wf(a,b,c,d){if((!d||n(c))&&!Pf(c))throw Error(z(a,b,d)+'was an invalid key: "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}
function Xf(a,b){if(!p(b)||0===b.length||Of.test(b))throw Error(z(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');}function Yf(a,b){if(".info"===O(b))throw Error(a+" failed: Can't modify data under /.info/");}function Zf(a,b){if(!p(b))throw Error(z(a,1,!1)+"must be a valid credential (a string).");}function $f(a,b,c){if(!p(c))throw Error(z(a,b,!1)+"must be a valid string.");}
function ag(a,b,c,d){if(!d||n(c))if(!ia(c)||null===c)throw Error(z(a,b,d)+"must be a valid object.");}function bg(a,b,c){if(!ia(b)||null===b||!u(b,c))throw Error(z(a,1,!1)+'must contain the key "'+c+'"');if(!p(w(b,c)))throw Error(z(a,1,!1)+'must contain the key "'+c+'" with type "string"');};function cg(){this.set={}}h=cg.prototype;h.add=function(a,b){this.set[a]=null!==b?b:!0};h.contains=function(a){return u(this.set,a)};h.get=function(a){return this.contains(a)?this.set[a]:void 0};h.remove=function(a){delete this.set[a]};h.clear=function(){this.set={}};h.e=function(){return wa(this.set)};h.count=function(){return pa(this.set)};function dg(a,b){r(a.set,function(a,d){b(d,a)})}h.keys=function(){var a=[];r(this.set,function(b,c){a.push(c)});return a};function qc(){this.m=this.C=null}qc.prototype.find=function(a){if(null!=this.C)return this.C.oa(a);if(a.e()||null==this.m)return null;var b=O(a);a=G(a);return this.m.contains(b)?this.m.get(b).find(a):null};qc.prototype.mc=function(a,b){if(a.e())this.C=b,this.m=null;else if(null!==this.C)this.C=this.C.G(a,b);else{null==this.m&&(this.m=new cg);var c=O(a);this.m.contains(c)||this.m.add(c,new qc);c=this.m.get(c);a=G(a);c.mc(a,b)}};
function eg(a,b){if(b.e())return a.C=null,a.m=null,!0;if(null!==a.C){if(a.C.N())return!1;var c=a.C;a.C=null;c.U(M,function(b,c){a.mc(new K(b),c)});return eg(a,b)}return null!==a.m?(c=O(b),b=G(b),a.m.contains(c)&&eg(a.m.get(c),b)&&a.m.remove(c),a.m.e()?(a.m=null,!0):!1):!0}function rc(a,b,c){null!==a.C?c(b,a.C):a.U(function(a,e){var f=new K(b.toString()+"/"+a);rc(e,f,c)})}qc.prototype.U=function(a){null!==this.m&&dg(this.m,function(b,c){a(b,c)})};var fg="auth.firebase.com";function gg(a,b,c){this.ld=a||{};this.ce=b||{};this.ab=c||{};this.ld.remember||(this.ld.remember="default")}var hg=["remember","redirectTo"];function ig(a){var b={},c={};hb(a||{},function(a,e){0<=Na(hg,a)?b[a]=e:c[a]=e});return new gg(b,{},c)};function jg(a,b){this.Pe=["session",a.Ld,a.Cb].join(":");this.$d=b}jg.prototype.set=function(a,b){if(!b)if(this.$d.length)b=this.$d[0];else throw Error("fb.login.SessionManager : No storage options available!");b.set(this.Pe,a)};jg.prototype.get=function(){var a=Qa(this.$d,q(this.ng,this)),a=Pa(a,function(a){return null!==a});Xa(a,function(a,c){return bd(c.token)-bd(a.token)});return 0<a.length?a.shift():null};jg.prototype.ng=function(a){try{var b=a.get(this.Pe);if(b&&b.token)return b}catch(c){}return null};
jg.prototype.clear=function(){var a=this;Oa(this.$d,function(b){b.remove(a.Pe)})};function kg(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(navigator.userAgent)}function lg(){return"undefined"!==typeof location&&/^file:\//.test(location.href)}
function mg(){if("undefined"===typeof navigator)return!1;var a=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){if((a=a.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1])}else if(-1<a.indexOf("Trident")&&(a=a.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1]);return!1};function ng(){var a=window.opener.frames,b;for(b=a.length-1;0<=b;b--)try{if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&"__winchan_relay_frame"===a[b].name)return a[b]}catch(c){}return null}function og(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function pg(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}
function qg(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function rg(a){var b="";try{a=a.replace("#","");var c=kb(a);c&&u(c,"__firebase_request_key")&&(b=w(c,"__firebase_request_key"))}catch(d){}return b}function sg(){var a=Rc(fg);return a.scheme+"://"+a.host+"/v2"}function tg(a){return sg()+"/"+a+"/auth/channel"};function ug(a){var b=this;this.zc=a;this.ae="*";mg()?this.Qc=this.wd=ng():(this.Qc=window.opener,this.wd=window);if(!b.Qc)throw"Unable to find relay frame";og(this.wd,"message",q(this.hc,this));og(this.wd,"message",q(this.Af,this));try{vg(this,{a:"ready"})}catch(c){og(this.Qc,"load",function(){vg(b,{a:"ready"})})}og(window,"unload",q(this.yg,this))}function vg(a,b){b=B(b);mg()?a.Qc.doPost(b,a.ae):a.Qc.postMessage(b,a.ae)}
ug.prototype.hc=function(a){var b=this,c;try{c=mb(a.data)}catch(d){}c&&"request"===c.a&&(pg(window,"message",this.hc),this.ae=a.origin,this.zc&&setTimeout(function(){b.zc(b.ae,c.d,function(a,c){b.ag=!c;b.zc=void 0;vg(b,{a:"response",d:a,forceKeepWindowOpen:c})})},0))};ug.prototype.yg=function(){try{pg(this.wd,"message",this.Af)}catch(a){}this.zc&&(vg(this,{a:"error",d:"unknown closed window"}),this.zc=void 0);try{window.close()}catch(b){}};ug.prototype.Af=function(a){if(this.ag&&"die"===a.data)try{window.close()}catch(b){}};function wg(a){this.oc=Ga()+Ga()+Ga();this.Df=a}wg.prototype.open=function(a,b){P.set("redirect_request_id",this.oc);P.set("redirect_request_id",this.oc);b.requestId=this.oc;b.redirectTo=b.redirectTo||window.location.href;a+=(/\?/.test(a)?"":"?")+jb(b);window.location=a};wg.isAvailable=function(){return!lg()&&!kg()};wg.prototype.Bc=function(){return"redirect"};var xg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};function yg(a){var b=Error(w(xg,a),a);b.code=a;return b};function zg(a){if(!a.window_features||"undefined"!==typeof navigator&&(-1!==navigator.userAgent.indexOf("Fennec/")||-1!==navigator.userAgent.indexOf("Firefox/")&&-1!==navigator.userAgent.indexOf("Android")))a.window_features=void 0;a.window_name||(a.window_name="_blank");this.options=a}
zg.prototype.open=function(a,b,c){function d(a){g&&(document.body.removeChild(g),g=void 0);v&&(v=clearInterval(v));pg(window,"message",e);pg(window,"unload",d);if(m&&!a)try{m.close()}catch(b){k.postMessage("die",l)}m=k=void 0}function e(a){if(a.origin===l)try{var b=mb(a.data);"ready"===b.a?k.postMessage(y,l):"error"===b.a?(d(!1),c&&(c(b.d),c=null)):"response"===b.a&&(d(b.forceKeepWindowOpen),c&&(c(null,b.d),c=null))}catch(e){}}var f=mg(),g,k;if(!this.options.relay_url)return c(Error("invalid arguments: origin of url and relay_url must match"));
var l=qg(a);if(l!==qg(this.options.relay_url))c&&setTimeout(function(){c(Error("invalid arguments: origin of url and relay_url must match"))},0);else{f&&(g=document.createElement("iframe"),g.setAttribute("src",this.options.relay_url),g.style.display="none",g.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(g),k=g.contentWindow);a+=(/\?/.test(a)?"":"?")+jb(b);var m=window.open(a,this.options.window_name,this.options.window_features);k||(k=m);var v=setInterval(function(){m&&m.closed&&
(d(!1),c&&(c(yg("USER_CANCELLED")),c=null))},500),y=B({a:"request",d:b});og(window,"unload",d);og(window,"message",e)}};
zg.isAvailable=function(){return"postMessage"in window&&!lg()&&!(kg()||"undefined"!==typeof navigator&&(navigator.userAgent.match(/Windows Phone/)||window.Windows&&/^ms-appx:/.test(location.href))||"undefined"!==typeof navigator&&"undefined"!==typeof window&&(navigator.userAgent.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||navigator.userAgent.match(/CriOS/)||navigator.userAgent.match(/Twitter for iPhone/)||navigator.userAgent.match(/FBAN\/FBIOS/)||window.navigator.standalone))&&!("undefined"!==
typeof navigator&&navigator.userAgent.match(/PhantomJS/))};zg.prototype.Bc=function(){return"popup"};function Ag(a){a.method||(a.method="GET");a.headers||(a.headers={});a.headers.content_type||(a.headers.content_type="application/json");a.headers.content_type=a.headers.content_type.toLowerCase();this.options=a}
Ag.prototype.open=function(a,b,c){function d(){c&&(c(yg("REQUEST_INTERRUPTED")),c=null)}var e=new XMLHttpRequest,f=this.options.method.toUpperCase(),g;og(window,"beforeunload",d);e.onreadystatechange=function(){if(c&&4===e.readyState){var a;if(200<=e.status&&300>e.status){try{a=mb(e.responseText)}catch(b){}c(null,a)}else 500<=e.status&&600>e.status?c(yg("SERVER_ERROR")):c(yg("NETWORK_ERROR"));c=null;pg(window,"beforeunload",d)}};if("GET"===f)a+=(/\?/.test(a)?"":"?")+jb(b),g=null;else{var k=this.options.headers.content_type;
"application/json"===k&&(g=B(b));"application/x-www-form-urlencoded"===k&&(g=jb(b))}e.open(f,a,!0);a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"};za(a,this.options.headers);for(var l in a)e.setRequestHeader(l,a[l]);e.send(g)};Ag.isAvailable=function(){return!!window.XMLHttpRequest&&"string"===typeof(new XMLHttpRequest).responseType&&(!("undefined"!==typeof navigator&&(navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Trident/)))||mg())};Ag.prototype.Bc=function(){return"json"};function Bg(a){this.oc=Ga()+Ga()+Ga();this.Df=a}
Bg.prototype.open=function(a,b,c){function d(){c&&(c(yg("USER_CANCELLED")),c=null)}var e=this,f=Rc(fg),g;b.requestId=this.oc;b.redirectTo=f.scheme+"://"+f.host+"/blank/page.html";a+=/\?/.test(a)?"":"?";a+=jb(b);(g=window.open(a,"_blank","location=no"))&&ha(g.addEventListener)?(g.addEventListener("loadstart",function(a){var b;if(b=a&&a.url)a:{try{var m=document.createElement("a");m.href=a.url;b=m.host===f.host&&"/blank/page.html"===m.pathname;break a}catch(v){}b=!1}b&&(a=rg(a.url),g.removeEventListener("exit",
d),g.close(),a=new gg(null,null,{requestId:e.oc,requestKey:a}),e.Df.requestWithCredential("/auth/session",a,c),c=null)}),g.addEventListener("exit",d)):c(yg("TRANSPORT_UNAVAILABLE"))};Bg.isAvailable=function(){return kg()};Bg.prototype.Bc=function(){return"redirect"};function Cg(a){a.callback_parameter||(a.callback_parameter="callback");this.options=a;window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}
Cg.prototype.open=function(a,b,c){function d(){c&&(c(yg("REQUEST_INTERRUPTED")),c=null)}function e(){setTimeout(function(){window.__firebase_auth_jsonp[f]=void 0;wa(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var a=document.getElementById(f);a&&a.parentNode.removeChild(a)}catch(b){}},1);pg(window,"beforeunload",d)}var f="fn"+(new Date).getTime()+Math.floor(99999*Math.random());b[this.options.callback_parameter]="__firebase_auth_jsonp."+f;a+=(/\?/.test(a)?"":"?")+jb(b);
og(window,"beforeunload",d);window.__firebase_auth_jsonp[f]=function(a){c&&(c(null,a),c=null);e()};Dg(f,a,c)};
function Dg(a,b,c){setTimeout(function(){try{var d=document.createElement("script");d.type="text/javascript";d.id=a;d.async=!0;d.src=b;d.onerror=function(){var b=document.getElementById(a);null!==b&&b.parentNode.removeChild(b);c&&c(yg("NETWORK_ERROR"))};var e=document.getElementsByTagName("head");(e&&0!=e.length?e[0]:document.documentElement).appendChild(d)}catch(f){c&&c(yg("NETWORK_ERROR"))}},0)}Cg.isAvailable=function(){return!0};Cg.prototype.Bc=function(){return"json"};function Eg(a,b,c,d){If.call(this,["auth_status"]);this.H=a;this.df=b;this.Sg=c;this.Ke=d;this.rc=new jg(a,[Dc,P]);this.nb=null;this.Re=!1;Fg(this)}ma(Eg,If);h=Eg.prototype;h.we=function(){return this.nb||null};function Fg(a){P.get("redirect_request_id")&&Gg(a);var b=a.rc.get();b&&b.token?(Hg(a,b),a.df(b.token,function(c,d){Ig(a,c,d,!1,b.token,b)},function(b,d){Jg(a,"resumeSession()",b,d)})):Hg(a,null)}
function Kg(a,b,c,d,e,f){"firebaseio-demo.com"===a.H.domain&&Q("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com.");a.df(b,function(f,k){Ig(a,f,k,!0,b,c,d||{},e)},function(b,c){Jg(a,"auth()",b,c,f)})}function Lg(a,b){a.rc.clear();Hg(a,null);a.Sg(function(a,d){if("ok"===a)R(b,null);else{var e=(a||"error").toUpperCase(),f=e;d&&(f+=": "+d);f=Error(f);f.code=e;R(b,f)}})}
function Ig(a,b,c,d,e,f,g,k){"ok"===b?(d&&(b=c.auth,f.auth=b,f.expires=c.expires,f.token=cd(e)?e:"",c=null,b&&u(b,"uid")?c=w(b,"uid"):u(f,"uid")&&(c=w(f,"uid")),f.uid=c,c="custom",b&&u(b,"provider")?c=w(b,"provider"):u(f,"provider")&&(c=w(f,"provider")),f.provider=c,a.rc.clear(),cd(e)&&(g=g||{},c=Dc,"sessionOnly"===g.remember&&(c=P),"none"!==g.remember&&a.rc.set(f,c)),Hg(a,f)),R(k,null,f)):(a.rc.clear(),Hg(a,null),f=a=(b||"error").toUpperCase(),c&&(f+=": "+c),f=Error(f),f.code=a,R(k,f))}
function Jg(a,b,c,d,e){Q(b+" was canceled: "+d);a.rc.clear();Hg(a,null);a=Error(d);a.code=c.toUpperCase();R(e,a)}function Mg(a,b,c,d,e){Ng(a);c=new gg(d||{},{},c||{});Og(a,[Ag,Cg],"/auth/"+b,c,e)}
function Pg(a,b,c,d){Ng(a);var e=[zg,Bg];c=ig(c);"anonymous"===b||"password"===b?setTimeout(function(){R(d,yg("TRANSPORT_UNAVAILABLE"))},0):(c.ce.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"===typeof screen?.5*(screen.height-625):0)+",left="+("object"===typeof screen?.5*(screen.width-625):0),c.ce.relay_url=tg(a.H.Cb),c.ce.requestWithCredential=q(a.pc,a),Og(a,e,"/auth/"+b,c,d))}
function Gg(a){var b=P.get("redirect_request_id");if(b){var c=P.get("redirect_client_options");P.remove("redirect_request_id");P.remove("redirect_client_options");var d=[Ag,Cg],b={requestId:b,requestKey:rg(document.location.hash)},c=new gg(c,{},b);a.Re=!0;try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(e){}Og(a,d,"/auth/session",c,function(){this.Re=!1}.bind(a))}}
h.re=function(a,b){Ng(this);var c=ig(a);c.ab._method="POST";this.pc("/users",c,function(a,c){a?R(b,a):R(b,a,c)})};h.Se=function(a,b){var c=this;Ng(this);var d="/users/"+encodeURIComponent(a.email),e=ig(a);e.ab._method="DELETE";this.pc(d,e,function(a,d){!a&&d&&d.uid&&c.nb&&c.nb.uid&&c.nb.uid===d.uid&&Lg(c);R(b,a)})};h.oe=function(a,b){Ng(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=ig(a);d.ab._method="PUT";d.ab.password=a.newPassword;this.pc(c,d,function(a){R(b,a)})};
h.ne=function(a,b){Ng(this);var c="/users/"+encodeURIComponent(a.oldEmail)+"/email",d=ig(a);d.ab._method="PUT";d.ab.email=a.newEmail;d.ab.password=a.password;this.pc(c,d,function(a){R(b,a)})};h.Ue=function(a,b){Ng(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=ig(a);d.ab._method="POST";this.pc(c,d,function(a){R(b,a)})};h.pc=function(a,b,c){Qg(this,[Ag,Cg],a,b,c)};
function Og(a,b,c,d,e){Qg(a,b,c,d,function(b,c){!b&&c&&c.token&&c.uid?Kg(a,c.token,c,d.ld,function(a,b){a?R(e,a):R(e,null,b)}):R(e,b||yg("UNKNOWN_ERROR"))})}
function Qg(a,b,c,d,e){b=Pa(b,function(a){return"function"===typeof a.isAvailable&&a.isAvailable()});0===b.length?setTimeout(function(){R(e,yg("TRANSPORT_UNAVAILABLE"))},0):(b=new (b.shift())(d.ce),d=ib(d.ab),d.v="js-2.2.4",d.transport=b.Bc(),d.suppress_status_codes=!0,a=sg()+"/"+a.H.Cb+c,b.open(a,d,function(a,b){if(a)R(e,a);else if(b&&b.error){var c=Error(b.error.message);c.code=b.error.code;c.details=b.error.details;R(e,c)}else R(e,null,b)}))}
function Hg(a,b){var c=null!==a.nb||null!==b;a.nb=b;c&&a.de("auth_status",b);a.Ke(null!==b)}h.ze=function(a){J("auth_status"===a,'initial event must be of type "auth_status"');return this.Re?null:[this.nb]};function Ng(a){var b=a.H;if("firebaseio.com"!==b.domain&&"firebaseio-demo.com"!==b.domain&&"auth.firebase.com"===fg)throw Error("This custom Firebase server ('"+a.H.domain+"') does not support delegated login.");};function Rg(a){this.hc=a;this.Kd=[];this.Qb=0;this.pe=-1;this.Fb=null}function Sg(a,b,c){a.pe=b;a.Fb=c;a.pe<a.Qb&&(a.Fb(),a.Fb=null)}function Tg(a,b,c){for(a.Kd[b]=c;a.Kd[a.Qb];){var d=a.Kd[a.Qb];delete a.Kd[a.Qb];for(var e=0;e<d.length;++e)if(d[e]){var f=a;Cb(function(){f.hc(d[e])})}if(a.Qb===a.pe){a.Fb&&(clearTimeout(a.Fb),a.Fb(),a.Fb=null);break}a.Qb++}};function Ug(a,b,c){this.qe=a;this.f=Oc(a);this.ob=this.pb=0;this.Va=Ob(b);this.Vd=c;this.Gc=!1;this.gd=function(a){b.host!==b.Oa&&(a.ns=b.Cb);var c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return(b.lb?"https://":"http://")+b.Oa+"/.lp?"+c.join("&")}}var Vg,Wg;
Ug.prototype.open=function(a,b){this.gf=0;this.ka=b;this.zf=new Rg(a);this.zb=!1;var c=this;this.rb=setTimeout(function(){c.f("Timed out trying to connect.");c.ib();c.rb=null},Math.floor(3E4));Tc(function(){if(!c.zb){c.Ta=new Xg(function(a,b,d,k,l){Yg(c,arguments);if(c.Ta)if(c.rb&&(clearTimeout(c.rb),c.rb=null),c.Gc=!0,"start"==a)c.id=b,c.Ff=d;else if("close"===a)b?(c.Ta.Td=!1,Sg(c.zf,b,function(){c.ib()})):c.ib();else throw Error("Unrecognized command received: "+a);},function(a,b){Yg(c,arguments);
Tg(c.zf,a,b)},function(){c.ib()},c.gd);var a={start:"t"};a.ser=Math.floor(1E8*Math.random());c.Ta.fe&&(a.cb=c.Ta.fe);a.v="5";c.Vd&&(a.s=c.Vd);"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f");a=c.gd(a);c.f("Connecting via long-poll to "+a);Zg(c.Ta,a,function(){})}})};
Ug.prototype.start=function(){var a=this.Ta,b=this.Ff;a.rg=this.id;a.sg=b;for(a.ke=!0;$g(a););a=this.id;b=this.Ff;this.fc=document.createElement("iframe");var c={dframe:"t"};c.id=a;c.pw=b;this.fc.src=this.gd(c);this.fc.style.display="none";document.body.appendChild(this.fc)};Ug.isAvailable=function(){return!Wg&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.Ug)&&(Vg||!0)};h=Ug.prototype;
h.Bd=function(){};h.cd=function(){this.zb=!0;this.Ta&&(this.Ta.close(),this.Ta=null);this.fc&&(document.body.removeChild(this.fc),this.fc=null);this.rb&&(clearTimeout(this.rb),this.rb=null)};h.ib=function(){this.zb||(this.f("Longpoll is closing itself"),this.cd(),this.ka&&(this.ka(this.Gc),this.ka=null))};h.close=function(){this.zb||(this.f("Longpoll is being closed."),this.cd())};
h.send=function(a){a=B(a);this.pb+=a.length;Lb(this.Va,"bytes_sent",a.length);a=Kc(a);a=fb(a,!0);a=Xc(a,1840);for(var b=0;b<a.length;b++){var c=this.Ta;c.$c.push({Jg:this.gf,Rg:a.length,jf:a[b]});c.ke&&$g(c);this.gf++}};function Yg(a,b){var c=B(b).length;a.ob+=c;Lb(a.Va,"bytes_received",c)}
function Xg(a,b,c,d){this.gd=d;this.jb=c;this.Oe=new cg;this.$c=[];this.se=Math.floor(1E8*Math.random());this.Td=!0;this.fe=Gc();window["pLPCommand"+this.fe]=a;window["pRTLPCB"+this.fe]=b;a=document.createElement("iframe");a.style.display="none";if(document.body){document.body.appendChild(a);try{a.contentWindow.document||Bb("No IE domain setting required")}catch(e){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";
a.contentDocument?a.gb=a.contentDocument:a.contentWindow?a.gb=a.contentWindow.document:a.document&&(a.gb=a.document);this.Ca=a;a="";this.Ca.src&&"javascript:"===this.Ca.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";\x3c/script>');a="<html><body>"+a+"</body></html>";try{this.Ca.gb.open(),this.Ca.gb.write(a),this.Ca.gb.close()}catch(f){Bb("frame writing exception"),f.stack&&Bb(f.stack),Bb(f)}}
Xg.prototype.close=function(){this.ke=!1;if(this.Ca){this.Ca.gb.body.innerHTML="";var a=this;setTimeout(function(){null!==a.Ca&&(document.body.removeChild(a.Ca),a.Ca=null)},Math.floor(0))}var b=this.jb;b&&(this.jb=null,b())};
function $g(a){if(a.ke&&a.Td&&a.Oe.count()<(0<a.$c.length?2:1)){a.se++;var b={};b.id=a.rg;b.pw=a.sg;b.ser=a.se;for(var b=a.gd(b),c="",d=0;0<a.$c.length;)if(1870>=a.$c[0].jf.length+30+c.length){var e=a.$c.shift(),c=c+"&seg"+d+"="+e.Jg+"&ts"+d+"="+e.Rg+"&d"+d+"="+e.jf;d++}else break;ah(a,b+c,a.se);return!0}return!1}function ah(a,b,c){function d(){a.Oe.remove(c);$g(a)}a.Oe.add(c,1);var e=setTimeout(d,Math.floor(25E3));Zg(a,b,function(){clearTimeout(e);d()})}
function Zg(a,b,c){setTimeout(function(){try{if(a.Td){var d=a.Ca.gb.createElement("script");d.type="text/javascript";d.async=!0;d.src=b;d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&"loaded"!==a&&"complete"!==a||(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),c())};d.onerror=function(){Bb("Long-poll script failed to load: "+b);a.Td=!1;a.close()};a.Ca.gb.body.appendChild(d)}}catch(e){}},Math.floor(1))};var bh=null;"undefined"!==typeof MozWebSocket?bh=MozWebSocket:"undefined"!==typeof WebSocket&&(bh=WebSocket);function ch(a,b,c){this.qe=a;this.f=Oc(this.qe);this.frames=this.Jc=null;this.ob=this.pb=this.bf=0;this.Va=Ob(b);this.fb=(b.lb?"wss://":"ws://")+b.Oa+"/.ws?v=5";"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(this.fb+="&r=f");b.host!==b.Oa&&(this.fb=this.fb+"&ns="+b.Cb);c&&(this.fb=this.fb+"&s="+c)}var dh;
ch.prototype.open=function(a,b){this.jb=b;this.wg=a;this.f("Websocket connecting to "+this.fb);this.Gc=!1;Dc.set("previous_websocket_failure",!0);try{this.va=new bh(this.fb)}catch(c){this.f("Error instantiating WebSocket.");var d=c.message||c.data;d&&this.f(d);this.ib();return}var e=this;this.va.onopen=function(){e.f("Websocket connected.");e.Gc=!0};this.va.onclose=function(){e.f("Websocket connection was disconnected.");e.va=null;e.ib()};this.va.onmessage=function(a){if(null!==e.va)if(a=a.data,e.ob+=
a.length,Lb(e.Va,"bytes_received",a.length),eh(e),null!==e.frames)fh(e,a);else{a:{J(null===e.frames,"We already have a frame buffer");if(6>=a.length){var b=Number(a);if(!isNaN(b)){e.bf=b;e.frames=[];a=null;break a}}e.bf=1;e.frames=[]}null!==a&&fh(e,a)}};this.va.onerror=function(a){e.f("WebSocket error.  Closing connection.");(a=a.message||a.data)&&e.f(a);e.ib()}};ch.prototype.start=function(){};
ch.isAvailable=function(){var a=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==bh&&!dh};ch.responsesRequiredToBeHealthy=2;ch.healthyTimeout=3E4;h=ch.prototype;h.Bd=function(){Dc.remove("previous_websocket_failure")};function fh(a,b){a.frames.push(b);if(a.frames.length==a.bf){var c=a.frames.join("");a.frames=null;c=mb(c);a.wg(c)}}
h.send=function(a){eh(this);a=B(a);this.pb+=a.length;Lb(this.Va,"bytes_sent",a.length);a=Xc(a,16384);1<a.length&&this.va.send(String(a.length));for(var b=0;b<a.length;b++)this.va.send(a[b])};h.cd=function(){this.zb=!0;this.Jc&&(clearInterval(this.Jc),this.Jc=null);this.va&&(this.va.close(),this.va=null)};h.ib=function(){this.zb||(this.f("WebSocket is closing itself"),this.cd(),this.jb&&(this.jb(this.Gc),this.jb=null))};h.close=function(){this.zb||(this.f("WebSocket is being closed"),this.cd())};
function eh(a){clearInterval(a.Jc);a.Jc=setInterval(function(){a.va&&a.va.send("0");eh(a)},Math.floor(45E3))};function gh(a){hh(this,a)}var ih=[Ug,ch];function hh(a,b){var c=ch&&ch.isAvailable(),d=c&&!(Dc.uf||!0===Dc.get("previous_websocket_failure"));b.Tg&&(c||Q("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0);if(d)a.ed=[ch];else{var e=a.ed=[];Yc(ih,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function jh(a){if(0<a.ed.length)return a.ed[0];throw Error("No transports available");};function kh(a,b,c,d,e,f){this.id=a;this.f=Oc("c:"+this.id+":");this.hc=c;this.Vc=d;this.ka=e;this.Me=f;this.H=b;this.Jd=[];this.ef=0;this.Nf=new gh(b);this.Ua=0;this.f("Connection created");lh(this)}
function lh(a){var b=jh(a.Nf);a.L=new b("c:"+a.id+":"+a.ef++,a.H);a.Qe=b.responsesRequiredToBeHealthy||0;var c=mh(a,a.L),d=nh(a,a.L);a.fd=a.L;a.bd=a.L;a.F=null;a.Ab=!1;setTimeout(function(){a.L&&a.L.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.vd=setTimeout(function(){a.vd=null;a.Ab||(a.L&&102400<a.L.ob?(a.f("Connection exceeded healthy timeout but has received "+a.L.ob+" bytes.  Marking connection healthy."),a.Ab=!0,a.L.Bd()):a.L&&10240<a.L.pb?a.f("Connection exceeded healthy timeout but has sent "+
a.L.pb+" bytes.  Leaving connection alive."):(a.f("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function nh(a,b){return function(c){b===a.L?(a.L=null,c||0!==a.Ua?1===a.Ua&&a.f("Realtime connection lost."):(a.f("Realtime connection failed."),"s-"===a.H.Oa.substr(0,2)&&(Dc.remove("host:"+a.H.host),a.H.Oa=a.H.host)),a.close()):b===a.F?(a.f("Secondary connection lost."),c=a.F,a.F=null,a.fd!==c&&a.bd!==c||a.close()):a.f("closing an old connection")}}
function mh(a,b){return function(c){if(2!=a.Ua)if(b===a.bd){var d=Vc("t",c);c=Vc("d",c);if("c"==d){if(d=Vc("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.Vd=c.s;Fc(a.H,f);0==a.Ua&&(a.L.start(),oh(a,a.L,d),"5"!==e&&Q("Protocol version mismatch detected"),c=a.Nf,(c=1<c.ed.length?c.ed[1]:null)&&ph(a,c))}else if("n"===d){a.f("recvd end transmission on primary");a.bd=a.F;for(c=0;c<a.Jd.length;++c)a.Fd(a.Jd[c]);a.Jd=[];qh(a)}else"s"===d?(a.f("Connection shutdown command received. Shutting down..."),
a.Me&&(a.Me(c),a.Me=null),a.ka=null,a.close()):"r"===d?(a.f("Reset packet received.  New host: "+c),Fc(a.H,c),1===a.Ua?a.close():(rh(a),lh(a))):"e"===d?Pc("Server Error: "+c):"o"===d?(a.f("got pong on primary."),sh(a),th(a)):Pc("Unknown control packet command: "+d)}else"d"==d&&a.Fd(c)}else if(b===a.F)if(d=Vc("t",c),c=Vc("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?uh(a):"r"===c?(a.f("Got a reset on secondary, closing it"),a.F.close(),a.fd!==a.F&&a.bd!==a.F||a.close()):"o"===c&&(a.f("got pong on secondary."),
a.Lf--,uh(a)));else if("d"==d)a.Jd.push(c);else throw Error("Unknown protocol layer: "+d);else a.f("message on old connection")}}kh.prototype.Da=function(a){vh(this,{t:"d",d:a})};function qh(a){a.fd===a.F&&a.bd===a.F&&(a.f("cleaning up and promoting a connection: "+a.F.qe),a.L=a.F,a.F=null)}
function uh(a){0>=a.Lf?(a.f("Secondary connection is healthy."),a.Ab=!0,a.F.Bd(),a.F.start(),a.f("sending client ack on secondary"),a.F.send({t:"c",d:{t:"a",d:{}}}),a.f("Ending transmission on primary"),a.L.send({t:"c",d:{t:"n",d:{}}}),a.fd=a.F,qh(a)):(a.f("sending ping on secondary."),a.F.send({t:"c",d:{t:"p",d:{}}}))}kh.prototype.Fd=function(a){sh(this);this.hc(a)};function sh(a){a.Ab||(a.Qe--,0>=a.Qe&&(a.f("Primary connection is healthy."),a.Ab=!0,a.L.Bd()))}
function ph(a,b){a.F=new b("c:"+a.id+":"+a.ef++,a.H,a.Vd);a.Lf=b.responsesRequiredToBeHealthy||0;a.F.open(mh(a,a.F),nh(a,a.F));setTimeout(function(){a.F&&(a.f("Timed out trying to upgrade."),a.F.close())},Math.floor(6E4))}function oh(a,b,c){a.f("Realtime connection established.");a.L=b;a.Ua=1;a.Vc&&(a.Vc(c),a.Vc=null);0===a.Qe?(a.f("Primary connection is healthy."),a.Ab=!0):setTimeout(function(){th(a)},Math.floor(5E3))}
function th(a){a.Ab||1!==a.Ua||(a.f("sending ping on primary."),vh(a,{t:"c",d:{t:"p",d:{}}}))}function vh(a,b){if(1!==a.Ua)throw"Connection is not connected";a.fd.send(b)}kh.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,rh(this),this.ka&&(this.ka(),this.ka=null))};function rh(a){a.f("Shutting down all connections");a.L&&(a.L.close(),a.L=null);a.F&&(a.F.close(),a.F=null);a.vd&&(clearTimeout(a.vd),a.vd=null)};function wh(a,b,c,d){this.id=xh++;this.f=Oc("p:"+this.id+":");this.wf=this.De=!1;this.aa={};this.pa=[];this.Xc=0;this.Uc=[];this.ma=!1;this.$a=1E3;this.Cd=3E5;this.Gb=b;this.Tc=c;this.Ne=d;this.H=a;this.We=null;this.Qd={};this.Ig=0;this.mf=!0;this.Kc=this.Fe=null;yh(this,0);Mf.ub().Eb("visible",this.zg,this);-1===a.host.indexOf("fblocal")&&Lf.ub().Eb("online",this.xg,this)}var xh=0,zh=0;h=wh.prototype;
h.Da=function(a,b,c){var d=++this.Ig;a={r:d,a:a,b:b};this.f(B(a));J(this.ma,"sendRequest call when we're not connected not allowed.");this.Sa.Da(a);c&&(this.Qd[d]=c)};h.xf=function(a,b,c,d){var e=a.wa(),f=a.path.toString();this.f("Listen called for "+f+" "+e);this.aa[f]=this.aa[f]||{};J(!this.aa[f][e],"listen() called twice for same path/queryId.");a={J:d,ud:b,Fg:a,tag:c};this.aa[f][e]=a;this.ma&&Ah(this,a)};
function Ah(a,b){var c=b.Fg,d=c.path.toString(),e=c.wa();a.f("Listen on "+d+" for "+e);var f={p:d};b.tag&&(f.q=ce(c.n),f.t=b.tag);f.h=b.ud();a.Da("q",f,function(f){var k=f.d,l=f.s;if(k&&"object"===typeof k&&u(k,"w")){var m=w(k,"w");ea(m)&&0<=Na(m,"no_index")&&Q("Using an unspecified index. Consider adding "+('".indexOn": "'+c.n.g.toString()+'"')+" at "+c.path.toString()+" to your security rules for better performance")}(a.aa[d]&&a.aa[d][e])===b&&(a.f("listen response",f),"ok"!==l&&Bh(a,d,e),b.J&&
b.J(l,k))})}h.P=function(a,b,c){this.Fa={fg:a,nf:!1,yc:b,jd:c};this.f("Authenticating using credential: "+a);Ch(this);(b=40==a.length)||(a=ad(a).Ac,b="object"===typeof a&&!0===w(a,"admin"));b&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Cd=3E4)};h.ee=function(a){delete this.Fa;this.ma&&this.Da("unauth",{},function(b){a(b.s,b.d)})};
function Ch(a){var b=a.Fa;a.ma&&b&&a.Da("auth",{cred:b.fg},function(c){var d=c.s;c=c.d||"error";"ok"!==d&&a.Fa===b&&delete a.Fa;b.nf?"ok"!==d&&b.jd&&b.jd(d,c):(b.nf=!0,b.yc&&b.yc(d,c))})}h.Of=function(a,b){var c=a.path.toString(),d=a.wa();this.f("Unlisten called for "+c+" "+d);if(Bh(this,c,d)&&this.ma){var e=ce(a.n);this.f("Unlisten on "+c+" for "+d);c={p:c};b&&(c.q=e,c.t=b);this.Da("n",c)}};h.Le=function(a,b,c){this.ma?Dh(this,"o",a,b,c):this.Uc.push({Zc:a,action:"o",data:b,J:c})};
h.Bf=function(a,b,c){this.ma?Dh(this,"om",a,b,c):this.Uc.push({Zc:a,action:"om",data:b,J:c})};h.Gd=function(a,b){this.ma?Dh(this,"oc",a,null,b):this.Uc.push({Zc:a,action:"oc",data:null,J:b})};function Dh(a,b,c,d,e){c={p:c,d:d};a.f("onDisconnect "+b,c);a.Da(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}h.put=function(a,b,c,d){Eh(this,"p",a,b,c,d)};h.yf=function(a,b,c,d){Eh(this,"m",a,b,c,d)};
function Eh(a,b,c,d,e,f){d={p:c,d:d};n(f)&&(d.h=f);a.pa.push({action:b,If:d,J:e});a.Xc++;b=a.pa.length-1;a.ma?Fh(a,b):a.f("Buffering put: "+c)}function Fh(a,b){var c=a.pa[b].action,d=a.pa[b].If,e=a.pa[b].J;a.pa[b].Gg=a.ma;a.Da(c,d,function(d){a.f(c+" response",d);delete a.pa[b];a.Xc--;0===a.Xc&&(a.pa=[]);e&&e(d.s,d.d)})}h.Te=function(a){this.ma&&(a={c:a},this.f("reportStats",a),this.Da("s",a,function(a){"ok"!==a.s&&this.f("reportStats","Error sending stats: "+a.d)}))};
h.Fd=function(a){if("r"in a){this.f("from server: "+B(a));var b=a.r,c=this.Qd[b];c&&(delete this.Qd[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,c=a.b,this.f("handleServerMessage",b,c),"d"===b?this.Gb(c.p,c.d,!1,c.t):"m"===b?this.Gb(c.p,c.d,!0,c.t):"c"===b?Gh(this,c.p,c.q):"ac"===b?(a=c.s,b=c.d,c=this.Fa,delete this.Fa,c&&c.jd&&c.jd(a,b)):"sd"===b?this.We?this.We(c):"msg"in c&&"undefined"!==typeof console&&console.log("FIREBASE: "+c.msg.replace("\n",
"\nFIREBASE: ")):Pc("Unrecognized action received from server: "+B(b)+"\nAre you using the latest client?"))}};h.Vc=function(a){this.f("connection ready");this.ma=!0;this.Kc=(new Date).getTime();this.Ne({serverTimeOffset:a-(new Date).getTime()});this.mf&&(a={},a["sdk.js."+"2.2.4".replace(/\./g,"-")]=1,kg()&&(a["framework.cordova"]=1),this.Te(a));Hh(this);this.mf=!1;this.Tc(!0)};
function yh(a,b){J(!a.Sa,"Scheduling a connect when we're already connected/ing?");a.Sb&&clearTimeout(a.Sb);a.Sb=setTimeout(function(){a.Sb=null;Ih(a)},Math.floor(b))}h.zg=function(a){a&&!this.uc&&this.$a===this.Cd&&(this.f("Window became visible.  Reducing delay."),this.$a=1E3,this.Sa||yh(this,0));this.uc=a};h.xg=function(a){a?(this.f("Browser went online."),this.$a=1E3,this.Sa||yh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Sa&&this.Sa.close())};
h.Cf=function(){this.f("data client disconnected");this.ma=!1;this.Sa=null;for(var a=0;a<this.pa.length;a++){var b=this.pa[a];b&&"h"in b.If&&b.Gg&&(b.J&&b.J("disconnect"),delete this.pa[a],this.Xc--)}0===this.Xc&&(this.pa=[]);this.Qd={};Jh(this)&&(this.uc?this.Kc&&(3E4<(new Date).getTime()-this.Kc&&(this.$a=1E3),this.Kc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.$a=this.Cd,this.Fe=(new Date).getTime()),a=Math.max(0,this.$a-((new Date).getTime()-this.Fe)),a*=Math.random(),this.f("Trying to reconnect in "+
a+"ms"),yh(this,a),this.$a=Math.min(this.Cd,1.3*this.$a));this.Tc(!1)};function Ih(a){if(Jh(a)){a.f("Making a connection attempt");a.Fe=(new Date).getTime();a.Kc=null;var b=q(a.Fd,a),c=q(a.Vc,a),d=q(a.Cf,a),e=a.id+":"+zh++;a.Sa=new kh(e,a.H,b,c,d,function(b){Q(b+" ("+a.H.toString()+")");a.wf=!0})}}h.yb=function(){this.De=!0;this.Sa?this.Sa.close():(this.Sb&&(clearTimeout(this.Sb),this.Sb=null),this.ma&&this.Cf())};h.qc=function(){this.De=!1;this.$a=1E3;this.Sa||yh(this,0)};
function Gh(a,b,c){c=c?Qa(c,function(a){return Wc(a)}).join("$"):"default";(a=Bh(a,b,c))&&a.J&&a.J("permission_denied")}function Bh(a,b,c){b=(new K(b)).toString();var d;n(a.aa[b])?(d=a.aa[b][c],delete a.aa[b][c],0===pa(a.aa[b])&&delete a.aa[b]):d=void 0;return d}function Hh(a){Ch(a);r(a.aa,function(b){r(b,function(b){Ah(a,b)})});for(var b=0;b<a.pa.length;b++)a.pa[b]&&Fh(a,b);for(;a.Uc.length;)b=a.Uc.shift(),Dh(a,b.action,b.Zc,b.data,b.J)}function Jh(a){var b;b=Lf.ub().ic;return!a.wf&&!a.De&&b};var V={lg:function(){Vg=dh=!0}};V.forceLongPolling=V.lg;V.mg=function(){Wg=!0};V.forceWebSockets=V.mg;V.Mg=function(a,b){a.k.Ra.We=b};V.setSecurityDebugCallback=V.Mg;V.Ye=function(a,b){a.k.Ye(b)};V.stats=V.Ye;V.Ze=function(a,b){a.k.Ze(b)};V.statsIncrementCounter=V.Ze;V.pd=function(a){return a.k.pd};V.dataUpdateCount=V.pd;V.pg=function(a,b){a.k.Ce=b};V.interceptServerData=V.pg;V.vg=function(a){new ug(a)};V.onPopupOpen=V.vg;V.Kg=function(a){fg=a};V.setAuthenticationServer=V.Kg;function S(a,b,c){this.B=a;this.V=b;this.g=c}S.prototype.K=function(){x("Firebase.DataSnapshot.val",0,0,arguments.length);return this.B.K()};S.prototype.val=S.prototype.K;S.prototype.lf=function(){x("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.B.K(!0)};S.prototype.exportVal=S.prototype.lf;S.prototype.kg=function(){x("Firebase.DataSnapshot.exists",0,0,arguments.length);return!this.B.e()};S.prototype.exists=S.prototype.kg;
S.prototype.w=function(a){x("Firebase.DataSnapshot.child",0,1,arguments.length);ga(a)&&(a=String(a));Xf("Firebase.DataSnapshot.child",a);var b=new K(a),c=this.V.w(b);return new S(this.B.oa(b),c,M)};S.prototype.child=S.prototype.w;S.prototype.Ha=function(a){x("Firebase.DataSnapshot.hasChild",1,1,arguments.length);Xf("Firebase.DataSnapshot.hasChild",a);var b=new K(a);return!this.B.oa(b).e()};S.prototype.hasChild=S.prototype.Ha;
S.prototype.A=function(){x("Firebase.DataSnapshot.getPriority",0,0,arguments.length);return this.B.A().K()};S.prototype.getPriority=S.prototype.A;S.prototype.forEach=function(a){x("Firebase.DataSnapshot.forEach",1,1,arguments.length);A("Firebase.DataSnapshot.forEach",1,a,!1);if(this.B.N())return!1;var b=this;return!!this.B.U(this.g,function(c,d){return a(new S(d,b.V.w(c),M))})};S.prototype.forEach=S.prototype.forEach;
S.prototype.td=function(){x("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.B.N()?!1:!this.B.e()};S.prototype.hasChildren=S.prototype.td;S.prototype.name=function(){Q("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead.");x("Firebase.DataSnapshot.name",0,0,arguments.length);return this.key()};S.prototype.name=S.prototype.name;S.prototype.key=function(){x("Firebase.DataSnapshot.key",0,0,arguments.length);return this.V.key()};
S.prototype.key=S.prototype.key;S.prototype.Db=function(){x("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.B.Db()};S.prototype.numChildren=S.prototype.Db;S.prototype.lc=function(){x("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.V};S.prototype.ref=S.prototype.lc;function Kh(a,b){this.H=a;this.Va=Ob(a);this.ea=new ub;this.Ed=1;this.Ra=null;b||0<=("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.ca=new Ae(this.H,q(this.Gb,this)),setTimeout(q(this.Tc,this,!0),0)):this.ca=this.Ra=new wh(this.H,q(this.Gb,this),q(this.Tc,this),q(this.Ne,this));this.Pg=Pb(a,q(function(){return new Jb(this.Va,this.ca)},this));this.tc=new Cf;this.Be=
new nb;var c=this;this.zd=new gf({Xe:function(a,b,f,g){b=[];f=c.Be.j(a.path);f.e()||(b=jf(c.zd,new Ub(ze,a.path,f)),setTimeout(function(){g("ok")},0));return b},Zd:ba});Lh(this,"connected",!1);this.ka=new qc;this.P=new Eg(a,q(this.ca.P,this.ca),q(this.ca.ee,this.ca),q(this.Ke,this));this.pd=0;this.Ce=null;this.O=new gf({Xe:function(a,b,f,g){c.ca.xf(a,f,b,function(b,e){var f=g(b,e);zb(c.ea,a.path,f)});return[]},Zd:function(a,b){c.ca.Of(a,b)}})}h=Kh.prototype;
h.toString=function(){return(this.H.lb?"https://":"http://")+this.H.host};h.name=function(){return this.H.Cb};function Mh(a){a=a.Be.j(new K(".info/serverTimeOffset")).K()||0;return(new Date).getTime()+a}function Nh(a){a=a={timestamp:Mh(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}
h.Gb=function(a,b,c,d){this.pd++;var e=new K(a);b=this.Ce?this.Ce(a,b):b;a=[];d?c?(b=na(b,function(a){return L(a)}),a=rf(this.O,e,b,d)):(b=L(b),a=nf(this.O,e,b,d)):c?(d=na(b,function(a){return L(a)}),a=mf(this.O,e,d)):(d=L(b),a=jf(this.O,new Ub(ze,e,d)));d=e;0<a.length&&(d=Oh(this,e));zb(this.ea,d,a)};h.Tc=function(a){Lh(this,"connected",a);!1===a&&Ph(this)};h.Ne=function(a){var b=this;Yc(a,function(a,d){Lh(b,d,a)})};h.Ke=function(a){Lh(this,"authenticated",a)};
function Lh(a,b,c){b=new K("/.info/"+b);c=L(c);var d=a.Be;d.Sd=d.Sd.G(b,c);c=jf(a.zd,new Ub(ze,b,c));zb(a.ea,b,c)}h.Kb=function(a,b,c,d){this.f("set",{path:a.toString(),value:b,Xg:c});var e=Nh(this);b=L(b,c);var e=sc(b,e),f=this.Ed++,e=hf(this.O,a,e,f,!0);vb(this.ea,e);var g=this;this.ca.put(a.toString(),b.K(!0),function(b,c){var e="ok"===b;e||Q("set at "+a+" failed: "+b);e=lf(g.O,f,!e);zb(g.ea,a,e);Qh(d,b,c)});e=Rh(this,a);Oh(this,e);zb(this.ea,e,[])};
h.update=function(a,b,c){this.f("update",{path:a.toString(),value:b});var d=!0,e=Nh(this),f={};r(b,function(a,b){d=!1;var c=L(a);f[b]=sc(c,e)});if(d)Bb("update() called with empty data.  Don't do anything."),Qh(c,"ok");else{var g=this.Ed++,k=kf(this.O,a,f,g);vb(this.ea,k);var l=this;this.ca.yf(a.toString(),b,function(b,d){var e="ok"===b;e||Q("update at "+a+" failed: "+b);var e=lf(l.O,g,!e),f=a;0<e.length&&(f=Oh(l,a));zb(l.ea,f,e);Qh(c,b,d)});b=Rh(this,a);Oh(this,b);zb(this.ea,a,[])}};
function Ph(a){a.f("onDisconnectEvents");var b=Nh(a),c=[];rc(pc(a.ka,b),F,function(b,e){c=c.concat(jf(a.O,new Ub(ze,b,e)));var f=Rh(a,b);Oh(a,f)});a.ka=new qc;zb(a.ea,F,c)}h.Gd=function(a,b){var c=this;this.ca.Gd(a.toString(),function(d,e){"ok"===d&&eg(c.ka,a);Qh(b,d,e)})};function Sh(a,b,c,d){var e=L(c);a.ca.Le(b.toString(),e.K(!0),function(c,g){"ok"===c&&a.ka.mc(b,e);Qh(d,c,g)})}function Th(a,b,c,d,e){var f=L(c,d);a.ca.Le(b.toString(),f.K(!0),function(c,d){"ok"===c&&a.ka.mc(b,f);Qh(e,c,d)})}
function Uh(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(Bb("onDisconnect().update() called with empty data.  Don't do anything."),Qh(d,"ok")):a.ca.Bf(b.toString(),c,function(e,f){if("ok"===e)for(var l in c){var m=L(c[l]);a.ka.mc(b.w(l),m)}Qh(d,e,f)})}function Vh(a,b,c){c=".info"===O(b.path)?a.zd.Ob(b,c):a.O.Ob(b,c);xb(a.ea,b.path,c)}h.yb=function(){this.Ra&&this.Ra.yb()};h.qc=function(){this.Ra&&this.Ra.qc()};
h.Ye=function(a){if("undefined"!==typeof console){a?(this.Yd||(this.Yd=new Ib(this.Va)),a=this.Yd.get()):a=this.Va.get();var b=Ra(sa(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};h.Ze=function(a){Lb(this.Va,a);this.Pg.Mf[a]=!0};h.f=function(a){var b="";this.Ra&&(b=this.Ra.id+":");Bb(b,arguments)};
function Qh(a,b,c){a&&Cb(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})};function Wh(a,b,c,d,e){function f(){}a.f("transaction on "+b);var g=new U(a,b);g.Eb("value",f);c={path:b,update:c,J:d,status:null,Ef:Gc(),cf:e,Kf:0,ge:function(){g.gc("value",f)},je:null,Aa:null,md:null,nd:null,od:null};d=a.O.ua(b,void 0)||C;c.md=d;d=c.update(d.K());if(n(d)){Sf("transaction failed: Data returned ",d,c.path);c.status=1;e=Df(a.tc,b);var k=e.Ba()||[];k.push(c);Ef(e,k);"object"===typeof d&&null!==d&&u(d,".priority")?(k=w(d,".priority"),J(Qf(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):
k=(a.O.ua(b)||C).A().K();e=Nh(a);d=L(d,k);e=sc(d,e);c.nd=d;c.od=e;c.Aa=a.Ed++;c=hf(a.O,b,e,c.Aa,c.cf);zb(a.ea,b,c);Xh(a)}else c.ge(),c.nd=null,c.od=null,c.J&&(a=new S(c.md,new U(a,c.path),M),c.J(null,!1,a))}function Xh(a,b){var c=b||a.tc;b||Yh(a,c);if(null!==c.Ba()){var d=Zh(a,c);J(0<d.length,"Sending zero length transaction queue");Sa(d,function(a){return 1===a.status})&&$h(a,c.path(),d)}else c.td()&&c.U(function(b){Xh(a,b)})}
function $h(a,b,c){for(var d=Qa(c,function(a){return a.Aa}),e=a.O.ua(b,d)||C,d=e,e=e.hash(),f=0;f<c.length;f++){var g=c[f];J(1===g.status,"tryToSendTransactionQueue_: items in queue should all be run.");g.status=2;g.Kf++;var k=N(b,g.path),d=d.G(k,g.nd)}d=d.K(!0);a.ca.put(b.toString(),d,function(d){a.f("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(lf(a.O,c[f].Aa));if(c[f].J){var g=c[f].od,k=new U(a,c[f].path);d.push(q(c[f].J,
null,null,!0,new S(g,k,M)))}c[f].ge()}Yh(a,Df(a.tc,b));Xh(a);zb(a.ea,b,e);for(f=0;f<d.length;f++)Cb(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(Q("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].je=d;Oh(a,b)}},e)}function Oh(a,b){var c=ai(a,b),d=c.path(),c=Zh(a,c);bi(a,c,d);return d}
function bi(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Qa(b,function(a){return a.Aa}),g=0;g<b.length;g++){var k=b[g],l=N(c,k.path),m=!1,v;J(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===k.status)m=!0,v=k.je,e=e.concat(lf(a.O,k.Aa,!0));else if(1===k.status)if(25<=k.Kf)m=!0,v="maxretry",e=e.concat(lf(a.O,k.Aa,!0));else{var y=a.O.ua(k.path,f)||C;k.md=y;var I=b[g].update(y.K());n(I)?(Sf("transaction failed: Data returned ",I,k.path),l=L(I),"object"===typeof I&&null!=
I&&u(I,".priority")||(l=l.da(y.A())),y=k.Aa,I=Nh(a),I=sc(l,I),k.nd=l,k.od=I,k.Aa=a.Ed++,Va(f,y),e=e.concat(hf(a.O,k.path,I,k.Aa,k.cf)),e=e.concat(lf(a.O,y,!0))):(m=!0,v="nodata",e=e.concat(lf(a.O,k.Aa,!0)))}zb(a.ea,c,e);e=[];m&&(b[g].status=3,setTimeout(b[g].ge,Math.floor(0)),b[g].J&&("nodata"===v?(k=new U(a,b[g].path),d.push(q(b[g].J,null,null,!1,new S(b[g].md,k,M)))):d.push(q(b[g].J,null,Error(v),!1,null))))}Yh(a,a.tc);for(g=0;g<d.length;g++)Cb(d[g]);Xh(a)}}
function ai(a,b){for(var c,d=a.tc;null!==(c=O(b))&&null===d.Ba();)d=Df(d,c),b=G(b);return d}function Zh(a,b){var c=[];ci(a,b,c);c.sort(function(a,b){return a.Ef-b.Ef});return c}function ci(a,b,c){var d=b.Ba();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.U(function(b){ci(a,b,c)})}function Yh(a,b){var c=b.Ba();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;Ef(b,0<c.length?c:null)}b.U(function(b){Yh(a,b)})}
function Rh(a,b){var c=ai(a,b).path(),d=Df(a.tc,b);Hf(d,function(b){di(a,b)});di(a,d);Gf(d,function(b){di(a,b)});return c}
function di(a,b){var c=b.Ba();if(null!==c){for(var d=[],e=[],f=-1,g=0;g<c.length;g++)4!==c[g].status&&(2===c[g].status?(J(f===g-1,"All SENT items should be at beginning of queue."),f=g,c[g].status=4,c[g].je="set"):(J(1===c[g].status,"Unexpected transaction status in abort"),c[g].ge(),e=e.concat(lf(a.O,c[g].Aa,!0)),c[g].J&&d.push(q(c[g].J,null,Error("set"),!1,null))));-1===f?Ef(b,null):c.length=f+1;zb(a.ea,b.path(),e);for(g=0;g<d.length;g++)Cb(d[g])}};function W(){this.nc={};this.Pf=!1}ca(W);W.prototype.yb=function(){for(var a in this.nc)this.nc[a].yb()};W.prototype.interrupt=W.prototype.yb;W.prototype.qc=function(){for(var a in this.nc)this.nc[a].qc()};W.prototype.resume=W.prototype.qc;W.prototype.ue=function(){this.Pf=!0};function X(a,b){this.ad=a;this.qa=b}X.prototype.cancel=function(a){x("Firebase.onDisconnect().cancel",0,1,arguments.length);A("Firebase.onDisconnect().cancel",1,a,!0);this.ad.Gd(this.qa,a||null)};X.prototype.cancel=X.prototype.cancel;X.prototype.remove=function(a){x("Firebase.onDisconnect().remove",0,1,arguments.length);Yf("Firebase.onDisconnect().remove",this.qa);A("Firebase.onDisconnect().remove",1,a,!0);Sh(this.ad,this.qa,null,a)};X.prototype.remove=X.prototype.remove;
X.prototype.set=function(a,b){x("Firebase.onDisconnect().set",1,2,arguments.length);Yf("Firebase.onDisconnect().set",this.qa);Rf("Firebase.onDisconnect().set",a,this.qa,!1);A("Firebase.onDisconnect().set",2,b,!0);Sh(this.ad,this.qa,a,b)};X.prototype.set=X.prototype.set;
X.prototype.Kb=function(a,b,c){x("Firebase.onDisconnect().setWithPriority",2,3,arguments.length);Yf("Firebase.onDisconnect().setWithPriority",this.qa);Rf("Firebase.onDisconnect().setWithPriority",a,this.qa,!1);Uf("Firebase.onDisconnect().setWithPriority",2,b);A("Firebase.onDisconnect().setWithPriority",3,c,!0);Th(this.ad,this.qa,a,b,c)};X.prototype.setWithPriority=X.prototype.Kb;
X.prototype.update=function(a,b){x("Firebase.onDisconnect().update",1,2,arguments.length);Yf("Firebase.onDisconnect().update",this.qa);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;Q("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Tf("Firebase.onDisconnect().update",a,this.qa);A("Firebase.onDisconnect().update",2,b,!0);
Uh(this.ad,this.qa,a,b)};X.prototype.update=X.prototype.update;function Y(a,b,c,d){this.k=a;this.path=b;this.n=c;this.jc=d}
function ei(a){var b=null,c=null;a.la&&(b=od(a));a.na&&(c=qd(a));if(a.g===Vd){if(a.la){if("[MIN_NAME]"!=nd(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}if(a.na){if("[MAX_NAME]"!=pd(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==
typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}}else if(a.g===M){if(null!=b&&!Qf(b)||null!=c&&!Qf(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");}else if(J(a.g instanceof Rd||a.g===Yd,"unknown index type."),null!=b&&"object"===typeof b||null!=c&&"object"===typeof c)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.");
}function fi(a){if(a.la&&a.na&&a.ia&&(!a.ia||""===a.Nb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");}function gi(a,b){if(!0===a.jc)throw Error(b+": You can't combine multiple orderBy calls.");}Y.prototype.lc=function(){x("Query.ref",0,0,arguments.length);return new U(this.k,this.path)};Y.prototype.ref=Y.prototype.lc;
Y.prototype.Eb=function(a,b,c,d){x("Query.on",2,4,arguments.length);Vf("Query.on",a,!1);A("Query.on",2,b,!1);var e=hi("Query.on",c,d);if("value"===a)Vh(this.k,this,new jd(b,e.cancel||null,e.Ma||null));else{var f={};f[a]=b;Vh(this.k,this,new kd(f,e.cancel,e.Ma))}return b};Y.prototype.on=Y.prototype.Eb;
Y.prototype.gc=function(a,b,c){x("Query.off",0,3,arguments.length);Vf("Query.off",a,!0);A("Query.off",2,b,!0);lb("Query.off",3,c);var d=null,e=null;"value"===a?d=new jd(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new kd(e,null,c||null));e=this.k;d=".info"===O(this.path)?e.zd.kb(this,d):e.O.kb(this,d);xb(e.ea,this.path,d)};Y.prototype.off=Y.prototype.gc;
Y.prototype.Ag=function(a,b){function c(g){f&&(f=!1,e.gc(a,c),b.call(d.Ma,g))}x("Query.once",2,4,arguments.length);Vf("Query.once",a,!1);A("Query.once",2,b,!1);var d=hi("Query.once",arguments[2],arguments[3]),e=this,f=!0;this.Eb(a,c,function(b){e.gc(a,c);d.cancel&&d.cancel.call(d.Ma,b)})};Y.prototype.once=Y.prototype.Ag;
Y.prototype.Ge=function(a){Q("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead.");x("Query.limit",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limit: First argument must be a positive integer.");if(this.n.ia)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var b=this.n.Ge(a);fi(b);return new Y(this.k,this.path,b,this.jc)};Y.prototype.limit=Y.prototype.Ge;
Y.prototype.He=function(a){x("Query.limitToFirst",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.ia)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.He(a),this.jc)};Y.prototype.limitToFirst=Y.prototype.He;
Y.prototype.Ie=function(a){x("Query.limitToLast",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.ia)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Ie(a),this.jc)};Y.prototype.limitToLast=Y.prototype.Ie;
Y.prototype.Bg=function(a){x("Query.orderByChild",1,1,arguments.length);if("$key"===a)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===a)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Wf("Query.orderByChild",1,a,!1);gi(this,"Query.orderByChild");var b=be(this.n,new Rd(a));ei(b);return new Y(this.k,
this.path,b,!0)};Y.prototype.orderByChild=Y.prototype.Bg;Y.prototype.Cg=function(){x("Query.orderByKey",0,0,arguments.length);gi(this,"Query.orderByKey");var a=be(this.n,Vd);ei(a);return new Y(this.k,this.path,a,!0)};Y.prototype.orderByKey=Y.prototype.Cg;Y.prototype.Dg=function(){x("Query.orderByPriority",0,0,arguments.length);gi(this,"Query.orderByPriority");var a=be(this.n,M);ei(a);return new Y(this.k,this.path,a,!0)};Y.prototype.orderByPriority=Y.prototype.Dg;
Y.prototype.Eg=function(){x("Query.orderByValue",0,0,arguments.length);gi(this,"Query.orderByValue");var a=be(this.n,Yd);ei(a);return new Y(this.k,this.path,a,!0)};Y.prototype.orderByValue=Y.prototype.Eg;
Y.prototype.Xd=function(a,b){x("Query.startAt",0,2,arguments.length);Rf("Query.startAt",a,this.path,!0);Wf("Query.startAt",2,b,!0);var c=this.n.Xd(a,b);fi(c);ei(c);if(this.n.la)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");n(a)||(b=a=null);return new Y(this.k,this.path,c,this.jc)};Y.prototype.startAt=Y.prototype.Xd;
Y.prototype.qd=function(a,b){x("Query.endAt",0,2,arguments.length);Rf("Query.endAt",a,this.path,!0);Wf("Query.endAt",2,b,!0);var c=this.n.qd(a,b);fi(c);ei(c);if(this.n.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,c,this.jc)};Y.prototype.endAt=Y.prototype.qd;
Y.prototype.hg=function(a,b){x("Query.equalTo",1,2,arguments.length);Rf("Query.equalTo",a,this.path,!1);Wf("Query.equalTo",2,b,!0);if(this.n.la)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Xd(a,b).qd(a,b)};Y.prototype.equalTo=Y.prototype.hg;
Y.prototype.toString=function(){x("Query.toString",0,0,arguments.length);for(var a=this.path,b="",c=a.Y;c<a.o.length;c++)""!==a.o[c]&&(b+="/"+encodeURIComponent(String(a.o[c])));a=this.k.toString()+(b||"/");b=jb(ee(this.n));return a+=b.replace(/^&/,"")};Y.prototype.toString=Y.prototype.toString;Y.prototype.wa=function(){var a=Wc(ce(this.n));return"{}"===a?"default":a};
function hi(a,b,c){var d={cancel:null,Ma:null};if(b&&c)d.cancel=b,A(a,3,d.cancel,!0),d.Ma=c,lb(a,4,d.Ma);else if(b)if("object"===typeof b&&null!==b)d.Ma=b;else if("function"===typeof b)d.cancel=b;else throw Error(z(a,3,!0)+" must either be a cancel callback or a context object.");return d};var Z={};Z.vc=wh;Z.DataConnection=Z.vc;wh.prototype.Og=function(a,b){this.Da("q",{p:a},b)};Z.vc.prototype.simpleListen=Z.vc.prototype.Og;wh.prototype.gg=function(a,b){this.Da("echo",{d:a},b)};Z.vc.prototype.echo=Z.vc.prototype.gg;wh.prototype.interrupt=wh.prototype.yb;Z.Sf=kh;Z.RealTimeConnection=Z.Sf;kh.prototype.sendRequest=kh.prototype.Da;kh.prototype.close=kh.prototype.close;
Z.og=function(a){var b=wh.prototype.put;wh.prototype.put=function(c,d,e,f){n(f)&&(f=a());b.call(this,c,d,e,f)};return function(){wh.prototype.put=b}};Z.hijackHash=Z.og;Z.Rf=Ec;Z.ConnectionTarget=Z.Rf;Z.wa=function(a){return a.wa()};Z.queryIdentifier=Z.wa;Z.qg=function(a){return a.k.Ra.aa};Z.listens=Z.qg;Z.ue=function(a){a.ue()};Z.forceRestClient=Z.ue;function U(a,b){var c,d,e;if(a instanceof Kh)c=a,d=b;else{x("new Firebase",1,2,arguments.length);d=Rc(arguments[0]);c=d.Qg;"firebase"===d.domain&&Qc(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");c||Qc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com");d.lb||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Q("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");
c=new Ec(d.host,d.lb,c,"ws"===d.scheme||"wss"===d.scheme);d=new K(d.Zc);e=d.toString();var f;!(f=!p(c.host)||0===c.host.length||!Pf(c.Cb))&&(f=0!==e.length)&&(e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),f=!(p(e)&&0!==e.length&&!Of.test(e)));if(f)throw Error(z("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(b)if(b instanceof W)e=b;else if(p(b))e=W.ub(),c.Ld=b;else throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");
else e=W.ub();f=c.toString();var g=w(e.nc,f);g||(g=new Kh(c,e.Pf),e.nc[f]=g);c=g}Y.call(this,c,d,$d,!1)}ma(U,Y);var ii=U,ji=["Firebase"],ki=aa;ji[0]in ki||!ki.execScript||ki.execScript("var "+ji[0]);for(var li;ji.length&&(li=ji.shift());)!ji.length&&n(ii)?ki[li]=ii:ki=ki[li]?ki[li]:ki[li]={};U.prototype.name=function(){Q("Firebase.name() being deprecated. Please use Firebase.key() instead.");x("Firebase.name",0,0,arguments.length);return this.key()};U.prototype.name=U.prototype.name;
U.prototype.key=function(){x("Firebase.key",0,0,arguments.length);return this.path.e()?null:vc(this.path)};U.prototype.key=U.prototype.key;U.prototype.w=function(a){x("Firebase.child",1,1,arguments.length);if(ga(a))a=String(a);else if(!(a instanceof K))if(null===O(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));Xf("Firebase.child",b)}else Xf("Firebase.child",a);return new U(this.k,this.path.w(a))};U.prototype.child=U.prototype.w;
U.prototype.parent=function(){x("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new U(this.k,a)};U.prototype.parent=U.prototype.parent;U.prototype.root=function(){x("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a};U.prototype.root=U.prototype.root;
U.prototype.set=function(a,b){x("Firebase.set",1,2,arguments.length);Yf("Firebase.set",this.path);Rf("Firebase.set",a,this.path,!1);A("Firebase.set",2,b,!0);this.k.Kb(this.path,a,null,b||null)};U.prototype.set=U.prototype.set;
U.prototype.update=function(a,b){x("Firebase.update",1,2,arguments.length);Yf("Firebase.update",this.path);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;Q("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Tf("Firebase.update",a,this.path);A("Firebase.update",2,b,!0);this.k.update(this.path,a,b||null)};U.prototype.update=U.prototype.update;
U.prototype.Kb=function(a,b,c){x("Firebase.setWithPriority",2,3,arguments.length);Yf("Firebase.setWithPriority",this.path);Rf("Firebase.setWithPriority",a,this.path,!1);Uf("Firebase.setWithPriority",2,b);A("Firebase.setWithPriority",3,c,!0);if(".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";this.k.Kb(this.path,a,b,c||null)};U.prototype.setWithPriority=U.prototype.Kb;
U.prototype.remove=function(a){x("Firebase.remove",0,1,arguments.length);Yf("Firebase.remove",this.path);A("Firebase.remove",1,a,!0);this.set(null,a)};U.prototype.remove=U.prototype.remove;
U.prototype.transaction=function(a,b,c){x("Firebase.transaction",1,3,arguments.length);Yf("Firebase.transaction",this.path);A("Firebase.transaction",1,a,!1);A("Firebase.transaction",2,b,!0);if(n(c)&&"boolean"!=typeof c)throw Error(z("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"===typeof c&&(c=!0);Wh(this.k,this.path,a,b||null,c)};U.prototype.transaction=U.prototype.transaction;
U.prototype.Lg=function(a,b){x("Firebase.setPriority",1,2,arguments.length);Yf("Firebase.setPriority",this.path);Uf("Firebase.setPriority",1,a);A("Firebase.setPriority",2,b,!0);this.k.Kb(this.path.w(".priority"),a,null,b)};U.prototype.setPriority=U.prototype.Lg;
U.prototype.push=function(a,b){x("Firebase.push",0,2,arguments.length);Yf("Firebase.push",this.path);Rf("Firebase.push",a,this.path,!0);A("Firebase.push",2,b,!0);var c=Mh(this.k),c=Kf(c),c=this.w(c);"undefined"!==typeof a&&null!==a&&c.set(a,b);return c};U.prototype.push=U.prototype.push;U.prototype.jb=function(){Yf("Firebase.onDisconnect",this.path);return new X(this.k,this.path)};U.prototype.onDisconnect=U.prototype.jb;
U.prototype.P=function(a,b,c){Q("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead.");x("Firebase.auth",1,3,arguments.length);Zf("Firebase.auth",a);A("Firebase.auth",2,b,!0);A("Firebase.auth",3,b,!0);Kg(this.k.P,a,{},{remember:"none"},b,c)};U.prototype.auth=U.prototype.P;U.prototype.ee=function(a){x("Firebase.unauth",0,1,arguments.length);A("Firebase.unauth",1,a,!0);Lg(this.k.P,a)};U.prototype.unauth=U.prototype.ee;
U.prototype.we=function(){x("Firebase.getAuth",0,0,arguments.length);return this.k.P.we()};U.prototype.getAuth=U.prototype.we;U.prototype.ug=function(a,b){x("Firebase.onAuth",1,2,arguments.length);A("Firebase.onAuth",1,a,!1);lb("Firebase.onAuth",2,b);this.k.P.Eb("auth_status",a,b)};U.prototype.onAuth=U.prototype.ug;U.prototype.tg=function(a,b){x("Firebase.offAuth",1,2,arguments.length);A("Firebase.offAuth",1,a,!1);lb("Firebase.offAuth",2,b);this.k.P.gc("auth_status",a,b)};U.prototype.offAuth=U.prototype.tg;
U.prototype.Wf=function(a,b,c){x("Firebase.authWithCustomToken",2,3,arguments.length);Zf("Firebase.authWithCustomToken",a);A("Firebase.authWithCustomToken",2,b,!1);ag("Firebase.authWithCustomToken",3,c,!0);Kg(this.k.P,a,{},c||{},b)};U.prototype.authWithCustomToken=U.prototype.Wf;U.prototype.Xf=function(a,b,c){x("Firebase.authWithOAuthPopup",2,3,arguments.length);$f("Firebase.authWithOAuthPopup",1,a);A("Firebase.authWithOAuthPopup",2,b,!1);ag("Firebase.authWithOAuthPopup",3,c,!0);Pg(this.k.P,a,c,b)};
U.prototype.authWithOAuthPopup=U.prototype.Xf;U.prototype.Yf=function(a,b,c){x("Firebase.authWithOAuthRedirect",2,3,arguments.length);$f("Firebase.authWithOAuthRedirect",1,a);A("Firebase.authWithOAuthRedirect",2,b,!1);ag("Firebase.authWithOAuthRedirect",3,c,!0);var d=this.k.P;Ng(d);var e=[wg],f=ig(c);"anonymous"===a||"firebase"===a?R(b,yg("TRANSPORT_UNAVAILABLE")):(P.set("redirect_client_options",f.ld),Og(d,e,"/auth/"+a,f,b))};U.prototype.authWithOAuthRedirect=U.prototype.Yf;
U.prototype.Zf=function(a,b,c,d){x("Firebase.authWithOAuthToken",3,4,arguments.length);$f("Firebase.authWithOAuthToken",1,a);A("Firebase.authWithOAuthToken",3,c,!1);ag("Firebase.authWithOAuthToken",4,d,!0);p(b)?($f("Firebase.authWithOAuthToken",2,b),Mg(this.k.P,a+"/token",{access_token:b},d,c)):(ag("Firebase.authWithOAuthToken",2,b,!1),Mg(this.k.P,a+"/token",b,d,c))};U.prototype.authWithOAuthToken=U.prototype.Zf;
U.prototype.Vf=function(a,b){x("Firebase.authAnonymously",1,2,arguments.length);A("Firebase.authAnonymously",1,a,!1);ag("Firebase.authAnonymously",2,b,!0);Mg(this.k.P,"anonymous",{},b,a)};U.prototype.authAnonymously=U.prototype.Vf;
U.prototype.$f=function(a,b,c){x("Firebase.authWithPassword",2,3,arguments.length);ag("Firebase.authWithPassword",1,a,!1);bg("Firebase.authWithPassword",a,"email");bg("Firebase.authWithPassword",a,"password");A("Firebase.authAnonymously",2,b,!1);ag("Firebase.authAnonymously",3,c,!0);Mg(this.k.P,"password",a,c,b)};U.prototype.authWithPassword=U.prototype.$f;
U.prototype.re=function(a,b){x("Firebase.createUser",2,2,arguments.length);ag("Firebase.createUser",1,a,!1);bg("Firebase.createUser",a,"email");bg("Firebase.createUser",a,"password");A("Firebase.createUser",2,b,!1);this.k.P.re(a,b)};U.prototype.createUser=U.prototype.re;U.prototype.Se=function(a,b){x("Firebase.removeUser",2,2,arguments.length);ag("Firebase.removeUser",1,a,!1);bg("Firebase.removeUser",a,"email");bg("Firebase.removeUser",a,"password");A("Firebase.removeUser",2,b,!1);this.k.P.Se(a,b)};
U.prototype.removeUser=U.prototype.Se;U.prototype.oe=function(a,b){x("Firebase.changePassword",2,2,arguments.length);ag("Firebase.changePassword",1,a,!1);bg("Firebase.changePassword",a,"email");bg("Firebase.changePassword",a,"oldPassword");bg("Firebase.changePassword",a,"newPassword");A("Firebase.changePassword",2,b,!1);this.k.P.oe(a,b)};U.prototype.changePassword=U.prototype.oe;
U.prototype.ne=function(a,b){x("Firebase.changeEmail",2,2,arguments.length);ag("Firebase.changeEmail",1,a,!1);bg("Firebase.changeEmail",a,"oldEmail");bg("Firebase.changeEmail",a,"newEmail");bg("Firebase.changeEmail",a,"password");A("Firebase.changeEmail",2,b,!1);this.k.P.ne(a,b)};U.prototype.changeEmail=U.prototype.ne;
U.prototype.Ue=function(a,b){x("Firebase.resetPassword",2,2,arguments.length);ag("Firebase.resetPassword",1,a,!1);bg("Firebase.resetPassword",a,"email");A("Firebase.resetPassword",2,b,!1);this.k.P.Ue(a,b)};U.prototype.resetPassword=U.prototype.Ue;U.goOffline=function(){x("Firebase.goOffline",0,0,arguments.length);W.ub().yb()};U.goOnline=function(){x("Firebase.goOnline",0,0,arguments.length);W.ub().qc()};
function Nc(a,b){J(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?Ab=q(console.log,console):"object"===typeof console.log&&(Ab=function(a){console.log(a)})),b&&P.set("logging_enabled",!0)):a?Ab=a:(Ab=null,P.remove("logging_enabled"))}U.enableLogging=Nc;U.ServerValue={TIMESTAMP:{".sv":"timestamp"}};U.SDK_VERSION="2.2.4";U.INTERNAL=V;U.Context=W;U.TEST_ACCESS=Z;})();

;/*!
 * AngularFire is the officially supported AngularJS binding for Firebase. Firebase
 * is a full backend so you don't need servers to build your Angular app. AngularFire
 * provides you with the $firebase service which allows you to easily keep your $scope
 * variables in sync with your Firebase backend.
 *
 * AngularFire 1.1.1
 * https://github.com/firebase/angularfire/
 * Date: 05/05/2015
 * License: MIT
 */
!function(a){"use strict";angular.module("firebase",[]).value("Firebase",a.Firebase)}(window),function(){"use strict";angular.module("firebase").factory("$firebaseArray",["$log","$firebaseUtils",function(a,b){function c(a){if(!(this instanceof c))return new c(a);var e=this;return this._observers=[],this.$list=[],this._ref=a,this._sync=new d(this),b.assertValidRef(a,"Must pass a valid Firebase reference to $firebaseArray (not a string or URL)"),this._indexCache={},b.getPublicMethods(e,function(a,b){e.$list[b]=a.bind(e)}),this._sync.init(this.$list),this.$list}function d(c){function d(a){if(!o.isDestroyed){o.isDestroyed=!0;var b=c.$ref();b.off("child_added",h),b.off("child_moved",j),b.off("child_changed",i),b.off("child_removed",k),c=null,n(a||"destroyed")}}function e(b){var d=c.$ref();d.on("child_added",h,m),d.on("child_moved",j,m),d.on("child_changed",i,m),d.on("child_removed",k,m),d.once("value",function(c){angular.isArray(c.val())&&a.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://www.firebase.com/docs/web/guide/understanding-data.html#section-arrays-in-firebase for more information."),n(null,b)},n)}function f(a,b){l||(l=!0,a?g.reject(a):g.resolve(b))}var g=b.defer(),h=function(a,d){var e=c.$$added(a,d);b.whenUnwrapped(e,function(a){c.$$process("child_added",a,d)})},i=function(a){var d=c.$getRecord(b.getKey(a));if(d){var e=c.$$updated(a);b.whenUnwrapped(e,function(){c.$$process("child_changed",d)})}},j=function(a,d){var e=c.$getRecord(b.getKey(a));if(e){var f=c.$$moved(a,d);b.whenUnwrapped(f,function(){c.$$process("child_moved",e,d)})}},k=function(a){var d=c.$getRecord(b.getKey(a));if(d){var e=c.$$removed(a);b.whenUnwrapped(e,function(){c.$$process("child_removed",d)})}},l=!1,m=b.batch(function(a){f(a),c&&c.$$error(a)}),n=b.batch(f),o={destroy:d,isDestroyed:!1,init:e,ready:function(){return g.promise}};return o}return c.prototype={$add:function(a){this._assertNotDestroyed("$add");var c=b.defer(),d=this.$ref().ref().push();return d.set(b.toJSON(a),b.makeNodeResolver(c)),c.promise.then(function(){return d})},$save:function(a){this._assertNotDestroyed("$save");var c=this,d=c._resolveItem(a),e=c.$keyAt(d);if(null!==e){var f=c.$ref().ref().child(e),g=b.toJSON(d);return b.doSet(f,g).then(function(){return c.$$notify("child_changed",e),f})}return b.reject("Invalid record; could determine key for "+a)},$remove:function(a){this._assertNotDestroyed("$remove");var c=this.$keyAt(a);if(null!==c){var d=this.$ref().ref().child(c);return b.doRemove(d).then(function(){return d})}return b.reject("Invalid record; could not determine key for "+a)},$keyAt:function(a){var b=this._resolveItem(a);return this.$$getKey(b)},$indexFor:function(a){var b=this,c=b._indexCache;if(!c.hasOwnProperty(a)||b.$keyAt(c[a])!==a){var d=b.$list.findIndex(function(c){return b.$$getKey(c)===a});-1!==d&&(c[a]=d)}return c.hasOwnProperty(a)?c[a]:-1},$loaded:function(a,b){var c=this._sync.ready();return arguments.length&&(c=c.then.call(c,a,b)),c},$ref:function(){return this._ref},$watch:function(a,b){var c=this._observers;return c.push([a,b]),function(){var d=c.findIndex(function(c){return c[0]===a&&c[1]===b});d>-1&&c.splice(d,1)}},$destroy:function(a){this._isDestroyed||(this._isDestroyed=!0,this._sync.destroy(a),this.$list.length=0)},$getRecord:function(a){var b=this.$indexFor(a);return b>-1?this.$list[b]:null},$$added:function(a){var c=this.$indexFor(b.getKey(a));if(-1===c){var d=a.val();return angular.isObject(d)||(d={$value:d}),d.$id=b.getKey(a),d.$priority=a.getPriority(),b.applyDefaults(d,this.$$defaults),d}return!1},$$removed:function(a){return this.$indexFor(b.getKey(a))>-1},$$updated:function(a){var c=!1,d=this.$getRecord(b.getKey(a));return angular.isObject(d)&&(c=b.updateRec(d,a),b.applyDefaults(d,this.$$defaults)),c},$$moved:function(a){var c=this.$getRecord(b.getKey(a));return angular.isObject(c)?(c.$priority=a.getPriority(),!0):!1},$$error:function(b){a.error(b),this.$destroy(b)},$$getKey:function(a){return angular.isObject(a)?a.$id:null},$$process:function(a,b,c){var d,e=this.$$getKey(b),f=!1;switch(a){case"child_added":d=this.$indexFor(e);break;case"child_moved":d=this.$indexFor(e),this._spliceOut(e);break;case"child_removed":f=null!==this._spliceOut(e);break;case"child_changed":f=!0;break;default:throw new Error("Invalid event type: "+a)}return angular.isDefined(d)&&(f=this._addAfter(b,c)!==d),f&&this.$$notify(a,e,c),f},$$notify:function(a,b,c){var d={event:a,key:b};angular.isDefined(c)&&(d.prevChild=c),angular.forEach(this._observers,function(a){a[0].call(a[1],d)})},_addAfter:function(a,b){var c;return null===b?c=0:(c=this.$indexFor(b)+1,0===c&&(c=this.$list.length)),this.$list.splice(c,0,a),this._indexCache[this.$$getKey(a)]=c,c},_spliceOut:function(a){var b=this.$indexFor(a);return b>-1?(delete this._indexCache[a],this.$list.splice(b,1)[0]):null},_resolveItem:function(a){var b=this.$list;if(angular.isNumber(a)&&a>=0&&b.length>=a)return b[a];if(angular.isObject(a)){var c=this.$$getKey(a),d=this.$getRecord(c);return d===a?d:null}return null},_assertNotDestroyed:function(a){if(this._isDestroyed)throw new Error("Cannot call "+a+" method on a destroyed $firebaseArray object")}},c.$extend=function(a,d){return 1===arguments.length&&angular.isObject(a)&&(d=a,a=function(b){return this instanceof a?(c.apply(this,arguments),this.$list):new a(b)}),b.inherit(a,c,d)},c}]),angular.module("firebase").factory("$FirebaseArray",["$log","$firebaseArray",function(a,b){return function(){return a.warn("$FirebaseArray has been renamed. Use $firebaseArray instead."),b.apply(null,arguments)}}])}(),function(){"use strict";var a;angular.module("firebase").factory("$firebaseAuth",["$q","$firebaseUtils",function(b,c){return function(d){var e=new a(b,c,d);return e.construct()}}]),a=function(a,b,c){if(this._q=a,this._utils=b,"string"==typeof c)throw new Error("Please provide a Firebase reference instead of a URL when creating a `$firebaseAuth` object.");this._ref=c,this._initialAuthResolver=this._initAuthResolver()},a.prototype={construct:function(){return this._object={$authWithCustomToken:this.authWithCustomToken.bind(this),$authAnonymously:this.authAnonymously.bind(this),$authWithPassword:this.authWithPassword.bind(this),$authWithOAuthPopup:this.authWithOAuthPopup.bind(this),$authWithOAuthRedirect:this.authWithOAuthRedirect.bind(this),$authWithOAuthToken:this.authWithOAuthToken.bind(this),$unauth:this.unauth.bind(this),$onAuth:this.onAuth.bind(this),$getAuth:this.getAuth.bind(this),$requireAuth:this.requireAuth.bind(this),$waitForAuth:this.waitForAuth.bind(this),$createUser:this.createUser.bind(this),$changePassword:this.changePassword.bind(this),$changeEmail:this.changeEmail.bind(this),$removeUser:this.removeUser.bind(this),$resetPassword:this.resetPassword.bind(this)},this._object},authWithCustomToken:function(a,b){var c=this._q.defer();try{this._ref.authWithCustomToken(a,this._utils.makeNodeResolver(c),b)}catch(d){c.reject(d)}return c.promise},authAnonymously:function(a){var b=this._q.defer();try{this._ref.authAnonymously(this._utils.makeNodeResolver(b),a)}catch(c){b.reject(c)}return b.promise},authWithPassword:function(a,b){var c=this._q.defer();try{this._ref.authWithPassword(a,this._utils.makeNodeResolver(c),b)}catch(d){c.reject(d)}return c.promise},authWithOAuthPopup:function(a,b){var c=this._q.defer();try{this._ref.authWithOAuthPopup(a,this._utils.makeNodeResolver(c),b)}catch(d){c.reject(d)}return c.promise},authWithOAuthRedirect:function(a,b){var c=this._q.defer();try{this._ref.authWithOAuthRedirect(a,this._utils.makeNodeResolver(c),b)}catch(d){c.reject(d)}return c.promise},authWithOAuthToken:function(a,b,c){var d=this._q.defer();try{this._ref.authWithOAuthToken(a,b,this._utils.makeNodeResolver(d),c)}catch(e){d.reject(e)}return d.promise},unauth:function(){null!==this.getAuth()&&this._ref.unauth()},onAuth:function(a,b){var c=this,d=this._utils.debounce(a,b,0);return this._ref.onAuth(d),function(){c._ref.offAuth(d)}},getAuth:function(){return this._ref.getAuth()},_routerMethodOnAuthPromise:function(a){var b=this._ref,c=this._utils;return this._initialAuthResolver.then(function(){var d=b.getAuth(),e=null;return e=a&&null===d?c.reject("AUTH_REQUIRED"):c.resolve(d)})},_initAuthResolver:function(){var a=this._ref;return this._utils.promise(function(b){function c(){a.offAuth(c),b()}a.onAuth(c)})},requireAuth:function(){return this._routerMethodOnAuthPromise(!0)},waitForAuth:function(){return this._routerMethodOnAuthPromise(!1)},createUser:function(a){var b=this._q.defer();if("string"==typeof a)throw new Error("$createUser() expects an object containing 'email' and 'password', but got a string.");try{this._ref.createUser(a,this._utils.makeNodeResolver(b))}catch(c){b.reject(c)}return b.promise},changePassword:function(a){var b=this._q.defer();if("string"==typeof a)throw new Error("$changePassword() expects an object containing 'email', 'oldPassword', and 'newPassword', but got a string.");try{this._ref.changePassword(a,this._utils.makeNodeResolver(b))}catch(c){b.reject(c)}return b.promise},changeEmail:function(a){var b=this._q.defer();if("function"!=typeof this._ref.changeEmail)throw new Error("$firebaseAuth.$changeEmail() requires Firebase version 2.1.0 or greater.");if("string"==typeof a)throw new Error("$changeEmail() expects an object containing 'oldEmail', 'newEmail', and 'password', but got a string.");try{this._ref.changeEmail(a,this._utils.makeNodeResolver(b))}catch(c){b.reject(c)}return b.promise},removeUser:function(a){var b=this._q.defer();if("string"==typeof a)throw new Error("$removeUser() expects an object containing 'email' and 'password', but got a string.");try{this._ref.removeUser(a,this._utils.makeNodeResolver(b))}catch(c){b.reject(c)}return b.promise},resetPassword:function(a){var b=this._q.defer();if("string"==typeof a)throw new Error("$resetPassword() expects an object containing 'email', but got a string.");try{this._ref.resetPassword(a,this._utils.makeNodeResolver(b))}catch(c){b.reject(c)}return b.promise}}}(),function(){"use strict";angular.module("firebase").factory("$firebaseObject",["$parse","$firebaseUtils","$log",function(a,b,c){function d(a){return this instanceof d?(this.$$conf={sync:new f(this,a),ref:a,binding:new e(this),listeners:[]},Object.defineProperty(this,"$$conf",{value:this.$$conf}),this.$id=b.getKey(a.ref()),this.$priority=null,b.applyDefaults(this,this.$$defaults),void this.$$conf.sync.init()):new d(a)}function e(a){this.subs=[],this.scope=null,this.key=null,this.rec=a}function f(a,d){function e(b){m.isDestroyed||(m.isDestroyed=!0,d.off("value",j),a=null,l(b||"destroyed"))}function f(){d.on("value",j,k),d.once("value",function(a){angular.isArray(a.val())&&c.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://www.firebase.com/docs/web/guide/understanding-data.html#section-arrays-in-firebase for more information. Also note that you probably wanted $firebaseArray and not $firebaseObject."),l(null)},l)}function g(b){h||(h=!0,b?i.reject(b):i.resolve(a))}var h=!1,i=b.defer(),j=b.batch(function(b){var c=a.$$updated(b);c&&a.$$notify()}),k=b.batch(function(b){g(b),a&&a.$$error(b)}),l=b.batch(g),m={isDestroyed:!1,destroy:e,init:f,ready:function(){return i.promise}};return m}return d.prototype={$save:function(){var a=this,c=a.$ref(),d=b.toJSON(a);return b.doSet(c,d).then(function(){return a.$$notify(),a.$ref()})},$remove:function(){var a=this;return b.trimKeys(a,{}),a.$value=null,b.doRemove(a.$ref()).then(function(){return a.$$notify(),a.$ref()})},$loaded:function(a,b){var c=this.$$conf.sync.ready();return arguments.length&&(c=c.then.call(c,a,b)),c},$ref:function(){return this.$$conf.ref},$bindTo:function(a,b){var c=this;return c.$loaded().then(function(){return c.$$conf.binding.bindTo(a,b)})},$watch:function(a,b){var c=this.$$conf.listeners;return c.push([a,b]),function(){var d=c.findIndex(function(c){return c[0]===a&&c[1]===b});d>-1&&c.splice(d,1)}},$destroy:function(a){var c=this;c.$isDestroyed||(c.$isDestroyed=!0,c.$$conf.sync.destroy(a),c.$$conf.binding.destroy(),b.each(c,function(a,b){delete c[b]}))},$$updated:function(a){var c=b.updateRec(this,a);return b.applyDefaults(this,this.$$defaults),c},$$error:function(a){c.error(a),this.$destroy(a)},$$scopeUpdated:function(a){var c=b.defer();return this.$ref().set(b.toJSON(a),b.makeNodeResolver(c)),c.promise},$$notify:function(){var a=this,b=this.$$conf.listeners.slice();angular.forEach(b,function(b){b[0].call(b[1],{event:"value",key:a.$id})})},forEach:function(a,c){return b.each(this,a,c)}},d.$extend=function(a,c){return 1===arguments.length&&angular.isObject(a)&&(c=a,a=function(b){return this instanceof a?void d.apply(this,arguments):new a(b)}),b.inherit(a,d,c)},e.prototype={assertNotBound:function(a){if(this.scope){var d="Cannot bind to "+a+" because this instance is already bound to "+this.key+"; one binding per instance (call unbind method or create another FirebaseObject instance)";return c.error(d),b.reject(d)}},bindTo:function(c,d){function e(e){function f(a){return angular.equals(a,k)&&a.$priority===k.$priority&&a.$value===k.$value}function g(a){j.assign(c,b.scopeData(a))}function h(){var a=j(c);return[a,a.$priority,a.$value]}var i=!1,j=a(d),k=e.rec;e.scope=c,e.varName=d;var l=b.debounce(function(a){var d=b.scopeData(a);k.$$scopeUpdated(d)["finally"](function(){i=!1,d.hasOwnProperty("$value")||(delete k.$value,delete j(c).$value)})},50,500),m=function(a){a=a[0],f(a)||(i=!0,l(a))},n=function(){i||f(j(c))||g(k)};return g(k),e.subs.push(c.$on("$destroy",e.unbind.bind(e))),e.subs.push(c.$watch(h,m,!0)),e.subs.push(k.$watch(n)),e.unbind.bind(e)}return this.assertNotBound(d)||e(this)},unbind:function(){this.scope&&(angular.forEach(this.subs,function(a){a()}),this.subs=[],this.scope=null,this.key=null)},destroy:function(){this.unbind(),this.rec=null}},d}]),angular.module("firebase").factory("$FirebaseObject",["$log","$firebaseObject",function(a,b){return function(){return a.warn("$FirebaseObject has been renamed. Use $firebaseObject instead."),b.apply(null,arguments)}}])}(),function(){"use strict";angular.module("firebase").factory("$firebase",function(){return function(){throw new Error("$firebase has been removed. You may instantiate $firebaseArray and $firebaseObject directly now. For simple write operations, just use the Firebase ref directly. See the AngularFire 1.0.0 changelog for details: https://www.firebase.com/docs/web/libraries/angular/changelog.html")}})}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError("'this' is null or not defined");var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(a){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof a)throw new TypeError("predicate must be a function");for(var b,c=Object(this),d=c.length>>>0,e=arguments[1],f=0;d>f;f++)if(f in c&&(b=c[f],a.call(e,b,f,c)))return f;return-1}}),"function"!=typeof Object.create&&!function(){var a=function(){};Object.create=function(b){if(arguments.length>1)throw new Error("Second argument not supported");if(null===b)throw new Error("Cannot set a null [[Prototype]]");if("object"!=typeof b)throw new TypeError("Argument must be an object");return a.prototype=b,new a}}(),Object.keys||(Object.keys=function(){"use strict";var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;d>g;g++)a.call(e,c[g])&&h.push(c[g]);return h}}()),"function"!=typeof Object.getPrototypeOf&&("object"==typeof"test".__proto__?Object.getPrototypeOf=function(a){return a.__proto__}:Object.getPrototypeOf=function(a){return a.constructor.prototype}),function(){"use strict";function a(b){if(!angular.isObject(b))return b;var c=angular.isArray(b)?[]:{};return angular.forEach(b,function(b,d){("string"!=typeof d||"$"!==d.charAt(0))&&(c[d]=a(b))}),c}angular.module("firebase").factory("$firebaseConfig",["$firebaseArray","$firebaseObject","$injector",function(a,b,c){return function(d){var e=angular.extend({},d);return"string"==typeof e.objectFactory&&(e.objectFactory=c.get(e.objectFactory)),"string"==typeof e.arrayFactory&&(e.arrayFactory=c.get(e.arrayFactory)),angular.extend({arrayFactory:a,objectFactory:b},e)}}]).factory("$firebaseUtils",["$q","$timeout","$rootScope",function(b,c,d){function e(a){function c(a){e.resolve(a)}function d(a){e.reject(a)}if(!angular.isFunction(a))throw new Error("missing resolver function");var e=b.defer();return a(c,d),e.promise}var f={batch:function(a,b){return function(){var c=Array.prototype.slice.call(arguments,0);f.compile(function(){a.apply(b,c)})}},debounce:function(a,b,c,d){function e(){j&&(j(),j=null),i&&Date.now()-i>d?l||(l=!0,f.compile(g)):(i||(i=Date.now()),j=f.wait(g,c))}function g(){j=null,i=null,l=!1,a.apply(b,k)}function h(){k=Array.prototype.slice.call(arguments,0),e()}var i,j,k,l;if("number"==typeof b&&(d=c,c=b,b=null),"number"!=typeof c)throw new Error("Must provide a valid integer for wait. Try 0 for a default");if("function"!=typeof a)throw new Error("Must provide a valid function to debounce");return d||(d=10*c||100),h.running=function(){return i>0},h},assertValidRef:function(a,b){if(!angular.isObject(a)||"function"!=typeof a.ref||"function"!=typeof a.ref().transaction)throw new Error(b||"Invalid Firebase reference")},inherit:function(a,b,c){var d=a.prototype;return a.prototype=Object.create(b.prototype),a.prototype.constructor=a,angular.forEach(Object.keys(d),function(b){a.prototype[b]=d[b]}),angular.isObject(c)&&angular.extend(a.prototype,c),a},getPrototypeMethods:function(a,b,c){for(var d={},e=Object.getPrototypeOf({}),f=angular.isFunction(a)&&angular.isObject(a.prototype)?a.prototype:Object.getPrototypeOf(a);f&&f!==e;){for(var g in f)f.hasOwnProperty(g)&&!d.hasOwnProperty(g)&&(d[g]=!0,b.call(c,f[g],g,f));f=Object.getPrototypeOf(f)}},getPublicMethods:function(a,b,c){f.getPrototypeMethods(a,function(a,d){"function"==typeof a&&"_"!==d.charAt(0)&&b.call(c,a,d)})},defer:b.defer,reject:b.reject,resolve:b.when,whenUnwrapped:function(a,b){a&&f.resolve(a).then(function(a){a&&b(a)})},promise:angular.isFunction(b)?b:e,makeNodeResolver:function(a){return function(b,c){null===b?(arguments.length>2&&(c=Array.prototype.slice.call(arguments,1)),a.resolve(c)):a.reject(b)}},wait:function(a,b){var d=c(a,b||0);return function(){d&&(c.cancel(d),d=null)}},compile:function(a){return d.$evalAsync(a||function(){})},deepCopy:function(a){if(!angular.isObject(a))return a;var b=angular.isArray(a)?a.slice():angular.extend({},a);for(var c in b)b.hasOwnProperty(c)&&angular.isObject(b[c])&&(b[c]=f.deepCopy(b[c]));return b},trimKeys:function(a,b){f.each(a,function(c,d){b.hasOwnProperty(d)||delete a[d]})},scopeData:function(a){var b={$id:a.$id,$priority:a.$priority},c=!1;return f.each(a,function(a,d){c=!0,b[d]=f.deepCopy(a)}),!c&&a.hasOwnProperty("$value")&&(b.$value=a.$value),b},updateRec:function(a,b){var c=b.val(),d=angular.extend({},a);return angular.isObject(c)?delete a.$value:(a.$value=c,c={}),f.trimKeys(a,c),angular.extend(a,c),a.$priority=b.getPriority(),!angular.equals(d,a)||d.$value!==a.$value||d.$priority!==a.$priority},applyDefaults:function(a,b){return angular.isObject(b)&&angular.forEach(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)}),a},dataKeys:function(a){var b=[];return f.each(a,function(a,c){b.push(c)}),b},each:function(a,b,c){if(angular.isObject(a)){for(var d in a)if(a.hasOwnProperty(d)){var e=d.charAt(0);"_"!==e&&"$"!==e&&"."!==e&&b.call(c,a[d],d,a)}}else if(angular.isArray(a))for(var f=0,g=a.length;g>f;f++)b.call(c,a[f],f,a);return a},getKey:function(a){return"function"==typeof a.key?a.key():a.name()},toJSON:function(b){var c;return angular.isObject(b)||(b={$value:b}),angular.isFunction(b.toJSON)?c=b.toJSON():(c={},f.each(b,function(b,d){c[d]=a(b)})),angular.isDefined(b.$value)&&0===Object.keys(c).length&&null!==b.$value&&(c[".value"]=b.$value),angular.isDefined(b.$priority)&&Object.keys(c).length>0&&null!==b.$priority&&(c[".priority"]=b.$priority),angular.forEach(c,function(a,b){if(b.match(/[.$\[\]#\/]/)&&".value"!==b&&".priority"!==b)throw new Error("Invalid key "+b+" (cannot contain .$[]#)");if(angular.isUndefined(a))throw new Error("Key "+b+" was undefined. Cannot pass undefined in JSON. Use null instead.")}),c},doSet:function(a,b){var c=f.defer();if(angular.isFunction(a.set)||!angular.isObject(b))a.set(b,f.makeNodeResolver(c));else{var d=angular.extend({},b);a.once("value",function(b){b.forEach(function(a){d.hasOwnProperty(f.getKey(a))||(d[f.getKey(a)]=null)}),a.ref().update(d,f.makeNodeResolver(c))},function(a){c.reject(a)})}return c.promise},doRemove:function(a){var b=f.defer();return angular.isFunction(a.remove)?a.remove(f.makeNodeResolver(b)):a.once("value",function(c){var d=[];c.forEach(function(a){var c=f.defer();d.push(c.promise),a.ref().remove(f.makeNodeResolver(b))}),f.allPromises(d).then(function(){b.resolve(a)},function(a){b.reject(a)})},function(a){b.reject(a)}),b.promise},VERSION:"1.1.1",allPromises:b.all.bind(b)};return f}])}();;/*
 AngularJS v1.3.15
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(N,f,W){'use strict';f.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){return function(X,C,g){g=g.ngAnimateChildren;f.isString(g)&&0===g.length?C.data("$$ngAnimateChildren",!0):X.$watch(g,function(f){C.data("$$ngAnimateChildren",!!f)})}}).factory("$$animateReflow",["$$rAF","$document",function(f,C){return function(g){return f(function(){g()})}}]).config(["$provide","$animateProvider",function(X,C){function g(f){for(var n=0;n<f.length;n++){var g=f[n];if(1==g.nodeType)return g}}
function ba(f,n){return g(f)==g(n)}var t=f.noop,n=f.forEach,da=C.$$selectors,aa=f.isArray,ea=f.isString,ga=f.isObject,r={running:!0},u;X.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(O,N,M,Y,y,H,P,W,Z,Q){function R(a,c){var b=a.data("$$ngAnimateState")||{};c&&(b.running=!0,b.structural=!0,a.data("$$ngAnimateState",b));return b.disabled||b.running&&b.structural}function D(a){var c,b=N.defer();
b.promise.$$cancelFn=function(){c&&c()};P.$$postDigest(function(){c=a(function(){b.resolve()})});return b.promise}function I(a){if(ga(a))return a.tempClasses&&ea(a.tempClasses)&&(a.tempClasses=a.tempClasses.split(/\s+/)),a}function S(a,c,b){b=b||{};var d={};n(b,function(e,a){n(a.split(" "),function(a){d[a]=e})});var h=Object.create(null);n((a.attr("class")||"").split(/\s+/),function(e){h[e]=!0});var f=[],l=[];n(c&&c.classes||[],function(e,a){var b=h[a],c=d[a]||{};!1===e?(b||"addClass"==c.event)&&
l.push(a):!0===e&&(b&&"removeClass"!=c.event||f.push(a))});return 0<f.length+l.length&&[f.join(" "),l.join(" ")]}function T(a){if(a){var c=[],b={};a=a.substr(1).split(".");(Y.transitions||Y.animations)&&c.push(M.get(da[""]));for(var d=0;d<a.length;d++){var f=a[d],k=da[f];k&&!b[f]&&(c.push(M.get(k)),b[f]=!0)}return c}}function U(a,c,b,d){function h(e,a){var b=e[a],c=e["before"+a.charAt(0).toUpperCase()+a.substr(1)];if(b||c)return"leave"==a&&(c=b,b=null),u.push({event:a,fn:b}),J.push({event:a,fn:c}),
!0}function k(c,l,w){var E=[];n(c,function(a){a.fn&&E.push(a)});var m=0;n(E,function(c,f){var p=function(){a:{if(l){(l[f]||t)();if(++m<E.length)break a;l=null}w()}};switch(c.event){case "setClass":l.push(c.fn(a,e,A,p,d));break;case "animate":l.push(c.fn(a,b,d.from,d.to,p));break;case "addClass":l.push(c.fn(a,e||b,p,d));break;case "removeClass":l.push(c.fn(a,A||b,p,d));break;default:l.push(c.fn(a,p,d))}});l&&0===l.length&&w()}var l=a[0];if(l){d&&(d.to=d.to||{},d.from=d.from||{});var e,A;aa(b)&&(e=
b[0],A=b[1],e?A?b=e+" "+A:(b=e,c="addClass"):(b=A,c="removeClass"));var w="setClass"==c,E=w||"addClass"==c||"removeClass"==c||"animate"==c,p=a.attr("class")+" "+b;if(x(p)){var ca=t,m=[],J=[],g=t,s=[],u=[],p=(" "+p).replace(/\s+/g,".");n(T(p),function(a){!h(a,c)&&w&&(h(a,"addClass"),h(a,"removeClass"))});return{node:l,event:c,className:b,isClassBased:E,isSetClassOperation:w,applyStyles:function(){d&&a.css(f.extend(d.from||{},d.to||{}))},before:function(a){ca=a;k(J,m,function(){ca=t;a()})},after:function(a){g=
a;k(u,s,function(){g=t;a()})},cancel:function(){m&&(n(m,function(a){(a||t)(!0)}),ca(!0));s&&(n(s,function(a){(a||t)(!0)}),g(!0))}}}}}function G(a,c,b,d,h,k,l,e){function A(e){var l="$animate:"+e;J&&J[l]&&0<J[l].length&&H(function(){b.triggerHandler(l,{event:a,className:c})})}function w(){A("before")}function E(){A("after")}function p(){p.hasBeenRun||(p.hasBeenRun=!0,k())}function g(){if(!g.hasBeenRun){m&&m.applyStyles();g.hasBeenRun=!0;l&&l.tempClasses&&n(l.tempClasses,function(a){u.removeClass(b,
a)});var w=b.data("$$ngAnimateState");w&&(m&&m.isClassBased?B(b,c):(H(function(){var e=b.data("$$ngAnimateState")||{};fa==e.index&&B(b,c,a)}),b.data("$$ngAnimateState",w)));A("close");e()}}var m=U(b,a,c,l);if(!m)return p(),w(),E(),g(),t;a=m.event;c=m.className;var J=f.element._data(m.node),J=J&&J.events;d||(d=h?h.parent():b.parent());if(z(b,d))return p(),w(),E(),g(),t;d=b.data("$$ngAnimateState")||{};var L=d.active||{},s=d.totalActive||0,q=d.last;h=!1;if(0<s){s=[];if(m.isClassBased)"setClass"==q.event?
(s.push(q),B(b,c)):L[c]&&(v=L[c],v.event==a?h=!0:(s.push(v),B(b,c)));else if("leave"==a&&L["ng-leave"])h=!0;else{for(var v in L)s.push(L[v]);d={};B(b,!0)}0<s.length&&n(s,function(a){a.cancel()})}!m.isClassBased||m.isSetClassOperation||"animate"==a||h||(h="addClass"==a==b.hasClass(c));if(h)return p(),w(),E(),A("close"),e(),t;L=d.active||{};s=d.totalActive||0;if("leave"==a)b.one("$destroy",function(a){a=f.element(this);var e=a.data("$$ngAnimateState");e&&(e=e.active["ng-leave"])&&(e.cancel(),B(a,"ng-leave"))});
u.addClass(b,"ng-animate");l&&l.tempClasses&&n(l.tempClasses,function(a){u.addClass(b,a)});var fa=K++;s++;L[c]=m;b.data("$$ngAnimateState",{last:m,active:L,index:fa,totalActive:s});w();m.before(function(e){var l=b.data("$$ngAnimateState");e=e||!l||!l.active[c]||m.isClassBased&&l.active[c].event!=a;p();!0===e?g():(E(),m.after(g))});return m.cancel}function q(a){if(a=g(a))a=f.isFunction(a.getElementsByClassName)?a.getElementsByClassName("ng-animate"):a.querySelectorAll(".ng-animate"),n(a,function(a){a=
f.element(a);(a=a.data("$$ngAnimateState"))&&a.active&&n(a.active,function(a){a.cancel()})})}function B(a,c){if(ba(a,y))r.disabled||(r.running=!1,r.structural=!1);else if(c){var b=a.data("$$ngAnimateState")||{},d=!0===c;!d&&b.active&&b.active[c]&&(b.totalActive--,delete b.active[c]);if(d||!b.totalActive)u.removeClass(a,"ng-animate"),a.removeData("$$ngAnimateState")}}function z(a,c){if(r.disabled)return!0;if(ba(a,y))return r.running;var b,d,g;do{if(0===c.length)break;var k=ba(c,y),l=k?r:c.data("$$ngAnimateState")||
{};if(l.disabled)return!0;k&&(g=!0);!1!==b&&(k=c.data("$$ngAnimateChildren"),f.isDefined(k)&&(b=k));d=d||l.running||l.last&&!l.last.isClassBased}while(c=c.parent());return!g||!b&&d}u=Q;y.data("$$ngAnimateState",r);var $=P.$watch(function(){return Z.totalPendingRequests},function(a,c){0===a&&($(),P.$$postDigest(function(){P.$$postDigest(function(){r.running=!1})}))}),K=0,V=C.classNameFilter(),x=V?function(a){return V.test(a)}:function(){return!0};return{animate:function(a,c,b,d,h){d=d||"ng-inline-animate";
h=I(h)||{};h.from=b?c:null;h.to=b?b:c;return D(function(b){return G("animate",d,f.element(g(a)),null,null,t,h,b)})},enter:function(a,c,b,d){d=I(d);a=f.element(a);c=c&&f.element(c);b=b&&f.element(b);R(a,!0);O.enter(a,c,b);return D(function(h){return G("enter","ng-enter",f.element(g(a)),c,b,t,d,h)})},leave:function(a,c){c=I(c);a=f.element(a);q(a);R(a,!0);return D(function(b){return G("leave","ng-leave",f.element(g(a)),null,null,function(){O.leave(a)},c,b)})},move:function(a,c,b,d){d=I(d);a=f.element(a);
c=c&&f.element(c);b=b&&f.element(b);q(a);R(a,!0);O.move(a,c,b);return D(function(h){return G("move","ng-move",f.element(g(a)),c,b,t,d,h)})},addClass:function(a,c,b){return this.setClass(a,c,[],b)},removeClass:function(a,c,b){return this.setClass(a,[],c,b)},setClass:function(a,c,b,d){d=I(d);a=f.element(a);a=f.element(g(a));if(R(a))return O.$$setClassImmediately(a,c,b,d);var h,k=a.data("$$animateClasses"),l=!!k;k||(k={classes:{}});h=k.classes;c=aa(c)?c:c.split(" ");n(c,function(a){a&&a.length&&(h[a]=
!0)});b=aa(b)?b:b.split(" ");n(b,function(a){a&&a.length&&(h[a]=!1)});if(l)return d&&k.options&&(k.options=f.extend(k.options||{},d)),k.promise;a.data("$$animateClasses",k={classes:h,options:d});return k.promise=D(function(e){var l=a.parent(),b=g(a),c=b.parentNode;if(!c||c.$$NG_REMOVED||b.$$NG_REMOVED)e();else{b=a.data("$$animateClasses");a.removeData("$$animateClasses");var c=a.data("$$ngAnimateState")||{},d=S(a,b,c.active);return d?G("setClass",d,a,l,null,function(){d[0]&&O.$$addClassImmediately(a,
d[0]);d[1]&&O.$$removeClassImmediately(a,d[1])},b.options,e):e()}})},cancel:function(a){a.$$cancelFn()},enabled:function(a,c){switch(arguments.length){case 2:if(a)B(c);else{var b=c.data("$$ngAnimateState")||{};b.disabled=!0;c.data("$$ngAnimateState",b)}break;case 1:r.disabled=!a;break;default:a=!r.disabled}return!!a}}}]);C.register("",["$window","$sniffer","$timeout","$$animateReflow",function(r,C,M,Y){function y(){b||(b=Y(function(){c=[];b=null;x={}}))}function H(a,e){b&&b();c.push(e);b=Y(function(){n(c,
function(a){a()});c=[];b=null;x={}})}function P(a,e){var b=g(a);a=f.element(b);k.push(a);b=Date.now()+e;b<=h||(M.cancel(d),h=b,d=M(function(){X(k);k=[]},e,!1))}function X(a){n(a,function(a){(a=a.data("$$ngAnimateCSS3Data"))&&n(a.closeAnimationFns,function(a){a()})})}function Z(a,e){var b=e?x[e]:null;if(!b){var c=0,d=0,f=0,g=0;n(a,function(a){if(1==a.nodeType){a=r.getComputedStyle(a)||{};c=Math.max(Q(a[z+"Duration"]),c);d=Math.max(Q(a[z+"Delay"]),d);g=Math.max(Q(a[K+"Delay"]),g);var e=Q(a[K+"Duration"]);
0<e&&(e*=parseInt(a[K+"IterationCount"],10)||1);f=Math.max(e,f)}});b={total:0,transitionDelay:d,transitionDuration:c,animationDelay:g,animationDuration:f};e&&(x[e]=b)}return b}function Q(a){var e=0;a=ea(a)?a.split(/\s*,\s*/):[];n(a,function(a){e=Math.max(parseFloat(a)||0,e)});return e}function R(b,e,c,d){b=0<=["ng-enter","ng-leave","ng-move"].indexOf(c);var f,p=e.parent(),h=p.data("$$ngAnimateKey");h||(p.data("$$ngAnimateKey",++a),h=a);f=h+"-"+g(e).getAttribute("class");var p=f+" "+c,h=x[p]?++x[p].total:
0,m={};if(0<h){var n=c+"-stagger",m=f+" "+n;(f=!x[m])&&u.addClass(e,n);m=Z(e,m);f&&u.removeClass(e,n)}u.addClass(e,c);var n=e.data("$$ngAnimateCSS3Data")||{},k=Z(e,p);f=k.transitionDuration;k=k.animationDuration;if(b&&0===f&&0===k)return u.removeClass(e,c),!1;c=d||b&&0<f;b=0<k&&0<m.animationDelay&&0===m.animationDuration;e.data("$$ngAnimateCSS3Data",{stagger:m,cacheKey:p,running:n.running||0,itemIndex:h,blockTransition:c,closeAnimationFns:n.closeAnimationFns||[]});p=g(e);c&&(I(p,!0),d&&e.css(d));
b&&(p.style[K+"PlayState"]="paused");return!0}function D(a,e,b,c,d){function f(){e.off(D,h);u.removeClass(e,k);u.removeClass(e,t);z&&M.cancel(z);G(e,b);var a=g(e),c;for(c in s)a.style.removeProperty(s[c])}function h(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||b.timeStamp||Date.now();b=parseFloat(b.elapsedTime.toFixed(3));Math.max(a-H,0)>=C&&b>=x&&c()}var m=g(e);a=e.data("$$ngAnimateCSS3Data");if(-1!=m.getAttribute("class").indexOf(b)&&a){var k="",t="";n(b.split(" "),function(a,
b){var e=(0<b?" ":"")+a;k+=e+"-active";t+=e+"-pending"});var s=[],q=a.itemIndex,v=a.stagger,r=0;if(0<q){r=0;0<v.transitionDelay&&0===v.transitionDuration&&(r=v.transitionDelay*q);var y=0;0<v.animationDelay&&0===v.animationDuration&&(y=v.animationDelay*q,s.push(B+"animation-play-state"));r=Math.round(100*Math.max(r,y))/100}r||(u.addClass(e,k),a.blockTransition&&I(m,!1));var F=Z(e,a.cacheKey+" "+k),x=Math.max(F.transitionDuration,F.animationDuration);if(0===x)u.removeClass(e,k),G(e,b),c();else{!r&&
d&&0<Object.keys(d).length&&(F.transitionDuration||(e.css("transition",F.animationDuration+"s linear all"),s.push("transition")),e.css(d));var q=Math.max(F.transitionDelay,F.animationDelay),C=1E3*q;0<s.length&&(v=m.getAttribute("style")||"",";"!==v.charAt(v.length-1)&&(v+=";"),m.setAttribute("style",v+" "));var H=Date.now(),D=V+" "+$,q=1E3*(r+1.5*(q+x)),z;0<r&&(u.addClass(e,t),z=M(function(){z=null;0<F.transitionDuration&&I(m,!1);0<F.animationDuration&&(m.style[K+"PlayState"]="");u.addClass(e,k);
u.removeClass(e,t);d&&(0===F.transitionDuration&&e.css("transition",F.animationDuration+"s linear all"),e.css(d),s.push("transition"))},1E3*r,!1));e.on(D,h);a.closeAnimationFns.push(function(){f();c()});a.running++;P(e,q);return f}}else c()}function I(a,b){a.style[z+"Property"]=b?"none":""}function S(a,b,c,d){if(R(a,b,c,d))return function(a){a&&G(b,c)}}function T(a,b,c,d,f){if(b.data("$$ngAnimateCSS3Data"))return D(a,b,c,d,f);G(b,c);d()}function U(a,b,c,d,f){var g=S(a,b,c,f.from);if(g){var h=g;H(b,
function(){h=T(a,b,c,d,f.to)});return function(a){(h||t)(a)}}y();d()}function G(a,b){u.removeClass(a,b);var c=a.data("$$ngAnimateCSS3Data");c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData("$$ngAnimateCSS3Data"))}function q(a,b){var c="";a=aa(a)?a:a.split(/\s+/);n(a,function(a,d){a&&0<a.length&&(c+=(0<d?" ":"")+a+b)});return c}var B="",z,$,K,V;N.ontransitionend===W&&N.onwebkittransitionend!==W?(B="-webkit-",z="WebkitTransition",$="webkitTransitionEnd transitionend"):(z="transition",
$="transitionend");N.onanimationend===W&&N.onwebkitanimationend!==W?(B="-webkit-",K="WebkitAnimation",V="webkitAnimationEnd animationend"):(K="animation",V="animationend");var x={},a=0,c=[],b,d=null,h=0,k=[];return{animate:function(a,b,c,d,f,g){g=g||{};g.from=c;g.to=d;return U("animate",a,b,f,g)},enter:function(a,b,c){c=c||{};return U("enter",a,"ng-enter",b,c)},leave:function(a,b,c){c=c||{};return U("leave",a,"ng-leave",b,c)},move:function(a,b,c){c=c||{};return U("move",a,"ng-move",b,c)},beforeSetClass:function(a,
b,c,d,f){f=f||{};b=q(c,"-remove")+" "+q(b,"-add");if(f=S("setClass",a,b,f.from))return H(a,d),f;y();d()},beforeAddClass:function(a,b,c,d){d=d||{};if(b=S("addClass",a,q(b,"-add"),d.from))return H(a,c),b;y();c()},beforeRemoveClass:function(a,b,c,d){d=d||{};if(b=S("removeClass",a,q(b,"-remove"),d.from))return H(a,c),b;y();c()},setClass:function(a,b,c,d,f){f=f||{};c=q(c,"-remove");b=q(b,"-add");return T("setClass",a,c+" "+b,d,f.to)},addClass:function(a,b,c,d){d=d||{};return T("addClass",a,q(b,"-add"),
c,d.to)},removeClass:function(a,b,c,d){d=d||{};return T("removeClass",a,q(b,"-remove"),c,d.to)}}}])}])})(window,window.angular);
//# sourceMappingURL=angular-animate.min.js.map
;/**
 * State-based routing for AngularJS
 * @version v0.2.14
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return M(new(M(function(){},{prototype:a})),b)}function e(a){return L(arguments,function(b){b!==a&&L(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return L(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return M({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return L(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function m(a,b){var c=K(a),d=c?[]:{};return L(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function n(a,b){var c=K(a)?[]:{};return L(a,function(a,d){c[d]=b(a,d)}),c}function o(a,b){var d=1,f=2,i={},j=[],k=i,m=M(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,I(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);L(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return J(a)&&a.then&&a.$$promises}if(!J(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return L(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!G(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;L(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!J(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=m;var n=a.defer(),r=n.promise,s=r.$$promises={},t=M({},d),u=1+q.length/3,v=!1;if(G(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,l(f.$$inheritedValues,p)),M(s,f.$$promises),f.$$values?(v=e(t,l(f.$$values,p)),r.$$inheritedValues=l(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=l(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function p(a,b,c){this.fromConfig=function(a,b,c){return G(a.template)?this.fromString(a.template,b):G(a.templateUrl)?this.fromUrl(a.templateUrl,b):G(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return H(a)?a(b):a},this.fromUrl=function(c,d){return H(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function q(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new O.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:e=["?(",")?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),j=O.type(h||"string")||d(O.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)}),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=M({params:{}},J(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new O.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function r(a){M(this,a)}function s(){function a(a){return null!=a?a.toString().replace(/\//g,"%2F"):a}function e(a){return null!=a?a.toString().replace(/%2F/g,"/"):a}function f(){return{strict:p,caseInsensitive:o}}function i(a){return H(a)||K(a)&&H(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){M(this,a||{})}O=this;var l,o=!1,p=!0,t=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return"string"==typeof a},pattern:/[^\/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return G(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,is:b.identity,equals:b.equals,pattern:/.*/}};s.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return G(a)&&(o=a),o},this.strictMode=function(a){return G(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!G(a))return t;if(a!==!0&&a!==!1&&!I(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return t=a,a},this.compile=function(a,b){return new q(a,M(f(),b))},this.isMatcher=function(a){if(!J(a))return!1;var b=!0;return L(q.prototype,function(c,d){H(c)&&(b=b&&G(a[d])&&H(a[d]))}),b},this.type=function(a,b,c){if(!G(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new r(M({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},L(x,function(a,b){u[b]=new r(M({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),L(x,function(a,b){u[b]||(u[b]=new r(a))}),this}],this.Param=function(a,b,d,e){function f(a){var b=J(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function j(b,c,d){if(b.type&&c)throw new Error("Param '"+a+"' has two type configurations.");return c?c:b.type?b.type instanceof r?b.type:new r(b.type):"config"===d?u.any:u.string}function k(){var b={array:"search"===e?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return M(b,c,d).array}function o(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!G(c)||null==c)return t;if(c===!0||I(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function p(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=K(a.replace)?a.replace:[],I(e)&&f.push({from:e,to:c}),g=n(f,function(a){return a.from}),m(i,function(a){return-1===h(g,a.from)}).concat(f)}function q(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(d.$$fn);if(null!==a&&a!==c&&!w.type.is(a))throw new Error("Default value ("+a+") for parameter '"+w.id+"' is not an instance of Type ("+w.type.name+")");return a}function s(a){function b(a){return function(b){return b.from===a}}function c(a){var c=n(m(w.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),G(a)?w.type.$normalize(a):q()}function v(){return"{Param:"+a+" "+b+" squash: '"+z+"' optional: "+y+"}"}var w=this;d=f(d),b=j(d,b,e);var x=k();b=x?b.$asArray(x,"search"===e):b,"string"!==b.name||x||"path"!==e||d.value!==c||(d.value="");var y=d.value!==c,z=o(d,y),A=p(d,x,y,z);M(this,{id:a,type:b,location:e,array:x,squash:z,replace:A,isOptional:y,value:s,dynamic:c,config:d,toString:v})},k.prototype={$$new:function(){return d(this,M(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),L(b,function(b){L(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return L(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return L(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function t(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return G(d)?d:!0}function h(d,e,f,g){function h(a,b,c){return"/"===p?a:b?p.slice(0,-1)+a:c?p.slice(1)+a:a}function m(a){function b(a){var b=a(f,d);return b?(I(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){var e=o&&d.url()===o;if(o=c,e)return!0;var g,h=j.length;for(g=0;h>g;g++)if(b(j[g]))return;k&&b(k)}}function n(){return i=i||e.$on("$locationChangeSuccess",m)}var o,p=g.baseHref(),q=d.url();return l||n(),{sync:function(){m()},listen:function(){return n()},update:function(a){return a?void(q=d.url()):void(d.url()!==q&&(d.url(q),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),o=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled);var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=h(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!H(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(I(a)){var b=a;a=function(){return b}}else if(!H(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=I(b);if(I(a)&&(a=d.compile(a)),!h&&!H(b)&&!K(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),M(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:I(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),M(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser"]}function u(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function l(a,b){if(!a)return c;var d=I(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=l(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var m=y[e];return!m||!d&&(d||m!==a&&m.self!==a)?c:m}function m(a,b){z[a]||(z[a]=[]),z[a].push(b)}function o(a){for(var b=z[a]||[];b.length;)p(b.shift())}function p(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!I(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(y.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):I(b.parent)?b.parent:J(b.parent)&&I(b.parent.name)?b.parent.name:"";if(e&&!y[e])return m(e,b.self);for(var f in B)H(B[f])&&(b[f]=B[f](b,B.$delegates[f]));return y[c]=b,!b[A]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){x.$current.navigable==b&&j(a,c)||x.transitionTo(b,a,{inherit:!0,location:!1})}]),o(c),b}function q(a){return a.indexOf("*")>-1}function r(a){for(var b=a.split("."),c=x.$current.name.split("."),d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length?!1:c.join("")===b.join("")}function s(a,b){return I(a)&&!G(b)?B[a]:H(b)&&I(a)?(B[a]&&!B.$delegates[a]&&(B.$delegates[a]=B[a]),B[a]=b,this):this}function t(a,b){return J(a)?b=a:b.name=a,p(b),this}function u(a,e,f,h,m,o,p){function s(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),B;if(!g.retry)return null;if(f.$retry)return p.update(),C;var h=x.transition=e.when(g.retry);return h.then(function(){return h!==x.transition?u:(b.options.$retry=!0,x.transitionTo(b.to,b.toParams,b.options))},function(){return B}),p.update(),h}function t(a,c,d,g,i,j){var l=d?c:k(a.params.$$keys(),c),n={$stateParams:l};i.resolve=m.resolve(a.resolve,n,i.resolve,a);var o=[i.resolve.then(function(a){i.globals=a})];return g&&o.push(g),L(a.views,function(c,d){var e=c.resolve&&c.resolve!==a.resolve?c.resolve:{};e.$template=[function(){return f.load(d,{view:c,locals:n,params:l,notify:j.notify})||""}],o.push(m.resolve(e,n,i.resolve,a).then(function(f){if(H(c.controllerProvider)||K(c.controllerProvider)){var g=b.extend({},e,n,f);f.$$controller=h.invoke(c.controllerProvider,null,g)}else f.$$controller=c.controller;f.$$state=a,f.$$controllerAs=c.controllerAs,i[d]=f}))}),e.all(o).then(function(){return i})}var u=e.reject(new Error("transition superseded")),z=e.reject(new Error("transition prevented")),B=e.reject(new Error("transition aborted")),C=e.reject(new Error("transition failed"));return w.locals={resolve:null,globals:{$stateParams:{}}},x={params:{},current:w.self,$current:w,transition:null},x.reload=function(a){return x.transitionTo(x.current,o,{reload:a||!0,inherit:!1,notify:!0})},x.go=function(a,b,c){return x.transitionTo(a,b,M({inherit:!0,relative:x.$current},c))},x.transitionTo=function(b,c,f){c=c||{},f=M({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=x.$current,m=x.params,n=j.path,q=l(b,f.relative),r=c["#"];if(!G(q)){var y={to:b,toParams:c,options:f},B=s(y,j.self,m,f);if(B)return B;if(b=y.to,c=y.toParams,f=y.options,q=l(b,f.relative),!G(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[A])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(o,c||{},x.$current,q)),!q.params.$$validates(c))return C;c=q.params.$$values(c),b=q;var D=b.path,E=0,F=D[E],H=w.locals,K=[],L=!1;if(f.reload){if(I(f.reload)||J(f.reload)){if(J(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var O=f.reload===!0?n[0]:l(f.reload);if(f.reload&&!O)throw new Error("No such reload state '"+(I(f.reload)?f.reload:f.reload.name)+"'");for(L=!0;F&&F===n[E]&&F!==O;)H=K[E]=F.locals,E++,F=D[E]}}else for(;F&&F===n[E]&&F.ownParams.$$equals(c,m);)H=K[E]=F.locals,E++,F=D[E];if(!L&&v(b,j,H,f))return b.self.reloadOnSearch!==!1&&p.update(),x.transition=null,e.when(x.current);if(c=k(b.params.$$keys(),c||{}),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,m).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,m),p.update(),z;for(var P=e.when(H),Q=E;Q<D.length;Q++,F=D[Q])H=K[Q]=d(H),P=t(F,c,F===b,P,H,f);var R=x.transition=P.then(function(){var d,e,g;if(x.transition!==R)return u;for(d=n.length-1;d>=E;d--)g=n[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=E;d<D.length;d++)e=D[d],e.locals=K[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return r&&(c["#"]=r),x.transition!==R?u:(x.$current=b,x.current=b.self,x.params=c,N(x.params,o),x.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,m),p.update(!0),x.current)},function(d){return x.transition!==R?u:(x.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,m,d),g.defaultPrevented||p.update(),e.reject(d))});return R},x.is=function(a,b,d){d=M({relative:x.$current},d||{});var e=l(a,d.relative);return G(e)?x.$current!==e?!1:b?j(e.params.$$values(b),o):!0:c},x.includes=function(a,b,d){if(d=M({relative:x.$current},d||{}),I(a)&&q(a)){if(!r(a))return!1;a=x.$current.name}var e=l(a,d.relative);return G(e)?G(x.$current.includes[e.name])?b?j(e.params.$$values(b),o,g(b)):!0:!1:c},x.href=function(a,b,d){d=M({lossy:!0,inherit:!0,absolute:!1,relative:x.$current},d||{});var e=l(a,d.relative);if(!G(e))return null;d.inherit&&(b=i(o,b||{},x.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},x.get=function(a,b){if(0===arguments.length)return n(g(y),function(a){return y[a].self});var c=l(a,b||x.$current);return c&&c.self?c.self:null},x}function v(a,b,c,d){return a!==b||(c!==b.locals||d.reload)&&a.self.reloadOnSearch!==!1?void 0:!0}var w,x,y={},z={},A="abstract",B={parent:function(a){if(G(a.parent)&&a.parent)return l(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?l(b[1]):w},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=M({},a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(I(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||w).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new O.ParamSet;return L(a.params||{},function(a,c){b[c]||(b[c]=new O.Param(c,null,a,"config"))}),b},params:function(a){return a.parent&&a.parent.params?M(a.parent.params.$$new(),a.ownParams):new O.ParamSet},views:function(a){var b={};return L(G(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?M({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};w=p({name:"",url:"^",views:null,"abstract":!0}),w.navigable=null,this.decorator=s,this.state=t,this.$get=u,u.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function v(){function a(a,b){return{load:function(c,d){var e,f={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return d=M(f,d),d.view&&(e=b.fromConfig(d.view,d.params,d.locals)),e&&d.notify&&a.$broadcast("$viewContentLoading",d),e}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function w(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function x(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,b){var c=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(j)return{enter:function(a,b,c){var d=j.enter(a,null,b,c);d&&d.then&&d.then(c)},leave:function(a,b){var c=j.leave(a,b);c&&c.then&&c.then(b)}};if(i){var d=i&&i(b,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return c()}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){l&&(l.remove(),l=null),n&&(n.$destroy(),n=null),m&&(r.leave(m,function(){l=null}),l=m,m=null)}function k(g){var k,l=z(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if(g||s!==o){k=c.$new(),o=a.$current.locals[l];var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded"),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),c.$on("$viewContentLoading",function(){k(!1)}),k(!0)}}};return k}function y(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=z(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function z(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function A(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function B(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function C(a,c){var d=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,f,g,h){var i=A(g.uiSref,a.current.name),j=null,k=B(f)||a.$current,l="[object SVGAnimatedString]"===Object.prototype.toString.call(f.prop("href"))?"xlink:href":"href",m=null,n="A"===f.prop("tagName").toUpperCase(),o="FORM"===f[0].nodeName,p=o?"action":l,q=!0,r={relative:k,inherit:!0},s=e.$eval(g.uiSrefOpts)||{};b.forEach(d,function(a){a in s&&(r[a]=s[a])});var t=function(c){if(c&&(j=b.copy(c)),q){m=a.href(i.state,j,r);var d=h[1]||h[0];return d&&d.$$addStateInfo(i.state,j),null===m?(q=!1,!1):void g.$set(p,m)}};i.paramExpr&&(e.$watch(i.paramExpr,function(a){a!==j&&t(a)},!0),j=b.copy(e.$eval(i.paramExpr))),t(),o||f.bind("click",function(b){var d=b.which||b.button;if(!(d>1||b.ctrlKey||b.metaKey||b.shiftKey||f.attr("target"))){var e=c(function(){a.go(i.state,j,r)});b.preventDefault();var g=n&&!m?1:0;b.preventDefault=function(){g--<=0&&c.cancel(e)}}})}}}function D(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(b,d,e){function f(){g()?d.addClass(i):d.removeClass(i)}function g(){for(var a=0;a<j.length;a++)if(h(j[a].state,j[a].params))return!0;return!1}function h(b,c){return"undefined"!=typeof e.uiSrefActiveEq?a.is(b.name,c):a.includes(b.name,c)}var i,j=[];i=c(e.uiSrefActiveEq||e.uiSrefActive||"",!1)(b),this.$$addStateInfo=function(b,c){var e=a.get(b,B(d));j.push({state:e||{name:b},params:c}),f()},b.$on("$stateChangeSuccess",f)}]}}function E(a){var b=function(b){return a.is(b)};return b.$stateful=!0,b}function F(a){var b=function(b){return a.includes(b)};return b.$stateful=!0,b}var G=b.isDefined,H=b.isFunction,I=b.isString,J=b.isObject,K=b.isArray,L=b.forEach,M=b.extend,N=b.copy;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),o.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",o),p.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",p);var O;q.prototype.concat=function(a,b){var c={caseInsensitive:O.caseInsensitive(),strict:O.strictMode(),squash:O.defaultSquashPolicy()};return new q(this.sourcePath+a+this.sourceSearch,M(c,b),this)},q.prototype.toString=function(){return this.source},q.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=n(d,b);return n(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(e=0;j>e;e++){g=h[e];var l=this.params[g],m=d[e+1];for(f=0;f<l.replace;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),k[g]=l.value(m)}for(;i>e;e++)g=h[e],k[g]=this.params[g].value(b[g]);return k},q.prototype.parameters=function(a){return G(a)?this.params[a]||null:this.$$paramNames},q.prototype.validates=function(a){return this.params.$$validates(a)},q.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],o=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),o),q=p?m.squash:!1,r=m.type.encode(o);if(k){var s=c[f+1];if(q===!1)null!=r&&(j+=K(r)?n(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var t=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(t)[1]}else I(q)&&(j+=q+s)}else{if(null==r||p&&q!==!1)continue;K(r)||(r=[r]),r=n(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},r.prototype.is=function(){return!0},r.prototype.encode=function(a){return a},r.prototype.decode=function(a){return a},r.prototype.equals=function(a,b){return a==b},r.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},r.prototype.pattern=/.*/,r.prototype.toString=function(){return"{Type:"+this.name+"}"},r.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},r.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return K(a)?a:G(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){c=e(c);var d=n(c,a);return b===!0?0===m(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",s),b.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),t.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",t),u.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").value("$stateParams",{}).provider("$state",u),v.$inject=[],b.module("ui.router.state").provider("$view",v),b.module("ui.router.state").provider("$uiViewScroll",w),x.$inject=["$state","$injector","$uiViewScroll","$interpolate"],y.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",x),b.module("ui.router.state").directive("uiView",y),C.$inject=["$state","$timeout"],D.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",C).directive("uiSrefActive",D).directive("uiSrefActiveEq",D),E.$inject=["$state"],F.$inject=["$state"],b.module("ui.router.state").filter("isState",E).filter("includedByState",F)}(window,window.angular);;!function(a,b){"use strict";function c(a){return{require:"?ngModel",restrict:"A",link:function(c,d,e,f){function g(){var a=h(c);return b.isObject(a)&&a.hasOwnProperty("$viewValue")&&(a=a.$viewValue),a}if(!f)return void(console&&console.warn&&console.warn("Match validation requires ngModel to be on the element"));var h=a(e.match);c.$watch(g,function(){f.$$parseAndValidate()}),f.$validators.match=function(){return f.$viewValue===g()}}}}b.module("validation.match",[]),b.module("validation.match").directive("match",c),c.$inject=["$parse"]}(window,window.angular);;(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var ordinal = require('ordinal');

angular
  .module('ordinal', [])

  // Take a number and returns its ordinal value
  // i.e. 1 -> 1st, 2 -> 2nd, etc.
  .filter('ordinal', function() {
    return function(input) {
      var num = parseInt(input, 10);
      return isNaN(num) ? input : ordinal.english(num);
    };
  });

},{"ordinal":2}],2:[function(require,module,exports){
exports.english = require('./lib/english');

},{"./lib/english":3}],3:[function(require,module,exports){
function teens() {
  return [11, 12, 13, 14, 15, 16, 17, 18, 19];
};

function blank(n) {
  return 'string' === typeof n && 0 === n.trim().length;
}

function numeric(n) {
  return 'number' === typeof +n && !Number.isNaN(+n);
}

function valid(n) {
  return numeric(n) && !blank(n) && 'object' !== typeof n;
}

function validate(n) {
  if(!valid(n)) {
    throw new Error('Must be a number or numeric string');
  }
}

function indicator(n) {
  validate(n);

  var remainder = n % 10;
  if(~teens().indexOf(n)) {
    return 'th';
  }
  switch(n % 10) {
    case 1:
      return 'st';
      break;
    case 2:
      return 'nd';
      break;
    case 3:
      return 'rd';
      break;
    default:
      return 'th';
  }
};

function english(n) {
  return n + indicator(n);
};

module.exports = english;
module.exports.indicator = indicator;

},{}]},{},[1]);
;/*! 4.2.1 */
!function(){function a(a,b){window.XMLHttpRequest.prototype[a]=b(window.XMLHttpRequest.prototype[a])}function b(a,b,c,d,g,h,i){function j(){return"input"===b[0].tagName.toLowerCase()&&b.attr("type")&&"file"===b.attr("type").toLowerCase()}function k(b){if(!p){p=!0;try{for(var i=b.__files_||b.target&&b.target.files,j=[],k=[],l=0;l<i.length;l++){var m=i.item(l);f(a,g,c,m,b)?j.push(m):k.push(m)}e(g,h,a,d,c,c.ngfChange||c.ngfSelect,j,k,b),0==j.length&&(b.target.value=j)}finally{p=!1}}}function l(d){c.ngfMultiple&&d.attr("multiple",g(c.ngfMultiple)(a)),g(c.ngfMultiple)(a)||d.attr("multiple",void 0),c.accept&&d.attr("accept",c.accept),c.ngfCapture&&d.attr("capture",g(c.ngfCapture)(a));for(var e=0;e<b[0].attributes.length;e++){var f=b[0].attributes[e];(j()&&"type"!==f.name||"type"!==f.name&&"class"!==f.name&&"id"!==f.name&&"style"!==f.name)&&d.attr(f.name,f.value)}}function m(){if(!b.attr("disabled")){var c=angular.element('<input type="file">');return l(c),j()?(b.replaceWith(c),b=c,c.attr("__ngf_gen__",!0),i(b)(a)):(c.css("visibility","hidden").css("position","absolute").css("width","1").css("height","1").css("z-index","-100000").attr("tabindex","-1"),b.__ngf_ref_elem__&&b.__ngf_ref_elem__.remove(),b.__ngf_ref_elem__=c,document.body.appendChild(c[0])),c}}function n(b){e(g,h,a,d,c,c.ngfChange||c.ngfSelect,[],[],b,!0)}function o(a){function c(){d[0].click(),j()&&(b.bind("click touchend",o),a.preventDefault())}a.preventDefault();var d=m(a);d&&(d.bind("change",k),n(a),navigator.userAgent.toLowerCase().match(/android/)?setTimeout(function(){c()},0):c())}if(!b.attr("__ngf_gen__")){var p=!1;window.FileAPI&&window.FileAPI.ngfFixIE?window.FileAPI.ngfFixIE(b,m,l,k,n):b.bind("click touchend",o)}}function c(a,b,c,g,h,i,j){function k(a,b,c){var d=!0,e=c.dataTransfer.items;if(null!=e)for(var g=0;g<e.length&&d;g++)d=d&&("file"==e[g].kind||""==e[g].kind)&&f(a,h,b,e[g],c);var i=h(b.ngfDragOverClass)(a,{$event:c});return i&&(i.delay&&(q=i.delay),i.accept&&(i=d?i.accept:i.reject)),i||b.ngfDragOverClass||"dragover"}function l(b,d,e,g){function k(d){f(a,h,c,d,b)?m.push(d):n.push(d)}function l(a,b,c){if(null!=b)if(b.isDirectory){var d=(c||"")+b.name;k({name:b.name,type:"directory",path:d});var e=b.createReader(),f=[];p++;var g=function(){e.readEntries(function(d){try{if(d.length)f=f.concat(Array.prototype.slice.call(d||[],0)),g();else{for(var e=0;e<f.length;e++)l(a,f[e],(c?c:"")+b.name+"/");p--}}catch(h){p--,console.error(h)}},function(){p--})};g()}else p++,b.file(function(a){try{p--,a.path=(c?c:"")+a.name,k(a)}catch(b){p--,console.error(b)}},function(){p--})}var m=[],n=[],o=b.dataTransfer.items,p=0;if(o&&o.length>0&&"file"!=j.protocol())for(var q=0;q<o.length;q++){if(o[q].webkitGetAsEntry&&o[q].webkitGetAsEntry()&&o[q].webkitGetAsEntry().isDirectory){var r=o[q].webkitGetAsEntry();if(r.isDirectory&&!e)continue;null!=r&&l(m,r)}else{var s=o[q].getAsFile();null!=s&&k(s)}if(!g&&m.length>0)break}else{var t=b.dataTransfer.files;if(null!=t)for(var q=0;q<t.length&&(k(t.item(q)),g||!(m.length>0));q++);}var u=0;!function v(a){i(function(){if(p)10*u++<2e4&&v(10);else{if(!g&&m.length>1){for(q=0;"directory"==m[q].type;)q++;m=[m[q]]}d(m,n)}},a||0)}()}var m=d();if(c.dropAvailable&&i(function(){a[c.dropAvailable]?a[c.dropAvailable].value=m:a[c.dropAvailable]=m}),!m)return 1==h(c.ngfHideOnDropNotAvailable)(a)&&b.css("display","none"),void 0;{var n,o=null,p=h(c.ngfStopPropagation),q=1;h(c.ngfAccept)}b[0].addEventListener("dragover",function(d){if(!b.attr("disabled")){if(d.preventDefault(),p(a)&&d.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var e=d.dataTransfer.effectAllowed;d.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy"}i.cancel(o),a.actualDragOverClass||(n=k(a,c,d)),b.addClass(n)}},!1),b[0].addEventListener("dragenter",function(c){b.attr("disabled")||(c.preventDefault(),p(a)&&c.stopPropagation())},!1),b[0].addEventListener("dragleave",function(){b.attr("disabled")||(o=i(function(){b.removeClass(n),n=null},q||1))},!1),b[0].addEventListener("drop",function(d){b.attr("disabled")||(d.preventDefault(),p(a)&&d.stopPropagation(),b.removeClass(n),n=null,l(d,function(b,f){e(h,i,a,g,c,c.ngfChange||c.ngfDrop,b,f,d)},0!=h(c.ngfAllowDir)(a),c.multiple||h(c.ngfMultiple)(a)))},!1)}function d(){var a=document.createElement("div");return"draggable"in a&&"ondrop"in a}function e(a,b,c,d,e,f,g,h,i,j){function k(){d&&(a(e.ngModel).assign(c,g),b(function(){d&&d.$setViewValue(null!=g&&0==g.length?null:g)})),e.ngModelRejected&&a(e.ngModelRejected).assign(c,h),f&&a(f)(c,{$files:g,$rejectedFiles:h,$event:i})}j?k():b(function(){k()})}function f(a,b,c,d,e){var f=b(c.ngfAccept)(a,{$file:d,$event:e}),h=b(c.ngfMaxSize)(a,{$file:d,$event:e})||9007199254740991,i=b(c.ngfMinSize)(a,{$file:d,$event:e})||-1;if(null!=f&&angular.isString(f)){var j=new RegExp(g(f),"gi");f=null!=d.type&&j.test(d.type.toLowerCase())||null!=d.name&&j.test(d.name.toLowerCase())}return(null==f||f)&&(null==d.size||d.size<h&&d.size>i)}function g(a){if(a.length>2&&"/"===a[0]&&"/"===a[a.length-1])return a.substring(1,a.length-1);var b=a.split(","),c="";if(b.length>1)for(var d=0;d<b.length;d++)c+="("+g(b[d])+")",d<b.length-1&&(c+="|");else 0==a.indexOf(".")&&(a="*"+a),c="^"+a.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",c=c.replace(/\\\*/g,".*").replace(/\\\?/g,".");return c}var h;window.XMLHttpRequest&&!window.XMLHttpRequest.__isFileAPIShim&&a("setRequestHeader",function(a){return function(b,c){if("__setXHR_"===b){var d=c(this);d instanceof Function&&d(this)}else a.apply(this,arguments)}});var i=angular.module("ngFileUpload",[]);i.version="4.2.1",i.service("Upload",["$http","$q","$timeout",function(a,b,c){function d(d){d.method=d.method||"POST",d.headers=d.headers||{},d.transformRequest=d.transformRequest||function(b,c){return window.ArrayBuffer&&b instanceof window.ArrayBuffer?b:a.defaults.transformRequest[0](b,c)};var e=b.defer(),f=e.promise;return d.headers.__setXHR_=function(){return function(a){a&&(d.__XHR=a,d.xhrFn&&d.xhrFn(a),a.upload.addEventListener("progress",function(a){a.config=d,e.notify?e.notify(a):f.progress_fn&&c(function(){f.progress_fn(a)})},!1),a.upload.addEventListener("load",function(a){a.lengthComputable&&(a.config=d,e.notify?e.notify(a):f.progress_fn&&c(function(){f.progress_fn(a)}))},!1))}},a(d).then(function(a){e.resolve(a)},function(a){e.reject(a)},function(a){e.notify(a)}),f.success=function(a){return f.then(function(b){a(b.data,b.status,b.headers,d)}),f},f.error=function(a){return f.then(null,function(b){a(b.data,b.status,b.headers,d)}),f},f.progress=function(a){return f.progress_fn=a,f.then(null,null,function(b){a(b)}),f},f.abort=function(){return d.__XHR&&c(function(){d.__XHR.abort()}),f},f.xhr=function(a){return d.xhrFn=function(b){return function(){b&&b.apply(f,arguments),a.apply(f,arguments)}}(d.xhrFn),f},f}this.upload=function(a){return a.headers=a.headers||{},a.headers["Content-Type"]=void 0,a.transformRequest=a.transformRequest?angular.isArray(a.transformRequest)?a.transformRequest:[a.transformRequest]:[],a.transformRequest.push(function(b){var c=new FormData,d={};for(h in a.fields)a.fields.hasOwnProperty(h)&&(d[h]=a.fields[h]);if(b&&(d.data=b),a.formDataAppender)for(h in d)d.hasOwnProperty(h)&&a.formDataAppender(c,h,d[h]);else for(h in d)if(d.hasOwnProperty(h)){var e=d[h];void 0!==e&&(angular.isDate(e)&&(e=e.toISOString()),angular.isString(e)?c.append(h,e):a.sendObjectsAsJsonBlob&&angular.isObject(e)?c.append(h,new Blob([e],{type:"application/json"})):c.append(h,JSON.stringify(e)))}if(null!=a.file){var f=a.fileFormDataName||"file";if(angular.isArray(a.file))for(var g=angular.isString(f),i=0;i<a.file.length;i++)c.append(g?f:f[i],a.file[i],a.fileName&&a.fileName[i]||a.file[i].name);else c.append(f,a.file,a.fileName||a.file.name)}return c}),d(a)},this.http=function(a){return d(a)}}]),i.directive("ngfSelect",["$parse","$timeout","$compile",function(a,c,d){return{restrict:"AEC",require:"?ngModel",link:function(e,f,g,h){b(e,f,g,h,a,c,d)}}}]),i.directive("ngfDrop",["$parse","$timeout","$location",function(a,b,d){return{restrict:"AEC",require:"?ngModel",link:function(e,f,g,h){c(e,f,g,h,a,b,d)}}}]),i.directive("ngfNoFileDrop",function(){return function(a,b){d()&&b.css("display","none")}}),i.directive("ngfDropAvailable",["$parse","$timeout",function(a,b){return function(c,e,f){if(d()){var g=a(f.ngfDropAvailable);b(function(){g(c),g.assign&&g.assign(c,!0)})}}}]),i.directive("ngfSrc",["$parse","$timeout",function(a,b){return{restrict:"AE",link:function(c,d,e){window.FileReader&&c.$watch(e.ngfSrc,function(g){g&&f(c,a,e,g,null)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||g.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||g.size<4e6)?b(function(){var a=new FileReader;a.readAsDataURL(g),a.onload=function(a){b(function(){d.attr("src",a.target.result)})}}):d.attr("src",e.ngfDefaultSrc||"")})}}}])}(),function(){function a(a,b){window.XMLHttpRequest.prototype[a]=b(window.XMLHttpRequest.prototype[a])}function b(a,b,c){try{Object.defineProperty(a,b,{get:c})}catch(d){}}function c(a){return"input"===a[0].tagName.toLowerCase()&&a.attr("type")&&"file"===a.attr("type").toLowerCase()}var d=function(){try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(a)return!0}catch(b){if(void 0!=navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1};if(window.XMLHttpRequest&&!window.FormData||window.FileAPI&&FileAPI.forceLoad){var e=function(a){if(!a.__listeners){a.upload||(a.upload={}),a.__listeners=[];var b=a.upload.addEventListener;a.upload.addEventListener=function(c,d){a.__listeners[c]=d,b&&b.apply(this,arguments)}}};a("open",function(a){return function(b,c,d){e(this),this.__url=c;try{a.apply(this,[b,c,d])}catch(f){f.message.indexOf("Access is denied")>-1&&(this.__origError=f,a.apply(this,[b,"_fix_for_ie_crossdomain__",d]))}}}),a("getResponseHeader",function(a){return function(b){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(b):null==a?null:a.apply(this,[b])}}),a("getAllResponseHeaders",function(a){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==a?null:a.apply(this)}}),a("abort",function(a){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==a?null:a.apply(this)}}),a("setRequestHeader",function(a){return function(b,c){if("__setXHR_"===b){e(this);var d=c(this);d instanceof Function&&d(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[b]=c,a.apply(this,arguments)}}),a("send",function(a){return function(){var c=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var e=arguments[0],f={url:c.__url,jsonp:!1,cache:!0,complete:function(a,d){c.__completed=!0,!a&&c.__listeners.load&&c.__listeners.load({type:"load",loaded:c.__loaded,total:c.__total,target:c,lengthComputable:!0}),!a&&c.__listeners.loadend&&c.__listeners.loadend({type:"loadend",loaded:c.__loaded,total:c.__total,target:c,lengthComputable:!0}),"abort"===a&&c.__listeners.abort&&c.__listeners.abort({type:"abort",loaded:c.__loaded,total:c.__total,target:c,lengthComputable:!0}),void 0!==d.status&&b(c,"status",function(){return 0==d.status&&a&&"abort"!==a?500:d.status}),void 0!==d.statusText&&b(c,"statusText",function(){return d.statusText}),b(c,"readyState",function(){return 4}),void 0!==d.response&&b(c,"response",function(){return d.response});var e=d.responseText||(a&&0==d.status&&"abort"!==a?a:void 0);b(c,"responseText",function(){return e}),b(c,"response",function(){return e}),a&&b(c,"err",function(){return a}),c.__fileApiXHR=d,c.onreadystatechange&&c.onreadystatechange(),c.onload&&c.onload()},progress:function(a){if(a.target=c,c.__listeners.progress&&c.__listeners.progress(a),c.__total=a.total,c.__loaded=a.loaded,a.total===a.loaded){var b=this;setTimeout(function(){c.__completed||(c.getAllResponseHeaders=function(){},b.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:c.__requestHeaders};f.data={},f.files={};for(var g=0;g<e.data.length;g++){var h=e.data[g];null!=h.val&&null!=h.val.name&&null!=h.val.size&&null!=h.val.type?f.files[h.key]=h.val:f.data[h.key]=h.val}setTimeout(function(){if(!d())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';c.__fileApiXHR=FileAPI.upload(f)},1)}else{if(this.__origError)throw this.__origError;a.apply(c,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(a,b,c){b.__isFileAPIBlobShim&&(b=b.data[0]),this.data.push({key:a,val:b,name:c})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(a){return{data:a,__isFileAPIBlobShim:!0}},function(){if(window.FileAPI||(window.FileAPI={}),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var a,b,c,e,f,g=document.createElement("script"),h=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)a=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)b=window.FileAPI.jsPath;else for(c=0;c<h.length;c++)if(f=h[c].src,e=f.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),e>-1){b=f.substring(0,e+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=b),g.setAttribute("src",a||b+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(g),FileAPI.hasFlash=d()}}(),FileAPI.ngfFixIE=function(a,b,e,f){if(!d())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var g=function(){function d(a){var b,c;if(b=c=0,a.offsetParent)do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return{left:b,top:c}}if(a.attr("disabled"))a.__ngf_elem__.removeClass("js-fileapi-wrapper");else{var i=a.__ngf_elem__;i?e(a.__ngf_elem__):(i=a.__ngf_elem__=b(),i.addClass("js-fileapi-wrapper"),!c(a),setTimeout(function(){i.bind("mouseenter",g)},10),i.bind("change",function(a){h.apply(this,[a]),f.apply(this,[a])})),c(a)||i.css("position","absolute").css("top",d(a[0]).top+"px").css("left",d(a[0]).left+"px").css("width",a[0].offsetWidth+"px").css("height",a[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",a.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible")}};a.bind("mouseenter",g);var h=function(a){for(var b=FileAPI.getFiles(a),c=0;c<b.length;c++)void 0===b[c].size&&(b[c].size=0),void 0===b[c].name&&(b[c].name="file"),void 0===b[c].type&&(b[c].type="undefined");a.target||(a.target={}),a.target.files=b,a.target.files!=b&&(a.__files_=b),(a.__files_||a.target.files).item=function(b){return(a.__files_||a.target.files)[b]||null}}},FileAPI.disableFileInput=function(a,b){b?a.removeClass("js-fileapi-wrapper"):a.addClass("js-fileapi-wrapper")}}window.FileReader||(window.FileReader=function(){var a=this,b=!1;this.listeners={},this.addEventListener=function(b,c){a.listeners[b]=a.listeners[b]||[],a.listeners[b].push(c)},this.removeEventListener=function(b,c){a.listeners[b]&&a.listeners[b].splice(a.listeners[b].indexOf(c),1)},this.dispatchEvent=function(b){var c=a.listeners[b.type];if(c)for(var d=0;d<c.length;d++)c[d].call(a,b)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var c=function(b,c){var d={type:b,target:a,loaded:c.loaded,total:c.total,error:c.error};return null!=c.result&&(d.target.result=c.result),d},d=function(d){if(b||(b=!0,a.onloadstart&&a.onloadstart(c("loadstart",d))),"load"===d.type){a.onloadend&&a.onloadend(c("loadend",d));var e=c("load",d);a.onload&&a.onload(e),a.dispatchEvent(e)}else if("progress"===d.type){var e=c("progress",d);a.onprogress&&a.onprogress(e),a.dispatchEvent(e)}else{var e=c("error",d);a.onerror&&a.onerror(e),a.dispatchEvent(e)}};this.readAsArrayBuffer=function(a){FileAPI.readAsBinaryString(a,d)},this.readAsBinaryString=function(a){FileAPI.readAsBinaryString(a,d)},this.readAsDataURL=function(a){FileAPI.readAsDataURL(a,d)},this.readAsText=function(a){FileAPI.readAsText(a,d)}})}();;/*! ng-imgur by Adam Timberlake <adam.timberlake@gmail.com> created on 2015-02-22 */
!function(a){"use strict";var b=a.module("ngImgur",[]);b.constant("imgurOptions",{UPLOAD_URL:"https://api.imgur.com/3/image",UPLOAD_METHOD:"POST",API_KEY:""}),b.service("imgur",["$window","$http","$q","imgurOptions",function(b,c,d,e){var f={};return f.setAPIKey=function(a){e.API_KEY=a},f.upload=function(b){if(!e.API_KEY)throw"ngImgur: You must define your API key in `imgurOptions.API_KEY`.";if(!a.isArray(b))return this.send(b);var c=d.defer(),g=[];return a.forEach(b,function(a){g.push(f.send(a))}),d.all(g).then(function(a){c.resolve(a)}),c.promise},f.send=function(a){var f=new b.FileReader,g=d.defer();return f.onload=function(a){var b=a.target.result.split(",")[1],d={Authorization:e.API_KEY},f={image:b},h=c({url:e.UPLOAD_URL,method:e.UPLOAD_METHOD,headers:d,data:f});h.then(function(a){g.resolve(a.data.data)}),h.error(function(){g.reject()})},f.readAsDataURL(a),g.promise},f}])}(window.angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpcmViYXNlLmpzIiwiYW5ndWxhcmZpcmUubWluLmpzIiwiYW5ndWxhci1hbmltYXRlLm1pbi5qcyIsImFuZ3VsYXItdWktcm91dGVyLm1pbi5qcyIsImFuZ3VsYXItaW5wdXQtbWF0Y2gubWluLmpzIiwib3JkaW5hbC1icm93c2VyLmpzIiwibmctZmlsZS11cGxvYWQtYWxsLm1pbi5qcyIsIm5nLWltZ3VyLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0N2UUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDQ3cUJDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0NqQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ2c2QkNOQSxzakJDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQ3pFQTtBQUNBLHdqZkNEQTtBQUNBIiwiZmlsZSI6InZlbmRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBAbGljZW5zZSBGaXJlYmFzZSB2Mi4yLjRcbiAgICBMaWNlbnNlOiBodHRwczovL3d3dy5maXJlYmFzZS5jb20vdGVybXMvdGVybXMtb2Ytc2VydmljZS5odG1sICovXG4oZnVuY3Rpb24oKSB7dmFyIGgsYWE9dGhpcztmdW5jdGlvbiBuKGEpe3JldHVybiB2b2lkIDAhPT1hfWZ1bmN0aW9uIGJhKCl7fWZ1bmN0aW9uIGNhKGEpe2EudWI9ZnVuY3Rpb24oKXtyZXR1cm4gYS50Zj9hLnRmOmEudGY9bmV3IGF9fVxuZnVuY3Rpb24gZGEoYSl7dmFyIGI9dHlwZW9mIGE7aWYoXCJvYmplY3RcIj09YilpZihhKXtpZihhIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuXCJhcnJheVwiO2lmKGEgaW5zdGFuY2VvZiBPYmplY3QpcmV0dXJuIGI7dmFyIGM9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpO2lmKFwiW29iamVjdCBXaW5kb3ddXCI9PWMpcmV0dXJuXCJvYmplY3RcIjtpZihcIltvYmplY3QgQXJyYXldXCI9PWN8fFwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuc3BsaWNlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJzcGxpY2VcIikpcmV0dXJuXCJhcnJheVwiO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIj09Y3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuY2FsbCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucHJvcGVydHlJc0VudW1lcmFibGUmJiFhLnByb3BlcnR5SXNFbnVtZXJhYmxlKFwiY2FsbFwiKSlyZXR1cm5cImZ1bmN0aW9uXCJ9ZWxzZSByZXR1cm5cIm51bGxcIjtcbmVsc2UgaWYoXCJmdW5jdGlvblwiPT1iJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jYWxsKXJldHVyblwib2JqZWN0XCI7cmV0dXJuIGJ9ZnVuY3Rpb24gZWEoYSl7cmV0dXJuXCJhcnJheVwiPT1kYShhKX1mdW5jdGlvbiBmYShhKXt2YXIgYj1kYShhKTtyZXR1cm5cImFycmF5XCI9PWJ8fFwib2JqZWN0XCI9PWImJlwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aH1mdW5jdGlvbiBwKGEpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhfWZ1bmN0aW9uIGdhKGEpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBhfWZ1bmN0aW9uIGhhKGEpe3JldHVyblwiZnVuY3Rpb25cIj09ZGEoYSl9ZnVuY3Rpb24gaWEoYSl7dmFyIGI9dHlwZW9mIGE7cmV0dXJuXCJvYmplY3RcIj09YiYmbnVsbCE9YXx8XCJmdW5jdGlvblwiPT1ifWZ1bmN0aW9uIGphKGEsYixjKXtyZXR1cm4gYS5jYWxsLmFwcGx5KGEuYmluZCxhcmd1bWVudHMpfVxuZnVuY3Rpb24ga2EoYSxiLGMpe2lmKCFhKXRocm93IEVycm9yKCk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShjLGQpO3JldHVybiBhLmFwcGx5KGIsYyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19ZnVuY3Rpb24gcShhLGIsYyl7cT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2phOmthO3JldHVybiBxLmFwcGx5KG51bGwsYXJndW1lbnRzKX12YXIgbGE9RGF0ZS5ub3d8fGZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfTtcbmZ1bmN0aW9uIG1hKGEsYil7ZnVuY3Rpb24gYygpe31jLnByb3RvdHlwZT1iLnByb3RvdHlwZTthLlpnPWIucHJvdG90eXBlO2EucHJvdG90eXBlPW5ldyBjO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWE7YS5WZz1mdW5jdGlvbihhLGMsZil7Zm9yKHZhciBnPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMiksaz0yO2s8YXJndW1lbnRzLmxlbmd0aDtrKyspZ1trLTJdPWFyZ3VtZW50c1trXTtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxnKX19O2Z1bmN0aW9uIHIoYSxiKXtmb3IodmFyIGMgaW4gYSliLmNhbGwodm9pZCAwLGFbY10sYyxhKX1mdW5jdGlvbiBuYShhLGIpe3ZhciBjPXt9LGQ7Zm9yKGQgaW4gYSljW2RdPWIuY2FsbCh2b2lkIDAsYVtkXSxkLGEpO3JldHVybiBjfWZ1bmN0aW9uIG9hKGEsYil7Zm9yKHZhciBjIGluIGEpaWYoIWIuY2FsbCh2b2lkIDAsYVtjXSxjLGEpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHBhKGEpe3ZhciBiPTAsYztmb3IoYyBpbiBhKWIrKztyZXR1cm4gYn1mdW5jdGlvbiBxYShhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4gYn1mdW5jdGlvbiByYShhKXt2YXIgYj1bXSxjPTAsZDtmb3IoZCBpbiBhKWJbYysrXT1hW2RdO3JldHVybiBifWZ1bmN0aW9uIHNhKGEpe3ZhciBiPVtdLGM9MCxkO2ZvcihkIGluIGEpYltjKytdPWQ7cmV0dXJuIGJ9ZnVuY3Rpb24gdGEoYSxiKXtmb3IodmFyIGMgaW4gYSlpZihhW2NdPT1iKXJldHVybiEwO3JldHVybiExfVxuZnVuY3Rpb24gdWEoYSxiLGMpe2Zvcih2YXIgZCBpbiBhKWlmKGIuY2FsbChjLGFbZF0sZCxhKSlyZXR1cm4gZH1mdW5jdGlvbiB2YShhLGIpe3ZhciBjPXVhKGEsYix2b2lkIDApO3JldHVybiBjJiZhW2NdfWZ1bmN0aW9uIHdhKGEpe2Zvcih2YXIgYiBpbiBhKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHhhKGEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gYSliW2NdPWFbY107cmV0dXJuIGJ9dmFyIHlhPVwiY29uc3RydWN0b3IgaGFzT3duUHJvcGVydHkgaXNQcm90b3R5cGVPZiBwcm9wZXJ0eUlzRW51bWVyYWJsZSB0b0xvY2FsZVN0cmluZyB0b1N0cmluZyB2YWx1ZU9mXCIuc3BsaXQoXCIgXCIpO1xuZnVuY3Rpb24gemEoYSxiKXtmb3IodmFyIGMsZCxlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7ZD1hcmd1bWVudHNbZV07Zm9yKGMgaW4gZClhW2NdPWRbY107Zm9yKHZhciBmPTA7Zjx5YS5sZW5ndGg7ZisrKWM9eWFbZl0sT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGQsYykmJihhW2NdPWRbY10pfX07ZnVuY3Rpb24gQWEoYSl7YT1TdHJpbmcoYSk7aWYoL15cXHMqJC8udGVzdChhKT8wOi9eW1xcXSw6e31cXHNcXHUyMDI4XFx1MjAyOV0qJC8udGVzdChhLnJlcGxhY2UoL1xcXFxbXCJcXFxcXFwvYmZucnR1XS9nLFwiQFwiKS5yZXBsYWNlKC9cIlteXCJcXFxcXFxuXFxyXFx1MjAyOFxcdTIwMjlcXHgwMC1cXHgwOFxceDBhLVxceDFmXSpcInx0cnVlfGZhbHNlfG51bGx8LT9cXGQrKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQrKT8vZyxcIl1cIikucmVwbGFjZSgvKD86Xnw6fCwpKD86W1xcc1xcdTIwMjhcXHUyMDI5XSpcXFspKy9nLFwiXCIpKSl0cnl7cmV0dXJuIGV2YWwoXCIoXCIrYStcIilcIil9Y2F0Y2goYil7fXRocm93IEVycm9yKFwiSW52YWxpZCBKU09OIHN0cmluZzogXCIrYSk7fWZ1bmN0aW9uIEJhKCl7dGhpcy5QZD12b2lkIDB9XG5mdW5jdGlvbiBDYShhLGIsYyl7c3dpdGNoKHR5cGVvZiBiKXtjYXNlIFwic3RyaW5nXCI6RGEoYixjKTticmVhaztjYXNlIFwibnVtYmVyXCI6Yy5wdXNoKGlzRmluaXRlKGIpJiYhaXNOYU4oYik/YjpcIm51bGxcIik7YnJlYWs7Y2FzZSBcImJvb2xlYW5cIjpjLnB1c2goYik7YnJlYWs7Y2FzZSBcInVuZGVmaW5lZFwiOmMucHVzaChcIm51bGxcIik7YnJlYWs7Y2FzZSBcIm9iamVjdFwiOmlmKG51bGw9PWIpe2MucHVzaChcIm51bGxcIik7YnJlYWt9aWYoZWEoYikpe3ZhciBkPWIubGVuZ3RoO2MucHVzaChcIltcIik7Zm9yKHZhciBlPVwiXCIsZj0wO2Y8ZDtmKyspYy5wdXNoKGUpLGU9YltmXSxDYShhLGEuUGQ/YS5QZC5jYWxsKGIsU3RyaW5nKGYpLGUpOmUsYyksZT1cIixcIjtjLnB1c2goXCJdXCIpO2JyZWFrfWMucHVzaChcIntcIik7ZD1cIlwiO2ZvcihmIGluIGIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsZikmJihlPWJbZl0sXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmKGMucHVzaChkKSxEYShmLGMpLFxuYy5wdXNoKFwiOlwiKSxDYShhLGEuUGQ/YS5QZC5jYWxsKGIsZixlKTplLGMpLGQ9XCIsXCIpKTtjLnB1c2goXCJ9XCIpO2JyZWFrO2Nhc2UgXCJmdW5jdGlvblwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGU6IFwiK3R5cGVvZiBiKTt9fXZhciBFYT17J1wiJzonXFxcXFwiJyxcIlxcXFxcIjpcIlxcXFxcXFxcXCIsXCIvXCI6XCJcXFxcL1wiLFwiXFxiXCI6XCJcXFxcYlwiLFwiXFxmXCI6XCJcXFxcZlwiLFwiXFxuXCI6XCJcXFxcblwiLFwiXFxyXCI6XCJcXFxcclwiLFwiXFx0XCI6XCJcXFxcdFwiLFwiXFx4MEJcIjpcIlxcXFx1MDAwYlwifSxGYT0vXFx1ZmZmZi8udGVzdChcIlxcdWZmZmZcIik/L1tcXFxcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx1ZmZmZl0vZzovW1xcXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHhmZl0vZztcbmZ1bmN0aW9uIERhKGEsYil7Yi5wdXNoKCdcIicsYS5yZXBsYWNlKEZhLGZ1bmN0aW9uKGEpe2lmKGEgaW4gRWEpcmV0dXJuIEVhW2FdO3ZhciBiPWEuY2hhckNvZGVBdCgwKSxlPVwiXFxcXHVcIjsxNj5iP2UrPVwiMDAwXCI6MjU2PmI/ZSs9XCIwMFwiOjQwOTY+YiYmKGUrPVwiMFwiKTtyZXR1cm4gRWFbYV09ZStiLnRvU3RyaW5nKDE2KX0pLCdcIicpfTtmdW5jdGlvbiBHYSgpe3JldHVybiBNYXRoLmZsb29yKDIxNDc0ODM2NDgqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMzYpK01hdGguYWJzKE1hdGguZmxvb3IoMjE0NzQ4MzY0OCpNYXRoLnJhbmRvbSgpKV5sYSgpKS50b1N0cmluZygzNil9O3ZhciBIYTthOnt2YXIgSWE9YWEubmF2aWdhdG9yO2lmKElhKXt2YXIgSmE9SWEudXNlckFnZW50O2lmKEphKXtIYT1KYTticmVhayBhfX1IYT1cIlwifTtmdW5jdGlvbiBLYSgpe3RoaXMuV2E9LTF9O2Z1bmN0aW9uIExhKCl7dGhpcy5XYT0tMTt0aGlzLldhPTY0O3RoaXMuUj1bXTt0aGlzLmxlPVtdO3RoaXMuVGY9W107dGhpcy5JZD1bXTt0aGlzLklkWzBdPTEyODtmb3IodmFyIGE9MTthPHRoaXMuV2E7KythKXRoaXMuSWRbYV09MDt0aGlzLmJlPXRoaXMuJGI9MDt0aGlzLnJlc2V0KCl9bWEoTGEsS2EpO0xhLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuUlswXT0xNzMyNTg0MTkzO3RoaXMuUlsxXT00MDIzMjMzNDE3O3RoaXMuUlsyXT0yNTYyMzgzMTAyO3RoaXMuUlszXT0yNzE3MzM4Nzg7dGhpcy5SWzRdPTMyODUzNzc1MjA7dGhpcy5iZT10aGlzLiRiPTB9O1xuZnVuY3Rpb24gTWEoYSxiLGMpe2N8fChjPTApO3ZhciBkPWEuVGY7aWYocChiKSlmb3IodmFyIGU9MDsxNj5lO2UrKylkW2VdPWIuY2hhckNvZGVBdChjKTw8MjR8Yi5jaGFyQ29kZUF0KGMrMSk8PDE2fGIuY2hhckNvZGVBdChjKzIpPDw4fGIuY2hhckNvZGVBdChjKzMpLGMrPTQ7ZWxzZSBmb3IoZT0wOzE2PmU7ZSsrKWRbZV09YltjXTw8MjR8YltjKzFdPDwxNnxiW2MrMl08PDh8YltjKzNdLGMrPTQ7Zm9yKGU9MTY7ODA+ZTtlKyspe3ZhciBmPWRbZS0zXV5kW2UtOF1eZFtlLTE0XV5kW2UtMTZdO2RbZV09KGY8PDF8Zj4+PjMxKSY0Mjk0OTY3Mjk1fWI9YS5SWzBdO2M9YS5SWzFdO2Zvcih2YXIgZz1hLlJbMl0saz1hLlJbM10sbD1hLlJbNF0sbSxlPTA7ODA+ZTtlKyspNDA+ZT8yMD5lPyhmPWteYyYoZ15rKSxtPTE1MTg1MDAyNDkpOihmPWNeZ15rLG09MTg1OTc3NTM5Myk6NjA+ZT8oZj1jJmd8ayYoY3xnKSxtPTI0MDA5NTk3MDgpOihmPWNeZ15rLG09MzM5NTQ2OTc4MiksZj0oYjw8XG41fGI+Pj4yNykrZitsK20rZFtlXSY0Mjk0OTY3Mjk1LGw9ayxrPWcsZz0oYzw8MzB8Yz4+PjIpJjQyOTQ5NjcyOTUsYz1iLGI9ZjthLlJbMF09YS5SWzBdK2ImNDI5NDk2NzI5NTthLlJbMV09YS5SWzFdK2MmNDI5NDk2NzI5NTthLlJbMl09YS5SWzJdK2cmNDI5NDk2NzI5NTthLlJbM109YS5SWzNdK2smNDI5NDk2NzI5NTthLlJbNF09YS5SWzRdK2wmNDI5NDk2NzI5NX1cbkxhLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hKXtuKGIpfHwoYj1hLmxlbmd0aCk7Zm9yKHZhciBjPWItdGhpcy5XYSxkPTAsZT10aGlzLmxlLGY9dGhpcy4kYjtkPGI7KXtpZigwPT1mKWZvcig7ZDw9YzspTWEodGhpcyxhLGQpLGQrPXRoaXMuV2E7aWYocChhKSlmb3IoO2Q8Yjspe2lmKGVbZl09YS5jaGFyQ29kZUF0KGQpLCsrZiwrK2QsZj09dGhpcy5XYSl7TWEodGhpcyxlKTtmPTA7YnJlYWt9fWVsc2UgZm9yKDtkPGI7KWlmKGVbZl09YVtkXSwrK2YsKytkLGY9PXRoaXMuV2Epe01hKHRoaXMsZSk7Zj0wO2JyZWFrfX10aGlzLiRiPWY7dGhpcy5iZSs9Yn19O3ZhciB0PUFycmF5LnByb3RvdHlwZSxOYT10LmluZGV4T2Y/ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0LmluZGV4T2YuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtjPW51bGw9PWM/MDowPmM/TWF0aC5tYXgoMCxhLmxlbmd0aCtjKTpjO2lmKHAoYSkpcmV0dXJuIHAoYikmJjE9PWIubGVuZ3RoP2EuaW5kZXhPZihiLGMpOi0xO2Zvcig7YzxhLmxlbmd0aDtjKyspaWYoYyBpbiBhJiZhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sT2E9dC5mb3JFYWNoP2Z1bmN0aW9uKGEsYixjKXt0LmZvckVhY2guY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1wKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKX0sUGE9dC5maWx0ZXI/ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0LmZpbHRlci5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPVtdLGY9MCxnPXAoYSk/XG5hLnNwbGl0KFwiXCIpOmEsaz0wO2s8ZDtrKyspaWYoayBpbiBnKXt2YXIgbD1nW2tdO2IuY2FsbChjLGwsayxhKSYmKGVbZisrXT1sKX1yZXR1cm4gZX0sUWE9dC5tYXA/ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0Lm1hcC5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPUFycmF5KGQpLGY9cChhKT9hLnNwbGl0KFwiXCIpOmEsZz0wO2c8ZDtnKyspZyBpbiBmJiYoZVtnXT1iLmNhbGwoYyxmW2ddLGcsYSkpO3JldHVybiBlfSxSYT10LnJlZHVjZT9mdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU9W10sZj0xLGc9YXJndW1lbnRzLmxlbmd0aDtmPGc7ZisrKWUucHVzaChhcmd1bWVudHNbZl0pO2QmJihlWzBdPXEoYixkKSk7cmV0dXJuIHQucmVkdWNlLmFwcGx5KGEsZSl9OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWM7T2EoYSxmdW5jdGlvbihjLGcpe2U9Yi5jYWxsKGQsZSxjLGcsYSl9KTtyZXR1cm4gZX0sU2E9dC5ldmVyeT9mdW5jdGlvbihhLGIsXG5jKXtyZXR1cm4gdC5ldmVyeS5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPXAoYSk/YS5zcGxpdChcIlwiKTphLGY9MDtmPGQ7ZisrKWlmKGYgaW4gZSYmIWIuY2FsbChjLGVbZl0sZixhKSlyZXR1cm4hMTtyZXR1cm4hMH07ZnVuY3Rpb24gVGEoYSxiKXt2YXIgYz1VYShhLGIsdm9pZCAwKTtyZXR1cm4gMD5jP251bGw6cChhKT9hLmNoYXJBdChjKTphW2NdfWZ1bmN0aW9uIFVhKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1wKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylpZihmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKSlyZXR1cm4gZjtyZXR1cm4tMX1mdW5jdGlvbiBWYShhLGIpe3ZhciBjPU5hKGEsYik7MDw9YyYmdC5zcGxpY2UuY2FsbChhLGMsMSl9ZnVuY3Rpb24gV2EoYSxiLGMpe3JldHVybiAyPj1hcmd1bWVudHMubGVuZ3RoP3Quc2xpY2UuY2FsbChhLGIpOnQuc2xpY2UuY2FsbChhLGIsYyl9XG5mdW5jdGlvbiBYYShhLGIpe2Euc29ydChifHxZYSl9ZnVuY3Rpb24gWWEoYSxiKXtyZXR1cm4gYT5iPzE6YTxiPy0xOjB9O3ZhciBaYT0tMSE9SGEuaW5kZXhPZihcIk9wZXJhXCIpfHwtMSE9SGEuaW5kZXhPZihcIk9QUlwiKSwkYT0tMSE9SGEuaW5kZXhPZihcIlRyaWRlbnRcIil8fC0xIT1IYS5pbmRleE9mKFwiTVNJRVwiKSxhYj0tMSE9SGEuaW5kZXhPZihcIkdlY2tvXCIpJiYtMT09SGEudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwid2Via2l0XCIpJiYhKC0xIT1IYS5pbmRleE9mKFwiVHJpZGVudFwiKXx8LTEhPUhhLmluZGV4T2YoXCJNU0lFXCIpKSxiYj0tMSE9SGEudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwid2Via2l0XCIpO1xuKGZ1bmN0aW9uKCl7dmFyIGE9XCJcIixiO2lmKFphJiZhYS5vcGVyYSlyZXR1cm4gYT1hYS5vcGVyYS52ZXJzaW9uLGhhKGEpP2EoKTphO2FiP2I9L3J2XFw6KFteXFwpO10rKShcXCl8OykvOiRhP2I9L1xcYig/Ok1TSUV8cnYpWzogXShbXlxcKTtdKykoXFwpfDspLzpiYiYmKGI9L1dlYktpdFxcLyhcXFMrKS8pO2ImJihhPShhPWIuZXhlYyhIYSkpP2FbMV06XCJcIik7cmV0dXJuICRhJiYoYj0oYj1hYS5kb2N1bWVudCk/Yi5kb2N1bWVudE1vZGU6dm9pZCAwLGI+cGFyc2VGbG9hdChhKSk/U3RyaW5nKGIpOmF9KSgpO3ZhciBjYj1udWxsLGRiPW51bGwsZWI9bnVsbDtmdW5jdGlvbiBmYihhLGIpe2lmKCFmYShhKSl0aHJvdyBFcnJvcihcImVuY29kZUJ5dGVBcnJheSB0YWtlcyBhbiBhcnJheSBhcyBhIHBhcmFtZXRlclwiKTtnYigpO2Zvcih2YXIgYz1iP2RiOmNiLGQ9W10sZT0wO2U8YS5sZW5ndGg7ZSs9Myl7dmFyIGY9YVtlXSxnPWUrMTxhLmxlbmd0aCxrPWc/YVtlKzFdOjAsbD1lKzI8YS5sZW5ndGgsbT1sP2FbZSsyXTowLHY9Zj4+MixmPShmJjMpPDw0fGs+PjQsaz0oayYxNSk8PDJ8bT4+NixtPW0mNjM7bHx8KG09NjQsZ3x8KGs9NjQpKTtkLnB1c2goY1t2XSxjW2ZdLGNba10sY1ttXSl9cmV0dXJuIGQuam9pbihcIlwiKX1cbmZ1bmN0aW9uIGdiKCl7aWYoIWNiKXtjYj17fTtkYj17fTtlYj17fTtmb3IodmFyIGE9MDs2NT5hO2ErKyljYlthXT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIuY2hhckF0KGEpLGRiW2FdPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktXy5cIi5jaGFyQXQoYSksZWJbZGJbYV1dPWEsNjI8PWEmJihlYltcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIuY2hhckF0KGEpXT1hKX19O2Z1bmN0aW9uIHUoYSxiKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYil9ZnVuY3Rpb24gdyhhLGIpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGIpKXJldHVybiBhW2JdfWZ1bmN0aW9uIGhiKGEsYil7Zm9yKHZhciBjIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYykmJmIoYyxhW2NdKX1mdW5jdGlvbiBpYihhKXt2YXIgYj17fTtoYihhLGZ1bmN0aW9uKGEsZCl7YlthXT1kfSk7cmV0dXJuIGJ9O2Z1bmN0aW9uIGpiKGEpe3ZhciBiPVtdO2hiKGEsZnVuY3Rpb24oYSxkKXtlYShkKT9PYShkLGZ1bmN0aW9uKGQpe2IucHVzaChlbmNvZGVVUklDb21wb25lbnQoYSkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGQpKX0pOmIucHVzaChlbmNvZGVVUklDb21wb25lbnQoYSkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGQpKX0pO3JldHVybiBiLmxlbmd0aD9cIiZcIitiLmpvaW4oXCImXCIpOlwiXCJ9ZnVuY3Rpb24ga2IoYSl7dmFyIGI9e307YT1hLnJlcGxhY2UoL15cXD8vLFwiXCIpLnNwbGl0KFwiJlwiKTtPYShhLGZ1bmN0aW9uKGEpe2EmJihhPWEuc3BsaXQoXCI9XCIpLGJbYVswXV09YVsxXSl9KTtyZXR1cm4gYn07ZnVuY3Rpb24geChhLGIsYyxkKXt2YXIgZTtkPGI/ZT1cImF0IGxlYXN0IFwiK2I6ZD5jJiYoZT0wPT09Yz9cIm5vbmVcIjpcIm5vIG1vcmUgdGhhbiBcIitjKTtpZihlKXRocm93IEVycm9yKGErXCIgZmFpbGVkOiBXYXMgY2FsbGVkIHdpdGggXCIrZCsoMT09PWQ/XCIgYXJndW1lbnQuXCI6XCIgYXJndW1lbnRzLlwiKStcIiBFeHBlY3RzIFwiK2UrXCIuXCIpO31mdW5jdGlvbiB6KGEsYixjKXt2YXIgZD1cIlwiO3N3aXRjaChiKXtjYXNlIDE6ZD1jP1wiZmlyc3RcIjpcIkZpcnN0XCI7YnJlYWs7Y2FzZSAyOmQ9Yz9cInNlY29uZFwiOlwiU2Vjb25kXCI7YnJlYWs7Y2FzZSAzOmQ9Yz9cInRoaXJkXCI6XCJUaGlyZFwiO2JyZWFrO2Nhc2UgNDpkPWM/XCJmb3VydGhcIjpcIkZvdXJ0aFwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJlcnJvclByZWZpeCBjYWxsZWQgd2l0aCBhcmd1bWVudE51bWJlciA+IDQuICBOZWVkIHRvIHVwZGF0ZSBpdD9cIik7fXJldHVybiBhPWErXCIgZmFpbGVkOiBcIisoZCtcIiBhcmd1bWVudCBcIil9XG5mdW5jdGlvbiBBKGEsYixjLGQpe2lmKCghZHx8bihjKSkmJiFoYShjKSl0aHJvdyBFcnJvcih6KGEsYixkKStcIm11c3QgYmUgYSB2YWxpZCBmdW5jdGlvbi5cIik7fWZ1bmN0aW9uIGxiKGEsYixjKXtpZihuKGMpJiYoIWlhKGMpfHxudWxsPT09YykpdGhyb3cgRXJyb3IoeihhLGIsITApK1wibXVzdCBiZSBhIHZhbGlkIGNvbnRleHQgb2JqZWN0LlwiKTt9O2Z1bmN0aW9uIG1iKGEpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgSlNPTiYmbihKU09OLnBhcnNlKT9KU09OLnBhcnNlKGEpOkFhKGEpfWZ1bmN0aW9uIEIoYSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBKU09OJiZuKEpTT04uc3RyaW5naWZ5KSlhPUpTT04uc3RyaW5naWZ5KGEpO2Vsc2V7dmFyIGI9W107Q2EobmV3IEJhLGEsYik7YT1iLmpvaW4oXCJcIil9cmV0dXJuIGF9O2Z1bmN0aW9uIG5iKCl7dGhpcy5TZD1DfW5iLnByb3RvdHlwZS5qPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLlNkLm9hKGEpfTtuYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5TZC50b1N0cmluZygpfTtmdW5jdGlvbiBvYigpe31vYi5wcm90b3R5cGUucGY9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07b2IucHJvdG90eXBlLnhlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O3ZhciBwYj1uZXcgb2I7ZnVuY3Rpb24gcWIoYSxiLGMpe3RoaXMuUWY9YTt0aGlzLkthPWI7dGhpcy5IZD1jfXFiLnByb3RvdHlwZS5wZj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLkthLkQ7aWYocmIoYixhKSlyZXR1cm4gYi5qKCkuTShhKTtiPW51bGwhPXRoaXMuSGQ/bmV3IHNiKHRoaXMuSGQsITAsITEpOnRoaXMuS2EudSgpO3JldHVybiB0aGlzLlFmLlhhKGEsYil9O3FiLnByb3RvdHlwZS54ZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9bnVsbCE9dGhpcy5IZD90aGlzLkhkOnRiKHRoaXMuS2EpO2E9dGhpcy5RZi5tZShkLGIsMSxjLGEpO3JldHVybiAwPT09YS5sZW5ndGg/bnVsbDphWzBdfTtmdW5jdGlvbiB1Yigpe3RoaXMudGI9W119ZnVuY3Rpb24gdmIoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0sZj1lLlliKCk7bnVsbD09PWN8fGYuWihjLlliKCkpfHwoYS50Yi5wdXNoKGMpLGM9bnVsbCk7bnVsbD09PWMmJihjPW5ldyB3YihmKSk7Yy5hZGQoZSl9YyYmYS50Yi5wdXNoKGMpfWZ1bmN0aW9uIHhiKGEsYixjKXt2YihhLGMpO3liKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEuWihiKX0pfWZ1bmN0aW9uIHpiKGEsYixjKXt2YihhLGMpO3liKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGFpbnMoYil8fGIuY29udGFpbnMoYSl9KX1cbmZ1bmN0aW9uIHliKGEsYil7Zm9yKHZhciBjPSEwLGQ9MDtkPGEudGIubGVuZ3RoO2QrKyl7dmFyIGU9YS50YltkXTtpZihlKWlmKGU9ZS5ZYigpLGIoZSkpe2Zvcih2YXIgZT1hLnRiW2RdLGY9MDtmPGUuc2QubGVuZ3RoO2YrKyl7dmFyIGc9ZS5zZFtmXTtpZihudWxsIT09Zyl7ZS5zZFtmXT1udWxsO3ZhciBrPWcuVWIoKTtBYiYmQmIoXCJldmVudDogXCIrZy50b1N0cmluZygpKTtDYihrKX19YS50YltkXT1udWxsfWVsc2UgYz0hMX1jJiYoYS50Yj1bXSl9ZnVuY3Rpb24gd2IoYSl7dGhpcy5xYT1hO3RoaXMuc2Q9W119d2IucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhKXt0aGlzLnNkLnB1c2goYSl9O3diLnByb3RvdHlwZS5ZYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnFhfTtmdW5jdGlvbiBEKGEsYixjLGQpe3RoaXMudHlwZT1hO3RoaXMuSmE9Yjt0aGlzLllhPWM7dGhpcy5KZT1kO3RoaXMuTmQ9dm9pZCAwfWZ1bmN0aW9uIERiKGEpe3JldHVybiBuZXcgRChFYixhKX12YXIgRWI9XCJ2YWx1ZVwiO2Z1bmN0aW9uIEZiKGEsYixjLGQpe3RoaXMudGU9Yjt0aGlzLldkPWM7dGhpcy5OZD1kO3RoaXMucmQ9YX1GYi5wcm90b3R5cGUuWWI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLldkLmxjKCk7cmV0dXJuXCJ2YWx1ZVwiPT09dGhpcy5yZD9hLnBhdGg6YS5wYXJlbnQoKS5wYXRofTtGYi5wcm90b3R5cGUueWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZH07RmIucHJvdG90eXBlLlViPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGUuVWIodGhpcyl9O0ZiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlliKCkudG9TdHJpbmcoKStcIjpcIit0aGlzLnJkK1wiOlwiK0IodGhpcy5XZC5sZigpKX07ZnVuY3Rpb24gR2IoYSxiLGMpe3RoaXMudGU9YTt0aGlzLmVycm9yPWI7dGhpcy5wYXRoPWN9R2IucHJvdG90eXBlLlliPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aH07R2IucHJvdG90eXBlLnllPWZ1bmN0aW9uKCl7cmV0dXJuXCJjYW5jZWxcIn07XG5HYi5wcm90b3R5cGUuVWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZS5VYih0aGlzKX07R2IucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aC50b1N0cmluZygpK1wiOmNhbmNlbFwifTtmdW5jdGlvbiBzYihhLGIsYyl7dGhpcy5CPWE7dGhpcy4kPWI7dGhpcy5UYj1jfWZ1bmN0aW9uIEhiKGEpe3JldHVybiBhLiR9ZnVuY3Rpb24gcmIoYSxiKXtyZXR1cm4gYS4kJiYhYS5UYnx8YS5CLkhhKGIpfXNiLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQn07ZnVuY3Rpb24gSWIoYSl7dGhpcy5kZz1hO3RoaXMuQWQ9bnVsbH1JYi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kZy5nZXQoKSxiPXhhKGEpO2lmKHRoaXMuQWQpZm9yKHZhciBjIGluIHRoaXMuQWQpYltjXS09dGhpcy5BZFtjXTt0aGlzLkFkPWE7cmV0dXJuIGJ9O2Z1bmN0aW9uIEpiKGEsYil7dGhpcy5NZj17fTt0aGlzLllkPW5ldyBJYihhKTt0aGlzLmNhPWI7dmFyIGM9MUU0KzJFNCpNYXRoLnJhbmRvbSgpO3NldFRpbWVvdXQocSh0aGlzLkhmLHRoaXMpLE1hdGguZmxvb3IoYykpfUpiLnByb3RvdHlwZS5IZj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuWWQuZ2V0KCksYj17fSxjPSExLGQ7Zm9yKGQgaW4gYSkwPGFbZF0mJnUodGhpcy5NZixkKSYmKGJbZF09YVtkXSxjPSEwKTtjJiZ0aGlzLmNhLlRlKGIpO3NldFRpbWVvdXQocSh0aGlzLkhmLHRoaXMpLE1hdGguZmxvb3IoNkU1Kk1hdGgucmFuZG9tKCkpKX07ZnVuY3Rpb24gS2IoKXt0aGlzLkRjPXt9fWZ1bmN0aW9uIExiKGEsYixjKXtuKGMpfHwoYz0xKTt1KGEuRGMsYil8fChhLkRjW2JdPTApO2EuRGNbYl0rPWN9S2IucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiB4YSh0aGlzLkRjKX07dmFyIE1iPXt9LE5iPXt9O2Z1bmN0aW9uIE9iKGEpe2E9YS50b1N0cmluZygpO01iW2FdfHwoTWJbYV09bmV3IEtiKTtyZXR1cm4gTWJbYV19ZnVuY3Rpb24gUGIoYSxiKXt2YXIgYz1hLnRvU3RyaW5nKCk7TmJbY118fChOYltjXT1iKCkpO3JldHVybiBOYltjXX07ZnVuY3Rpb24gRShhLGIpe3RoaXMubmFtZT1hO3RoaXMuUz1ifWZ1bmN0aW9uIFFiKGEsYil7cmV0dXJuIG5ldyBFKGEsYil9O2Z1bmN0aW9uIFJiKGEsYil7cmV0dXJuIFNiKGEubmFtZSxiLm5hbWUpfWZ1bmN0aW9uIFRiKGEsYil7cmV0dXJuIFNiKGEsYil9O2Z1bmN0aW9uIFViKGEsYixjKXt0aGlzLnR5cGU9VmI7dGhpcy5zb3VyY2U9YTt0aGlzLnBhdGg9Yjt0aGlzLklhPWN9VWIucHJvdG90eXBlLldjPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnBhdGguZSgpP25ldyBVYih0aGlzLnNvdXJjZSxGLHRoaXMuSWEuTShhKSk6bmV3IFViKHRoaXMuc291cmNlLEcodGhpcy5wYXRoKSx0aGlzLklhKX07VWIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJPcGVyYXRpb24oXCIrdGhpcy5wYXRoK1wiOiBcIit0aGlzLnNvdXJjZS50b1N0cmluZygpK1wiIG92ZXJ3cml0ZTogXCIrdGhpcy5JYS50b1N0cmluZygpK1wiKVwifTtmdW5jdGlvbiBXYihhLGIpe3RoaXMudHlwZT1YYjt0aGlzLnNvdXJjZT1ZYjt0aGlzLnBhdGg9YTt0aGlzLlZlPWJ9V2IucHJvdG90eXBlLldjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aC5lKCk/dGhpczpuZXcgV2IoRyh0aGlzLnBhdGgpLHRoaXMuVmUpfTtXYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk9wZXJhdGlvbihcIit0aGlzLnBhdGgrXCI6IFwiK3RoaXMuc291cmNlLnRvU3RyaW5nKCkrXCIgYWNrIHdyaXRlIHJldmVydD1cIit0aGlzLlZlK1wiKVwifTtmdW5jdGlvbiBaYihhLGIpe3RoaXMudHlwZT0kYjt0aGlzLnNvdXJjZT1hO3RoaXMucGF0aD1ifVpiLnByb3RvdHlwZS5XYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGguZSgpP25ldyBaYih0aGlzLnNvdXJjZSxGKTpuZXcgWmIodGhpcy5zb3VyY2UsRyh0aGlzLnBhdGgpKX07WmIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJPcGVyYXRpb24oXCIrdGhpcy5wYXRoK1wiOiBcIit0aGlzLnNvdXJjZS50b1N0cmluZygpK1wiIGxpc3Rlbl9jb21wbGV0ZSlcIn07ZnVuY3Rpb24gYWMoYSxiKXt0aGlzLkxhPWE7dGhpcy54YT1iP2I6YmN9aD1hYy5wcm90b3R5cGU7aC5OYT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgYWModGhpcy5MYSx0aGlzLnhhLk5hKGEsYix0aGlzLkxhKS5YKG51bGwsbnVsbCwhMSxudWxsLG51bGwpKX07aC5yZW1vdmU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBhYyh0aGlzLkxhLHRoaXMueGEucmVtb3ZlKGEsdGhpcy5MYSkuWChudWxsLG51bGwsITEsbnVsbCxudWxsKSl9O2guZ2V0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPXRoaXMueGE7IWMuZSgpOyl7Yj10aGlzLkxhKGEsYy5rZXkpO2lmKDA9PT1iKXJldHVybiBjLnZhbHVlOzA+Yj9jPWMubGVmdDowPGImJihjPWMucmlnaHQpfXJldHVybiBudWxsfTtcbmZ1bmN0aW9uIGNjKGEsYil7Zm9yKHZhciBjLGQ9YS54YSxlPW51bGw7IWQuZSgpOyl7Yz1hLkxhKGIsZC5rZXkpO2lmKDA9PT1jKXtpZihkLmxlZnQuZSgpKXJldHVybiBlP2Uua2V5Om51bGw7Zm9yKGQ9ZC5sZWZ0OyFkLnJpZ2h0LmUoKTspZD1kLnJpZ2h0O3JldHVybiBkLmtleX0wPmM/ZD1kLmxlZnQ6MDxjJiYoZT1kLGQ9ZC5yaWdodCl9dGhyb3cgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gZmluZCBwcmVkZWNlc3NvciBrZXkgZm9yIGEgbm9uZXhpc3RlbnQga2V5LiAgV2hhdCBnaXZlcz9cIik7fWguZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhhLmUoKX07aC5jb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhhLmNvdW50KCl9O2guUmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54YS5SYygpfTtoLmVjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueGEuZWMoKX07aC5oYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy54YS5oYShhKX07XG5oLldiPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgZGModGhpcy54YSxudWxsLHRoaXMuTGEsITEsYSl9O2guWGI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IGRjKHRoaXMueGEsYSx0aGlzLkxhLCExLGIpfTtoLlpiPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBkYyh0aGlzLnhhLGEsdGhpcy5MYSwhMCxiKX07aC5yZj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IGRjKHRoaXMueGEsbnVsbCx0aGlzLkxhLCEwLGEpfTtmdW5jdGlvbiBkYyhhLGIsYyxkLGUpe3RoaXMuUmQ9ZXx8bnVsbDt0aGlzLkVlPWQ7dGhpcy5QYT1bXTtmb3IoZT0xOyFhLmUoKTspaWYoZT1iP2MoYS5rZXksYik6MSxkJiYoZSo9LTEpLDA+ZSlhPXRoaXMuRWU/YS5sZWZ0OmEucmlnaHQ7ZWxzZSBpZigwPT09ZSl7dGhpcy5QYS5wdXNoKGEpO2JyZWFrfWVsc2UgdGhpcy5QYS5wdXNoKGEpLGE9dGhpcy5FZT9hLnJpZ2h0OmEubGVmdH1cbmZ1bmN0aW9uIEgoYSl7aWYoMD09PWEuUGEubGVuZ3RoKXJldHVybiBudWxsO3ZhciBiPWEuUGEucG9wKCksYztjPWEuUmQ/YS5SZChiLmtleSxiLnZhbHVlKTp7a2V5OmIua2V5LHZhbHVlOmIudmFsdWV9O2lmKGEuRWUpZm9yKGI9Yi5sZWZ0OyFiLmUoKTspYS5QYS5wdXNoKGIpLGI9Yi5yaWdodDtlbHNlIGZvcihiPWIucmlnaHQ7IWIuZSgpOylhLlBhLnB1c2goYiksYj1iLmxlZnQ7cmV0dXJuIGN9ZnVuY3Rpb24gZWMoYSl7aWYoMD09PWEuUGEubGVuZ3RoKXJldHVybiBudWxsO3ZhciBiO2I9YS5QYTtiPWJbYi5sZW5ndGgtMV07cmV0dXJuIGEuUmQ/YS5SZChiLmtleSxiLnZhbHVlKTp7a2V5OmIua2V5LHZhbHVlOmIudmFsdWV9fWZ1bmN0aW9uIGZjKGEsYixjLGQsZSl7dGhpcy5rZXk9YTt0aGlzLnZhbHVlPWI7dGhpcy5jb2xvcj1udWxsIT1jP2M6ITA7dGhpcy5sZWZ0PW51bGwhPWQ/ZDpiYzt0aGlzLnJpZ2h0PW51bGwhPWU/ZTpiY31oPWZjLnByb3RvdHlwZTtcbmguWD1mdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBuZXcgZmMobnVsbCE9YT9hOnRoaXMua2V5LG51bGwhPWI/Yjp0aGlzLnZhbHVlLG51bGwhPWM/Yzp0aGlzLmNvbG9yLG51bGwhPWQ/ZDp0aGlzLmxlZnQsbnVsbCE9ZT9lOnRoaXMucmlnaHQpfTtoLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVmdC5jb3VudCgpKzErdGhpcy5yaWdodC5jb3VudCgpfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aC5oYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5sZWZ0LmhhKGEpfHxhKHRoaXMua2V5LHRoaXMudmFsdWUpfHx0aGlzLnJpZ2h0LmhhKGEpfTtmdW5jdGlvbiBnYyhhKXtyZXR1cm4gYS5sZWZ0LmUoKT9hOmdjKGEubGVmdCl9aC5SYz1mdW5jdGlvbigpe3JldHVybiBnYyh0aGlzKS5rZXl9O2guZWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yaWdodC5lKCk/dGhpcy5rZXk6dGhpcy5yaWdodC5lYygpfTtcbmguTmE9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7ZT10aGlzO2Q9YyhhLGUua2V5KTtlPTA+ZD9lLlgobnVsbCxudWxsLG51bGwsZS5sZWZ0Lk5hKGEsYixjKSxudWxsKTowPT09ZD9lLlgobnVsbCxiLG51bGwsbnVsbCxudWxsKTplLlgobnVsbCxudWxsLG51bGwsbnVsbCxlLnJpZ2h0Lk5hKGEsYixjKSk7cmV0dXJuIGhjKGUpfTtmdW5jdGlvbiBpYyhhKXtpZihhLmxlZnQuZSgpKXJldHVybiBiYzthLmxlZnQuZmEoKXx8YS5sZWZ0LmxlZnQuZmEoKXx8KGE9amMoYSkpO2E9YS5YKG51bGwsbnVsbCxudWxsLGljKGEubGVmdCksbnVsbCk7cmV0dXJuIGhjKGEpfVxuaC5yZW1vdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2M9dGhpcztpZigwPmIoYSxjLmtleSkpYy5sZWZ0LmUoKXx8Yy5sZWZ0LmZhKCl8fGMubGVmdC5sZWZ0LmZhKCl8fChjPWpjKGMpKSxjPWMuWChudWxsLG51bGwsbnVsbCxjLmxlZnQucmVtb3ZlKGEsYiksbnVsbCk7ZWxzZXtjLmxlZnQuZmEoKSYmKGM9a2MoYykpO2MucmlnaHQuZSgpfHxjLnJpZ2h0LmZhKCl8fGMucmlnaHQubGVmdC5mYSgpfHwoYz1sYyhjKSxjLmxlZnQubGVmdC5mYSgpJiYoYz1rYyhjKSxjPWxjKGMpKSk7aWYoMD09PWIoYSxjLmtleSkpe2lmKGMucmlnaHQuZSgpKXJldHVybiBiYztkPWdjKGMucmlnaHQpO2M9Yy5YKGQua2V5LGQudmFsdWUsbnVsbCxudWxsLGljKGMucmlnaHQpKX1jPWMuWChudWxsLG51bGwsbnVsbCxudWxsLGMucmlnaHQucmVtb3ZlKGEsYikpfXJldHVybiBoYyhjKX07aC5mYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbG9yfTtcbmZ1bmN0aW9uIGhjKGEpe2EucmlnaHQuZmEoKSYmIWEubGVmdC5mYSgpJiYoYT1tYyhhKSk7YS5sZWZ0LmZhKCkmJmEubGVmdC5sZWZ0LmZhKCkmJihhPWtjKGEpKTthLmxlZnQuZmEoKSYmYS5yaWdodC5mYSgpJiYoYT1sYyhhKSk7cmV0dXJuIGF9ZnVuY3Rpb24gamMoYSl7YT1sYyhhKTthLnJpZ2h0LmxlZnQuZmEoKSYmKGE9YS5YKG51bGwsbnVsbCxudWxsLG51bGwsa2MoYS5yaWdodCkpLGE9bWMoYSksYT1sYyhhKSk7cmV0dXJuIGF9ZnVuY3Rpb24gbWMoYSl7cmV0dXJuIGEucmlnaHQuWChudWxsLG51bGwsYS5jb2xvcixhLlgobnVsbCxudWxsLCEwLG51bGwsYS5yaWdodC5sZWZ0KSxudWxsKX1mdW5jdGlvbiBrYyhhKXtyZXR1cm4gYS5sZWZ0LlgobnVsbCxudWxsLGEuY29sb3IsbnVsbCxhLlgobnVsbCxudWxsLCEwLGEubGVmdC5yaWdodCxudWxsKSl9XG5mdW5jdGlvbiBsYyhhKXtyZXR1cm4gYS5YKG51bGwsbnVsbCwhYS5jb2xvcixhLmxlZnQuWChudWxsLG51bGwsIWEubGVmdC5jb2xvcixudWxsLG51bGwpLGEucmlnaHQuWChudWxsLG51bGwsIWEucmlnaHQuY29sb3IsbnVsbCxudWxsKSl9ZnVuY3Rpb24gbmMoKXt9aD1uYy5wcm90b3R5cGU7aC5YPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2guTmE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IGZjKGEsYixudWxsKX07aC5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307aC5jb3VudD1mdW5jdGlvbigpe3JldHVybiAwfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07aC5oYT1mdW5jdGlvbigpe3JldHVybiExfTtoLlJjPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O2guZWM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07aC5mYT1mdW5jdGlvbigpe3JldHVybiExfTt2YXIgYmM9bmV3IG5jO2Z1bmN0aW9uIG9jKGEsYil7cmV0dXJuIGEmJlwib2JqZWN0XCI9PT10eXBlb2YgYT8oSihcIi5zdlwiaW4gYSxcIlVuZXhwZWN0ZWQgbGVhZiBub2RlIG9yIHByaW9yaXR5IGNvbnRlbnRzXCIpLGJbYVtcIi5zdlwiXV0pOmF9ZnVuY3Rpb24gcGMoYSxiKXt2YXIgYz1uZXcgcWM7cmMoYSxuZXcgSyhcIlwiKSxmdW5jdGlvbihhLGUpe2MubWMoYSxzYyhlLGIpKX0pO3JldHVybiBjfWZ1bmN0aW9uIHNjKGEsYil7dmFyIGM9YS5BKCkuSygpLGM9b2MoYyxiKSxkO2lmKGEuTigpKXt2YXIgZT1vYyhhLkJhKCksYik7cmV0dXJuIGUhPT1hLkJhKCl8fGMhPT1hLkEoKS5LKCk/bmV3IHRjKGUsTChjKSk6YX1kPWE7YyE9PWEuQSgpLksoKSYmKGQ9ZC5kYShuZXcgdGMoYykpKTthLlUoTSxmdW5jdGlvbihhLGMpe3ZhciBlPXNjKGMsYik7ZSE9PWMmJihkPWQuUShhLGUpKX0pO3JldHVybiBkfTtmdW5jdGlvbiBLKGEsYil7aWYoMT09YXJndW1lbnRzLmxlbmd0aCl7dGhpcy5vPWEuc3BsaXQoXCIvXCIpO2Zvcih2YXIgYz0wLGQ9MDtkPHRoaXMuby5sZW5ndGg7ZCsrKTA8dGhpcy5vW2RdLmxlbmd0aCYmKHRoaXMub1tjXT10aGlzLm9bZF0sYysrKTt0aGlzLm8ubGVuZ3RoPWM7dGhpcy5ZPTB9ZWxzZSB0aGlzLm89YSx0aGlzLlk9Yn1mdW5jdGlvbiBOKGEsYil7dmFyIGM9TyhhKTtpZihudWxsPT09YylyZXR1cm4gYjtpZihjPT09TyhiKSlyZXR1cm4gTihHKGEpLEcoYikpO3Rocm93IEVycm9yKFwiSU5URVJOQUwgRVJST1I6IGlubmVyUGF0aCAoXCIrYitcIikgaXMgbm90IHdpdGhpbiBvdXRlclBhdGggKFwiK2ErXCIpXCIpO31mdW5jdGlvbiBPKGEpe3JldHVybiBhLlk+PWEuby5sZW5ndGg/bnVsbDphLm9bYS5ZXX1mdW5jdGlvbiB1YyhhKXtyZXR1cm4gYS5vLmxlbmd0aC1hLll9XG5mdW5jdGlvbiBHKGEpe3ZhciBiPWEuWTtiPGEuby5sZW5ndGgmJmIrKztyZXR1cm4gbmV3IEsoYS5vLGIpfWZ1bmN0aW9uIHZjKGEpe3JldHVybiBhLlk8YS5vLmxlbmd0aD9hLm9bYS5vLmxlbmd0aC0xXTpudWxsfWg9Sy5wcm90b3R5cGU7aC50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgYT1cIlwiLGI9dGhpcy5ZO2I8dGhpcy5vLmxlbmd0aDtiKyspXCJcIiE9PXRoaXMub1tiXSYmKGErPVwiL1wiK3RoaXMub1tiXSk7cmV0dXJuIGF8fFwiL1wifTtoLnNsaWNlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm8uc2xpY2UodGhpcy5ZKyhhfHwwKSl9O2gucGFyZW50PWZ1bmN0aW9uKCl7aWYodGhpcy5ZPj10aGlzLm8ubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgYT1bXSxiPXRoaXMuWTtiPHRoaXMuby5sZW5ndGgtMTtiKyspYS5wdXNoKHRoaXMub1tiXSk7cmV0dXJuIG5ldyBLKGEsMCl9O1xuaC53PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPXRoaXMuWTtjPHRoaXMuby5sZW5ndGg7YysrKWIucHVzaCh0aGlzLm9bY10pO2lmKGEgaW5zdGFuY2VvZiBLKWZvcihjPWEuWTtjPGEuby5sZW5ndGg7YysrKWIucHVzaChhLm9bY10pO2Vsc2UgZm9yKGE9YS5zcGxpdChcIi9cIiksYz0wO2M8YS5sZW5ndGg7YysrKTA8YVtjXS5sZW5ndGgmJmIucHVzaChhW2NdKTtyZXR1cm4gbmV3IEsoYiwwKX07aC5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWT49dGhpcy5vLmxlbmd0aH07aC5aPWZ1bmN0aW9uKGEpe2lmKHVjKHRoaXMpIT09dWMoYSkpcmV0dXJuITE7Zm9yKHZhciBiPXRoaXMuWSxjPWEuWTtiPD10aGlzLm8ubGVuZ3RoO2IrKyxjKyspaWYodGhpcy5vW2JdIT09YS5vW2NdKXJldHVybiExO3JldHVybiEwfTtcbmguY29udGFpbnM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ZLGM9YS5ZO2lmKHVjKHRoaXMpPnVjKGEpKXJldHVybiExO2Zvcig7Yjx0aGlzLm8ubGVuZ3RoOyl7aWYodGhpcy5vW2JdIT09YS5vW2NdKXJldHVybiExOysrYjsrK2N9cmV0dXJuITB9O3ZhciBGPW5ldyBLKFwiXCIpO2Z1bmN0aW9uIHdjKGEsYil7dGhpcy5RYT1hLnNsaWNlKCk7dGhpcy5FYT1NYXRoLm1heCgxLHRoaXMuUWEubGVuZ3RoKTt0aGlzLmtmPWI7Zm9yKHZhciBjPTA7Yzx0aGlzLlFhLmxlbmd0aDtjKyspdGhpcy5FYSs9eGModGhpcy5RYVtjXSk7eWModGhpcyl9d2MucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oYSl7MDx0aGlzLlFhLmxlbmd0aCYmKHRoaXMuRWErPTEpO3RoaXMuUWEucHVzaChhKTt0aGlzLkVhKz14YyhhKTt5Yyh0aGlzKX07d2MucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuUWEucG9wKCk7dGhpcy5FYS09eGMoYSk7MDx0aGlzLlFhLmxlbmd0aCYmLS10aGlzLkVhfTtcbmZ1bmN0aW9uIHljKGEpe2lmKDc2ODxhLkVhKXRocm93IEVycm9yKGEua2YrXCJoYXMgYSBrZXkgcGF0aCBsb25nZXIgdGhhbiA3NjggYnl0ZXMgKFwiK2EuRWErXCIpLlwiKTtpZigzMjxhLlFhLmxlbmd0aCl0aHJvdyBFcnJvcihhLmtmK1wicGF0aCBzcGVjaWZpZWQgZXhjZWVkcyB0aGUgbWF4aW11bSBkZXB0aCB0aGF0IGNhbiBiZSB3cml0dGVuICgzMikgb3Igb2JqZWN0IGNvbnRhaW5zIGEgY3ljbGUgXCIremMoYSkpO31mdW5jdGlvbiB6YyhhKXtyZXR1cm4gMD09YS5RYS5sZW5ndGg/XCJcIjpcImluIHByb3BlcnR5ICdcIithLlFhLmpvaW4oXCIuXCIpK1wiJ1wifTtmdW5jdGlvbiBBYygpe3RoaXMud2M9e319QWMucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe251bGw9PWI/ZGVsZXRlIHRoaXMud2NbYV06dGhpcy53Y1thXT1ifTtBYy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB1KHRoaXMud2MsYSk/dGhpcy53Y1thXTpudWxsfTtBYy5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLndjW2FdfTtBYy5wcm90b3R5cGUudWY9ITA7ZnVuY3Rpb24gQmMoYSl7dGhpcy5FYz1hO3RoaXMuTWQ9XCJmaXJlYmFzZTpcIn1oPUJjLnByb3RvdHlwZTtoLnNldD1mdW5jdGlvbihhLGIpe251bGw9PWI/dGhpcy5FYy5yZW1vdmVJdGVtKHRoaXMuTWQrYSk6dGhpcy5FYy5zZXRJdGVtKHRoaXMuTWQrYSxCKGIpKX07aC5nZXQ9ZnVuY3Rpb24oYSl7YT10aGlzLkVjLmdldEl0ZW0odGhpcy5NZCthKTtyZXR1cm4gbnVsbD09YT9udWxsOm1iKGEpfTtoLnJlbW92ZT1mdW5jdGlvbihhKXt0aGlzLkVjLnJlbW92ZUl0ZW0odGhpcy5NZCthKX07aC51Zj0hMTtoLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRWMudG9TdHJpbmcoKX07ZnVuY3Rpb24gQ2MoYSl7dHJ5e2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvd1thXSl7dmFyIGI9d2luZG93W2FdO2Iuc2V0SXRlbShcImZpcmViYXNlOnNlbnRpbmVsXCIsXCJjYWNoZVwiKTtiLnJlbW92ZUl0ZW0oXCJmaXJlYmFzZTpzZW50aW5lbFwiKTtyZXR1cm4gbmV3IEJjKGIpfX1jYXRjaChjKXt9cmV0dXJuIG5ldyBBY312YXIgRGM9Q2MoXCJsb2NhbFN0b3JhZ2VcIiksUD1DYyhcInNlc3Npb25TdG9yYWdlXCIpO2Z1bmN0aW9uIEVjKGEsYixjLGQsZSl7dGhpcy5ob3N0PWEudG9Mb3dlckNhc2UoKTt0aGlzLmRvbWFpbj10aGlzLmhvc3Quc3Vic3RyKHRoaXMuaG9zdC5pbmRleE9mKFwiLlwiKSsxKTt0aGlzLmxiPWI7dGhpcy5DYj1jO3RoaXMuVGc9ZDt0aGlzLkxkPWV8fFwiXCI7dGhpcy5PYT1EYy5nZXQoXCJob3N0OlwiK2EpfHx0aGlzLmhvc3R9ZnVuY3Rpb24gRmMoYSxiKXtiIT09YS5PYSYmKGEuT2E9YixcInMtXCI9PT1hLk9hLnN1YnN0cigwLDIpJiZEYy5zZXQoXCJob3N0OlwiK2EuaG9zdCxhLk9hKSl9RWMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9KHRoaXMubGI/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSt0aGlzLmhvc3Q7dGhpcy5MZCYmKGErPVwiPFwiK3RoaXMuTGQrXCI+XCIpO3JldHVybiBhfTt2YXIgR2M9ZnVuY3Rpb24oKXt2YXIgYT0xO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhKyt9fSgpO2Z1bmN0aW9uIEooYSxiKXtpZighYSl0aHJvdyBIYyhiKTt9ZnVuY3Rpb24gSGMoYSl7cmV0dXJuIEVycm9yKFwiRmlyZWJhc2UgKDIuMi40KSBJTlRFUk5BTCBBU1NFUlQgRkFJTEVEOiBcIithKX1cbmZ1bmN0aW9uIEljKGEpe3RyeXt2YXIgYjtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGF0b2IpYj1hdG9iKGEpO2Vsc2V7Z2IoKTtmb3IodmFyIGM9ZWIsZD1bXSxlPTA7ZTxhLmxlbmd0aDspe3ZhciBmPWNbYS5jaGFyQXQoZSsrKV0sZz1lPGEubGVuZ3RoP2NbYS5jaGFyQXQoZSldOjA7KytlO3ZhciBrPWU8YS5sZW5ndGg/Y1thLmNoYXJBdChlKV06NjQ7KytlO3ZhciBsPWU8YS5sZW5ndGg/Y1thLmNoYXJBdChlKV06NjQ7KytlO2lmKG51bGw9PWZ8fG51bGw9PWd8fG51bGw9PWt8fG51bGw9PWwpdGhyb3cgRXJyb3IoKTtkLnB1c2goZjw8MnxnPj40KTs2NCE9ayYmKGQucHVzaChnPDw0JjI0MHxrPj4yKSw2NCE9bCYmZC5wdXNoKGs8PDYmMTkyfGwpKX1pZig4MTkyPmQubGVuZ3RoKWI9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGQpO2Vsc2V7YT1cIlwiO2ZvcihjPTA7YzxkLmxlbmd0aDtjKz04MTkyKWErPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxXYShkLGMsXG5jKzgxOTIpKTtiPWF9fXJldHVybiBifWNhdGNoKG0pe0JiKFwiYmFzZTY0RGVjb2RlIGZhaWxlZDogXCIsbSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gSmMoYSl7dmFyIGI9S2MoYSk7YT1uZXcgTGE7YS51cGRhdGUoYik7dmFyIGI9W10sYz04KmEuYmU7NTY+YS4kYj9hLnVwZGF0ZShhLklkLDU2LWEuJGIpOmEudXBkYXRlKGEuSWQsYS5XYS0oYS4kYi01NikpO2Zvcih2YXIgZD1hLldhLTE7NTY8PWQ7ZC0tKWEubGVbZF09YyYyNTUsYy89MjU2O01hKGEsYS5sZSk7Zm9yKGQ9Yz0wOzU+ZDtkKyspZm9yKHZhciBlPTI0OzA8PWU7ZS09OCliW2NdPWEuUltkXT4+ZSYyNTUsKytjO3JldHVybiBmYihiKX1cbmZ1bmN0aW9uIExjKGEpe2Zvcih2YXIgYj1cIlwiLGM9MDtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWI9ZmEoYXJndW1lbnRzW2NdKT9iK0xjLmFwcGx5KG51bGwsYXJndW1lbnRzW2NdKTpcIm9iamVjdFwiPT09dHlwZW9mIGFyZ3VtZW50c1tjXT9iK0IoYXJndW1lbnRzW2NdKTpiK2FyZ3VtZW50c1tjXSxiKz1cIiBcIjtyZXR1cm4gYn12YXIgQWI9bnVsbCxNYz0hMDtmdW5jdGlvbiBCYihhKXshMD09PU1jJiYoTWM9ITEsbnVsbD09PUFiJiYhMD09PVAuZ2V0KFwibG9nZ2luZ19lbmFibGVkXCIpJiZOYyghMCkpO2lmKEFiKXt2YXIgYj1MYy5hcHBseShudWxsLGFyZ3VtZW50cyk7QWIoYil9fWZ1bmN0aW9uIE9jKGEpe3JldHVybiBmdW5jdGlvbigpe0JiKGEsYXJndW1lbnRzKX19XG5mdW5jdGlvbiBQYyhhKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUpe3ZhciBiPVwiRklSRUJBU0UgSU5URVJOQUwgRVJST1I6IFwiK0xjLmFwcGx5KG51bGwsYXJndW1lbnRzKTtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUuZXJyb3I/Y29uc29sZS5lcnJvcihiKTpjb25zb2xlLmxvZyhiKX19ZnVuY3Rpb24gUWMoYSl7dmFyIGI9TGMuYXBwbHkobnVsbCxhcmd1bWVudHMpO3Rocm93IEVycm9yKFwiRklSRUJBU0UgRkFUQUwgRVJST1I6IFwiK2IpO31mdW5jdGlvbiBRKGEpe2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSl7dmFyIGI9XCJGSVJFQkFTRSBXQVJOSU5HOiBcIitMYy5hcHBseShudWxsLGFyZ3VtZW50cyk7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlLndhcm4/Y29uc29sZS53YXJuKGIpOmNvbnNvbGUubG9nKGIpfX1cbmZ1bmN0aW9uIFJjKGEpe3ZhciBiPVwiXCIsYz1cIlwiLGQ9XCJcIixlPVwiXCIsZj0hMCxnPVwiaHR0cHNcIixrPTQ0MztpZihwKGEpKXt2YXIgbD1hLmluZGV4T2YoXCIvL1wiKTswPD1sJiYoZz1hLnN1YnN0cmluZygwLGwtMSksYT1hLnN1YnN0cmluZyhsKzIpKTtsPWEuaW5kZXhPZihcIi9cIik7LTE9PT1sJiYobD1hLmxlbmd0aCk7Yj1hLnN1YnN0cmluZygwLGwpO2U9XCJcIjthPWEuc3Vic3RyaW5nKGwpLnNwbGl0KFwiL1wiKTtmb3IobD0wO2w8YS5sZW5ndGg7bCsrKWlmKDA8YVtsXS5sZW5ndGgpe3ZhciBtPWFbbF07dHJ5e209ZGVjb2RlVVJJQ29tcG9uZW50KG0ucmVwbGFjZSgvXFwrL2csXCIgXCIpKX1jYXRjaCh2KXt9ZSs9XCIvXCIrbX1hPWIuc3BsaXQoXCIuXCIpOzM9PT1hLmxlbmd0aD8oYz1hWzFdLGQ9YVswXS50b0xvd2VyQ2FzZSgpKToyPT09YS5sZW5ndGgmJihjPWFbMF0pO2w9Yi5pbmRleE9mKFwiOlwiKTswPD1sJiYoZj1cImh0dHBzXCI9PT1nfHxcIndzc1wiPT09ZyxrPWIuc3Vic3RyaW5nKGwrMSksaXNGaW5pdGUoaykmJlxuKGs9U3RyaW5nKGspKSxrPXAoayk/L15cXHMqLT8weC9pLnRlc3Qoayk/cGFyc2VJbnQoaywxNik6cGFyc2VJbnQoaywxMCk6TmFOKX1yZXR1cm57aG9zdDpiLHBvcnQ6ayxkb21haW46YyxRZzpkLGxiOmYsc2NoZW1lOmcsWmM6ZX19ZnVuY3Rpb24gU2MoYSl7cmV0dXJuIGdhKGEpJiYoYSE9YXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfHxhPT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpfVxuZnVuY3Rpb24gVGMoYSl7aWYoXCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSlhKCk7ZWxzZXt2YXIgYj0hMSxjPWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keT9ifHwoYj0hMCxhKCkpOnNldFRpbWVvdXQoYyxNYXRoLmZsb29yKDEwKSl9O2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXI/KGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsYywhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsYywhMSkpOmRvY3VtZW50LmF0dGFjaEV2ZW50JiYoZG9jdW1lbnQuYXR0YWNoRXZlbnQoXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIixmdW5jdGlvbigpe1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJmMoKX0pLHdpbmRvdy5hdHRhY2hFdmVudChcIm9ubG9hZFwiLGMpKX19XG5mdW5jdGlvbiBTYihhLGIpe2lmKGE9PT1iKXJldHVybiAwO2lmKFwiW01JTl9OQU1FXVwiPT09YXx8XCJbTUFYX05BTUVdXCI9PT1iKXJldHVybi0xO2lmKFwiW01JTl9OQU1FXVwiPT09Ynx8XCJbTUFYX05BTUVdXCI9PT1hKXJldHVybiAxO3ZhciBjPVVjKGEpLGQ9VWMoYik7cmV0dXJuIG51bGwhPT1jP251bGwhPT1kPzA9PWMtZD9hLmxlbmd0aC1iLmxlbmd0aDpjLWQ6LTE6bnVsbCE9PWQ/MTphPGI/LTE6MX1mdW5jdGlvbiBWYyhhLGIpe2lmKGImJmEgaW4gYilyZXR1cm4gYlthXTt0aHJvdyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQga2V5IChcIithK1wiKSBpbiBvYmplY3Q6IFwiK0IoYikpO31cbmZ1bmN0aW9uIFdjKGEpe2lmKFwib2JqZWN0XCIhPT10eXBlb2YgYXx8bnVsbD09PWEpcmV0dXJuIEIoYSk7dmFyIGI9W10sYztmb3IoYyBpbiBhKWIucHVzaChjKTtiLnNvcnQoKTtjPVwie1wiO2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKTAhPT1kJiYoYys9XCIsXCIpLGMrPUIoYltkXSksYys9XCI6XCIsYys9V2MoYVtiW2RdXSk7cmV0dXJuIGMrXCJ9XCJ9ZnVuY3Rpb24gWGMoYSxiKXtpZihhLmxlbmd0aDw9YilyZXR1cm5bYV07Zm9yKHZhciBjPVtdLGQ9MDtkPGEubGVuZ3RoO2QrPWIpZCtiPmE/Yy5wdXNoKGEuc3Vic3RyaW5nKGQsYS5sZW5ndGgpKTpjLnB1c2goYS5zdWJzdHJpbmcoZCxkK2IpKTtyZXR1cm4gY31mdW5jdGlvbiBZYyhhLGIpe2lmKGVhKGEpKWZvcih2YXIgYz0wO2M8YS5sZW5ndGg7KytjKWIoYyxhW2NdKTtlbHNlIHIoYSxiKX1cbmZ1bmN0aW9uIFpjKGEpe0ooIVNjKGEpLFwiSW52YWxpZCBKU09OIG51bWJlclwiKTt2YXIgYixjLGQsZTswPT09YT8oZD1jPTAsYj0tSW5maW5pdHk9PT0xL2E/MTowKTooYj0wPmEsYT1NYXRoLmFicyhhKSxhPj1NYXRoLnBvdygyLC0xMDIyKT8oZD1NYXRoLm1pbihNYXRoLmZsb29yKE1hdGgubG9nKGEpL01hdGguTE4yKSwxMDIzKSxjPWQrMTAyMyxkPU1hdGgucm91bmQoYSpNYXRoLnBvdygyLDUyLWQpLU1hdGgucG93KDIsNTIpKSk6KGM9MCxkPU1hdGgucm91bmQoYS9NYXRoLnBvdygyLC0xMDc0KSkpKTtlPVtdO2ZvcihhPTUyO2E7LS1hKWUucHVzaChkJTI/MTowKSxkPU1hdGguZmxvb3IoZC8yKTtmb3IoYT0xMTthOy0tYSllLnB1c2goYyUyPzE6MCksYz1NYXRoLmZsb29yKGMvMik7ZS5wdXNoKGI/MTowKTtlLnJldmVyc2UoKTtiPWUuam9pbihcIlwiKTtjPVwiXCI7Zm9yKGE9MDs2ND5hO2ErPTgpZD1wYXJzZUludChiLnN1YnN0cihhLDgpLDIpLnRvU3RyaW5nKDE2KSwxPT09ZC5sZW5ndGgmJlxuKGQ9XCIwXCIrZCksYys9ZDtyZXR1cm4gYy50b0xvd2VyQ2FzZSgpfXZhciAkYz0vXi0/XFxkezEsMTB9JC87ZnVuY3Rpb24gVWMoYSl7cmV0dXJuICRjLnRlc3QoYSkmJihhPU51bWJlcihhKSwtMjE0NzQ4MzY0ODw9YSYmMjE0NzQ4MzY0Nz49YSk/YTpudWxsfWZ1bmN0aW9uIENiKGEpe3RyeXthKCl9Y2F0Y2goYil7c2V0VGltZW91dChmdW5jdGlvbigpe1EoXCJFeGNlcHRpb24gd2FzIHRocm93biBieSB1c2VyIGNhbGxiYWNrLlwiLGIuc3RhY2t8fFwiXCIpO3Rocm93IGI7fSxNYXRoLmZsb29yKDApKX19ZnVuY3Rpb24gUihhLGIpe2lmKGhhKGEpKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkuc2xpY2UoKTtDYihmdW5jdGlvbigpe2EuYXBwbHkobnVsbCxjKX0pfX07ZnVuY3Rpb24gS2MoYSl7Zm9yKHZhciBiPVtdLGM9MCxkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPWEuY2hhckNvZGVBdChkKTs1NTI5Njw9ZSYmNTYzMTk+PWUmJihlLT01NTI5NixkKyssSihkPGEubGVuZ3RoLFwiU3Vycm9nYXRlIHBhaXIgbWlzc2luZyB0cmFpbCBzdXJyb2dhdGUuXCIpLGU9NjU1MzYrKGU8PDEwKSsoYS5jaGFyQ29kZUF0KGQpLTU2MzIwKSk7MTI4PmU/YltjKytdPWU6KDIwNDg+ZT9iW2MrK109ZT4+NnwxOTI6KDY1NTM2PmU/YltjKytdPWU+PjEyfDIyNDooYltjKytdPWU+PjE4fDI0MCxiW2MrK109ZT4+MTImNjN8MTI4KSxiW2MrK109ZT4+NiY2M3wxMjgpLGJbYysrXT1lJjYzfDEyOCl9cmV0dXJuIGJ9ZnVuY3Rpb24geGMoYSl7Zm9yKHZhciBiPTAsYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hLmNoYXJDb2RlQXQoYyk7MTI4PmQ/YisrOjIwNDg+ZD9iKz0yOjU1Mjk2PD1kJiY1NjMxOT49ZD8oYis9NCxjKyspOmIrPTN9cmV0dXJuIGJ9O2Z1bmN0aW9uIGFkKGEpe3ZhciBiPXt9LGM9e30sZD17fSxlPVwiXCI7dHJ5e3ZhciBmPWEuc3BsaXQoXCIuXCIpLGI9bWIoSWMoZlswXSl8fFwiXCIpLGM9bWIoSWMoZlsxXSl8fFwiXCIpLGU9ZlsyXSxkPWMuZHx8e307ZGVsZXRlIGMuZH1jYXRjaChnKXt9cmV0dXJue1dnOmIsQWM6YyxkYXRhOmQsTmc6ZX19ZnVuY3Rpb24gYmQoYSl7YT1hZChhKS5BYztyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJmEuaGFzT3duUHJvcGVydHkoXCJpYXRcIik/dyhhLFwiaWF0XCIpOm51bGx9ZnVuY3Rpb24gY2QoYSl7YT1hZChhKTt2YXIgYj1hLkFjO3JldHVybiEhYS5OZyYmISFiJiZcIm9iamVjdFwiPT09dHlwZW9mIGImJmIuaGFzT3duUHJvcGVydHkoXCJpYXRcIil9O2Z1bmN0aW9uIGRkKGEpe3RoaXMuVj1hO3RoaXMuZz1hLm4uZ31mdW5jdGlvbiBlZChhLGIsYyxkKXt2YXIgZT1bXSxmPVtdO09hKGIsZnVuY3Rpb24oYil7XCJjaGlsZF9jaGFuZ2VkXCI9PT1iLnR5cGUmJmEuZy54ZChiLkplLGIuSmEpJiZmLnB1c2gobmV3IEQoXCJjaGlsZF9tb3ZlZFwiLGIuSmEsYi5ZYSkpfSk7ZmQoYSxlLFwiY2hpbGRfcmVtb3ZlZFwiLGIsZCxjKTtmZChhLGUsXCJjaGlsZF9hZGRlZFwiLGIsZCxjKTtmZChhLGUsXCJjaGlsZF9tb3ZlZFwiLGYsZCxjKTtmZChhLGUsXCJjaGlsZF9jaGFuZ2VkXCIsYixkLGMpO2ZkKGEsZSxFYixiLGQsYyk7cmV0dXJuIGV9ZnVuY3Rpb24gZmQoYSxiLGMsZCxlLGYpe2Q9UGEoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09Y30pO1hhKGQscShhLmVnLGEpKTtPYShkLGZ1bmN0aW9uKGMpe3ZhciBkPWdkKGEsYyxmKTtPYShlLGZ1bmN0aW9uKGUpe2UuSmYoYy50eXBlKSYmYi5wdXNoKGUuY3JlYXRlRXZlbnQoZCxhLlYpKX0pfSl9XG5mdW5jdGlvbiBnZChhLGIsYyl7XCJ2YWx1ZVwiIT09Yi50eXBlJiZcImNoaWxkX3JlbW92ZWRcIiE9PWIudHlwZSYmKGIuTmQ9Yy5xZihiLllhLGIuSmEsYS5nKSk7cmV0dXJuIGJ9ZGQucHJvdG90eXBlLmVnPWZ1bmN0aW9uKGEsYil7aWYobnVsbD09YS5ZYXx8bnVsbD09Yi5ZYSl0aHJvdyBIYyhcIlNob3VsZCBvbmx5IGNvbXBhcmUgY2hpbGRfIGV2ZW50cy5cIik7cmV0dXJuIHRoaXMuZy5jb21wYXJlKG5ldyBFKGEuWWEsYS5KYSksbmV3IEUoYi5ZYSxiLkphKSl9O2Z1bmN0aW9uIGhkKCl7dGhpcy5lYj17fX1cbmZ1bmN0aW9uIGlkKGEsYil7dmFyIGM9Yi50eXBlLGQ9Yi5ZYTtKKFwiY2hpbGRfYWRkZWRcIj09Y3x8XCJjaGlsZF9jaGFuZ2VkXCI9PWN8fFwiY2hpbGRfcmVtb3ZlZFwiPT1jLFwiT25seSBjaGlsZCBjaGFuZ2VzIHN1cHBvcnRlZCBmb3IgdHJhY2tpbmdcIik7SihcIi5wcmlvcml0eVwiIT09ZCxcIk9ubHkgbm9uLXByaW9yaXR5IGNoaWxkIGNoYW5nZXMgY2FuIGJlIHRyYWNrZWQuXCIpO3ZhciBlPXcoYS5lYixkKTtpZihlKXt2YXIgZj1lLnR5cGU7aWYoXCJjaGlsZF9hZGRlZFwiPT1jJiZcImNoaWxkX3JlbW92ZWRcIj09ZilhLmViW2RdPW5ldyBEKFwiY2hpbGRfY2hhbmdlZFwiLGIuSmEsZCxlLkphKTtlbHNlIGlmKFwiY2hpbGRfcmVtb3ZlZFwiPT1jJiZcImNoaWxkX2FkZGVkXCI9PWYpZGVsZXRlIGEuZWJbZF07ZWxzZSBpZihcImNoaWxkX3JlbW92ZWRcIj09YyYmXCJjaGlsZF9jaGFuZ2VkXCI9PWYpYS5lYltkXT1uZXcgRChcImNoaWxkX3JlbW92ZWRcIixlLkplLGQpO2Vsc2UgaWYoXCJjaGlsZF9jaGFuZ2VkXCI9PWMmJlxuXCJjaGlsZF9hZGRlZFwiPT1mKWEuZWJbZF09bmV3IEQoXCJjaGlsZF9hZGRlZFwiLGIuSmEsZCk7ZWxzZSBpZihcImNoaWxkX2NoYW5nZWRcIj09YyYmXCJjaGlsZF9jaGFuZ2VkXCI9PWYpYS5lYltkXT1uZXcgRChcImNoaWxkX2NoYW5nZWRcIixiLkphLGQsZS5KZSk7ZWxzZSB0aHJvdyBIYyhcIklsbGVnYWwgY29tYmluYXRpb24gb2YgY2hhbmdlczogXCIrYitcIiBvY2N1cnJlZCBhZnRlciBcIitlKTt9ZWxzZSBhLmViW2RdPWJ9O2Z1bmN0aW9uIGpkKGEsYixjKXt0aGlzLlBiPWE7dGhpcy5xYj1iO3RoaXMuc2I9Y3x8bnVsbH1oPWpkLnByb3RvdHlwZTtoLkpmPWZ1bmN0aW9uKGEpe3JldHVyblwidmFsdWVcIj09PWF9O2guY3JlYXRlRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLm4uZztyZXR1cm4gbmV3IEZiKFwidmFsdWVcIix0aGlzLG5ldyBTKGEuSmEsYi5sYygpLGMpKX07aC5VYj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnNiO2lmKFwiY2FuY2VsXCI9PT1hLnllKCkpe0oodGhpcy5xYixcIlJhaXNpbmcgYSBjYW5jZWwgZXZlbnQgb24gYSBsaXN0ZW5lciB3aXRoIG5vIGNhbmNlbCBjYWxsYmFja1wiKTt2YXIgYz10aGlzLnFiO3JldHVybiBmdW5jdGlvbigpe2MuY2FsbChiLGEuZXJyb3IpfX12YXIgZD10aGlzLlBiO3JldHVybiBmdW5jdGlvbigpe2QuY2FsbChiLGEuV2QpfX07aC5mZj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnFiP25ldyBHYih0aGlzLGEsYik6bnVsbH07XG5oLm1hdGNoZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBqZD9hLlBiJiZ0aGlzLlBiP2EuUGI9PT10aGlzLlBiJiZhLnNiPT09dGhpcy5zYjohMDohMX07aC5zZj1mdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5QYn07ZnVuY3Rpb24ga2QoYSxiLGMpe3RoaXMuZ2E9YTt0aGlzLnFiPWI7dGhpcy5zYj1jfWg9a2QucHJvdG90eXBlO2guSmY9ZnVuY3Rpb24oYSl7YT1cImNoaWxkcmVuX2FkZGVkXCI9PT1hP1wiY2hpbGRfYWRkZWRcIjphO3JldHVybihcImNoaWxkcmVuX3JlbW92ZWRcIj09PWE/XCJjaGlsZF9yZW1vdmVkXCI6YSlpbiB0aGlzLmdhfTtoLmZmPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucWI/bmV3IEdiKHRoaXMsYSxiKTpudWxsfTtcbmguY3JlYXRlRXZlbnQ9ZnVuY3Rpb24oYSxiKXtKKG51bGwhPWEuWWEsXCJDaGlsZCBldmVudHMgc2hvdWxkIGhhdmUgYSBjaGlsZE5hbWUuXCIpO3ZhciBjPWIubGMoKS53KGEuWWEpO3JldHVybiBuZXcgRmIoYS50eXBlLHRoaXMsbmV3IFMoYS5KYSxjLGIubi5nKSxhLk5kKX07aC5VYj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnNiO2lmKFwiY2FuY2VsXCI9PT1hLnllKCkpe0oodGhpcy5xYixcIlJhaXNpbmcgYSBjYW5jZWwgZXZlbnQgb24gYSBsaXN0ZW5lciB3aXRoIG5vIGNhbmNlbCBjYWxsYmFja1wiKTt2YXIgYz10aGlzLnFiO3JldHVybiBmdW5jdGlvbigpe2MuY2FsbChiLGEuZXJyb3IpfX12YXIgZD10aGlzLmdhW2EucmRdO3JldHVybiBmdW5jdGlvbigpe2QuY2FsbChiLGEuV2QsYS5OZCl9fTtcbmgubWF0Y2hlcz1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2Yga2Qpe2lmKCF0aGlzLmdhfHwhYS5nYSlyZXR1cm4hMDtpZih0aGlzLnNiPT09YS5zYil7dmFyIGI9cGEoYS5nYSk7aWYoYj09PXBhKHRoaXMuZ2EpKXtpZigxPT09Yil7dmFyIGI9cWEoYS5nYSksYz1xYSh0aGlzLmdhKTtyZXR1cm4gYz09PWImJighYS5nYVtiXXx8IXRoaXMuZ2FbY118fGEuZ2FbYl09PT10aGlzLmdhW2NdKX1yZXR1cm4gb2EodGhpcy5nYSxmdW5jdGlvbihiLGMpe3JldHVybiBhLmdhW2NdPT09Yn0pfX19cmV0dXJuITF9O2guc2Y9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuZ2F9O2Z1bmN0aW9uIGxkKGEpe3RoaXMuZz1hfWg9bGQucHJvdG90eXBlO2guRz1mdW5jdGlvbihhLGIsYyxkLGUpe0ooYS5JYyh0aGlzLmcpLFwiQSBub2RlIG11c3QgYmUgaW5kZXhlZCBpZiBvbmx5IGEgY2hpbGQgaXMgdXBkYXRlZFwiKTtkPWEuTShiKTtpZihkLlooYykpcmV0dXJuIGE7bnVsbCE9ZSYmKGMuZSgpP2EuSGEoYik/aWQoZSxuZXcgRChcImNoaWxkX3JlbW92ZWRcIixkLGIpKTpKKGEuTigpLFwiQSBjaGlsZCByZW1vdmUgd2l0aG91dCBhbiBvbGQgY2hpbGQgb25seSBtYWtlcyBzZW5zZSBvbiBhIGxlYWYgbm9kZVwiKTpkLmUoKT9pZChlLG5ldyBEKFwiY2hpbGRfYWRkZWRcIixjLGIpKTppZChlLG5ldyBEKFwiY2hpbGRfY2hhbmdlZFwiLGMsYixkKSkpO3JldHVybiBhLk4oKSYmYy5lKCk/YTphLlEoYixjKS5tYih0aGlzLmcpfTtcbmgudGE9ZnVuY3Rpb24oYSxiLGMpe251bGwhPWMmJihhLk4oKXx8YS5VKE0sZnVuY3Rpb24oYSxlKXtiLkhhKGEpfHxpZChjLG5ldyBEKFwiY2hpbGRfcmVtb3ZlZFwiLGUsYSkpfSksYi5OKCl8fGIuVShNLGZ1bmN0aW9uKGIsZSl7aWYoYS5IYShiKSl7dmFyIGY9YS5NKGIpO2YuWihlKXx8aWQoYyxuZXcgRChcImNoaWxkX2NoYW5nZWRcIixlLGIsZikpfWVsc2UgaWQoYyxuZXcgRChcImNoaWxkX2FkZGVkXCIsZSxiKSl9KSk7cmV0dXJuIGIubWIodGhpcy5nKX07aC5kYT1mdW5jdGlvbihhLGIpe3JldHVybiBhLmUoKT9DOmEuZGEoYil9O2guR2E9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aC5WYj1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtmdW5jdGlvbiBtZChhKXt0aGlzLkFlPW5ldyBsZChhLmcpO3RoaXMuZz1hLmc7dmFyIGI7YS5sYT8oYj1uZChhKSxiPWEuZy5PYyhvZChhKSxiKSk6Yj1hLmcuU2MoKTt0aGlzLmRkPWI7YS5uYT8oYj1wZChhKSxhPWEuZy5PYyhxZChhKSxiKSk6YT1hLmcuUGMoKTt0aGlzLkZjPWF9aD1tZC5wcm90b3R5cGU7aC5tYXRjaGVzPWZ1bmN0aW9uKGEpe3JldHVybiAwPj10aGlzLmcuY29tcGFyZSh0aGlzLmRkLGEpJiYwPj10aGlzLmcuY29tcGFyZShhLHRoaXMuRmMpfTtoLkc9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLm1hdGNoZXMobmV3IEUoYixjKSl8fChjPUMpO3JldHVybiB0aGlzLkFlLkcoYSxiLGMsZCxlKX07aC50YT1mdW5jdGlvbihhLGIsYyl7Yi5OKCkmJihiPUMpO3ZhciBkPWIubWIodGhpcy5nKSxkPWQuZGEoQyksZT10aGlzO2IuVShNLGZ1bmN0aW9uKGEsYil7ZS5tYXRjaGVzKG5ldyBFKGEsYikpfHwoZD1kLlEoYSxDKSl9KTtyZXR1cm4gdGhpcy5BZS50YShhLGQsYyl9O1xuaC5kYT1mdW5jdGlvbihhKXtyZXR1cm4gYX07aC5HYT1mdW5jdGlvbigpe3JldHVybiEwfTtoLlZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQWV9O2Z1bmN0aW9uIHJkKGEpe3RoaXMucmE9bmV3IG1kKGEpO3RoaXMuZz1hLmc7SihhLmlhLFwiT25seSB2YWxpZCBpZiBsaW1pdCBoYXMgYmVlbiBzZXRcIik7dGhpcy5qYT1hLmphO3RoaXMuSmI9IXNkKGEpfWg9cmQucHJvdG90eXBlO2guRz1mdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMucmEubWF0Y2hlcyhuZXcgRShiLGMpKXx8KGM9Qyk7cmV0dXJuIGEuTShiKS5aKGMpP2E6YS5EYigpPHRoaXMuamE/dGhpcy5yYS5WYigpLkcoYSxiLGMsZCxlKTp0ZCh0aGlzLGEsYixjLGQsZSl9O1xuaC50YT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7aWYoYi5OKCl8fGIuZSgpKWQ9Qy5tYih0aGlzLmcpO2Vsc2UgaWYoMip0aGlzLmphPGIuRGIoKSYmYi5JYyh0aGlzLmcpKXtkPUMubWIodGhpcy5nKTtiPXRoaXMuSmI/Yi5aYih0aGlzLnJhLkZjLHRoaXMuZyk6Yi5YYih0aGlzLnJhLmRkLHRoaXMuZyk7Zm9yKHZhciBlPTA7MDxiLlBhLmxlbmd0aCYmZTx0aGlzLmphOyl7dmFyIGY9SChiKSxnO2lmKGc9dGhpcy5KYj8wPj10aGlzLmcuY29tcGFyZSh0aGlzLnJhLmRkLGYpOjA+PXRoaXMuZy5jb21wYXJlKGYsdGhpcy5yYS5GYykpZD1kLlEoZi5uYW1lLGYuUyksZSsrO2Vsc2UgYnJlYWt9fWVsc2V7ZD1iLm1iKHRoaXMuZyk7ZD1kLmRhKEMpO3ZhciBrLGwsbTtpZih0aGlzLkpiKXtiPWQucmYodGhpcy5nKTtrPXRoaXMucmEuRmM7bD10aGlzLnJhLmRkO3ZhciB2PXVkKHRoaXMuZyk7bT1mdW5jdGlvbihhLGIpe3JldHVybiB2KGIsYSl9fWVsc2UgYj1kLldiKHRoaXMuZyksaz10aGlzLnJhLmRkLFxubD10aGlzLnJhLkZjLG09dWQodGhpcy5nKTtmb3IodmFyIGU9MCx5PSExOzA8Yi5QYS5sZW5ndGg7KWY9SChiKSwheSYmMD49bShrLGYpJiYoeT0hMCksKGc9eSYmZTx0aGlzLmphJiYwPj1tKGYsbCkpP2UrKzpkPWQuUShmLm5hbWUsQyl9cmV0dXJuIHRoaXMucmEuVmIoKS50YShhLGQsYyl9O2guZGE9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O2guR2E9ZnVuY3Rpb24oKXtyZXR1cm4hMH07aC5WYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJhLlZiKCl9O1xuZnVuY3Rpb24gdGQoYSxiLGMsZCxlLGYpe3ZhciBnO2lmKGEuSmIpe3ZhciBrPXVkKGEuZyk7Zz1mdW5jdGlvbihhLGIpe3JldHVybiBrKGIsYSl9fWVsc2UgZz11ZChhLmcpO0ooYi5EYigpPT1hLmphLFwiXCIpO3ZhciBsPW5ldyBFKGMsZCksbT1hLkpiP3dkKGIsYS5nKTp4ZChiLGEuZyksdj1hLnJhLm1hdGNoZXMobCk7aWYoYi5IYShjKSl7dmFyIHk9Yi5NKGMpLG09ZS54ZShhLmcsbSxhLkpiKTtudWxsIT1tJiZtLm5hbWU9PWMmJihtPWUueGUoYS5nLG0sYS5KYikpO2U9bnVsbD09bT8xOmcobSxsKTtpZih2JiYhZC5lKCkmJjA8PWUpcmV0dXJuIG51bGwhPWYmJmlkKGYsbmV3IEQoXCJjaGlsZF9jaGFuZ2VkXCIsZCxjLHkpKSxiLlEoYyxkKTtudWxsIT1mJiZpZChmLG5ldyBEKFwiY2hpbGRfcmVtb3ZlZFwiLHksYykpO2I9Yi5RKGMsQyk7cmV0dXJuIG51bGwhPW0mJmEucmEubWF0Y2hlcyhtKT8obnVsbCE9ZiYmaWQoZixuZXcgRChcImNoaWxkX2FkZGVkXCIsbS5TLG0ubmFtZSkpLGIuUShtLm5hbWUsXG5tLlMpKTpifXJldHVybiBkLmUoKT9iOnYmJjA8PWcobSxsKT8obnVsbCE9ZiYmKGlkKGYsbmV3IEQoXCJjaGlsZF9yZW1vdmVkXCIsbS5TLG0ubmFtZSkpLGlkKGYsbmV3IEQoXCJjaGlsZF9hZGRlZFwiLGQsYykpKSxiLlEoYyxkKS5RKG0ubmFtZSxDKSk6Yn07ZnVuY3Rpb24geWQoYSxiKXt0aGlzLmhlPWE7dGhpcy5jZz1ifWZ1bmN0aW9uIHpkKGEpe3RoaXMuST1hfVxuemQucHJvdG90eXBlLmJiPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW5ldyBoZCxmO2lmKGIudHlwZT09PVZiKWIuc291cmNlLnZlP2M9QWQodGhpcyxhLGIucGF0aCxiLklhLGMsZCxlKTooSihiLnNvdXJjZS5vZixcIlVua25vd24gc291cmNlLlwiKSxmPWIuc291cmNlLmFmLGM9QmQodGhpcyxhLGIucGF0aCxiLklhLGMsZCxmLGUpKTtlbHNlIGlmKGIudHlwZT09PUNkKWIuc291cmNlLnZlP2M9RGQodGhpcyxhLGIucGF0aCxiLmNoaWxkcmVuLGMsZCxlKTooSihiLnNvdXJjZS5vZixcIlVua25vd24gc291cmNlLlwiKSxmPWIuc291cmNlLmFmLGM9RWQodGhpcyxhLGIucGF0aCxiLmNoaWxkcmVuLGMsZCxmLGUpKTtlbHNlIGlmKGIudHlwZT09PVhiKWlmKGIuVmUpaWYoZj1iLnBhdGgsbnVsbCE9Yy5zYyhmKSljPWE7ZWxzZXtiPW5ldyBxYihjLGEsZCk7ZD1hLkQuaigpO2lmKGYuZSgpfHxcIi5wcmlvcml0eVwiPT09TyhmKSlIYihhLnUoKSk/Yj1jLnVhKHRiKGEpKTooYj1hLnUoKS5qKCksXG5KKGIgaW5zdGFuY2VvZiBULFwic2VydmVyQ2hpbGRyZW4gd291bGQgYmUgY29tcGxldGUgaWYgbGVhZiBub2RlXCIpLGI9Yy54YyhiKSksYj10aGlzLkkudGEoZCxiLGUpO2Vsc2V7Zj1PKGYpO3ZhciBnPWMuWGEoZixhLnUoKSk7bnVsbD09ZyYmcmIoYS51KCksZikmJihnPWQuTShmKSk7Yj1udWxsIT1nP3RoaXMuSS5HKGQsZixnLGIsZSk6YS5ELmooKS5IYShmKT90aGlzLkkuRyhkLGYsQyxiLGUpOmQ7Yi5lKCkmJkhiKGEudSgpKSYmKGQ9Yy51YSh0YihhKSksZC5OKCkmJihiPXRoaXMuSS50YShiLGQsZSkpKX1kPUhiKGEudSgpKXx8bnVsbCE9Yy5zYyhGKTtjPUZkKGEsYixkLHRoaXMuSS5HYSgpKX1lbHNlIGM9R2QodGhpcyxhLGIucGF0aCxjLGQsZSk7ZWxzZSBpZihiLnR5cGU9PT0kYilkPWIucGF0aCxiPWEudSgpLGY9Yi5qKCksZz1iLiR8fGQuZSgpLGM9SGQodGhpcyxuZXcgSWQoYS5ELG5ldyBzYihmLGcsYi5UYikpLGQsYyxwYixlKTtlbHNlIHRocm93IEhjKFwiVW5rbm93biBvcGVyYXRpb24gdHlwZTogXCIrXG5iLnR5cGUpO2U9cmEoZS5lYik7ZD1jO2I9ZC5EO2IuJCYmKGY9Yi5qKCkuTigpfHxiLmooKS5lKCksZz1KZChhKSwoMDxlLmxlbmd0aHx8IWEuRC4kfHxmJiYhYi5qKCkuWihnKXx8IWIuaigpLkEoKS5aKGcuQSgpKSkmJmUucHVzaChEYihKZChkKSkpKTtyZXR1cm4gbmV3IHlkKGMsZSl9O1xuZnVuY3Rpb24gSGQoYSxiLGMsZCxlLGYpe3ZhciBnPWIuRDtpZihudWxsIT1kLnNjKGMpKXJldHVybiBiO3ZhciBrO2lmKGMuZSgpKUooSGIoYi51KCkpLFwiSWYgY2hhbmdlIHBhdGggaXMgZW1wdHksIHdlIG11c3QgaGF2ZSBjb21wbGV0ZSBzZXJ2ZXIgZGF0YVwiKSxiLnUoKS5UYj8oZT10YihiKSxkPWQueGMoZSBpbnN0YW5jZW9mIFQ/ZTpDKSk6ZD1kLnVhKHRiKGIpKSxmPWEuSS50YShiLkQuaigpLGQsZik7ZWxzZXt2YXIgbD1PKGMpO2lmKFwiLnByaW9yaXR5XCI9PWwpSigxPT11YyhjKSxcIkNhbid0IGhhdmUgYSBwcmlvcml0eSB3aXRoIGFkZGl0aW9uYWwgcGF0aCBjb21wb25lbnRzXCIpLGY9Zy5qKCksaz1iLnUoKS5qKCksZD1kLmhkKGMsZixrKSxmPW51bGwhPWQ/YS5JLmRhKGYsZCk6Zy5qKCk7ZWxzZXt2YXIgbT1HKGMpO3JiKGcsbCk/KGs9Yi51KCkuaigpLGQ9ZC5oZChjLGcuaigpLGspLGQ9bnVsbCE9ZD9nLmooKS5NKGwpLkcobSxkKTpnLmooKS5NKGwpKTpkPWQuWGEobCxiLnUoKSk7XG5mPW51bGwhPWQ/YS5JLkcoZy5qKCksbCxkLGUsZik6Zy5qKCl9fXJldHVybiBGZChiLGYsZy4kfHxjLmUoKSxhLkkuR2EoKSl9ZnVuY3Rpb24gQmQoYSxiLGMsZCxlLGYsZyxrKXt2YXIgbD1iLnUoKTtnPWc/YS5JOmEuSS5WYigpO2lmKGMuZSgpKWQ9Zy50YShsLmooKSxkLG51bGwpO2Vsc2UgaWYoZy5HYSgpJiYhbC5UYilkPWwuaigpLkcoYyxkKSxkPWcudGEobC5qKCksZCxudWxsKTtlbHNle3ZhciBtPU8oYyk7aWYoKGMuZSgpPyFsLiR8fGwuVGI6IXJiKGwsTyhjKSkpJiYxPHVjKGMpKXJldHVybiBiO2Q9bC5qKCkuTShtKS5HKEcoYyksZCk7ZD1cIi5wcmlvcml0eVwiPT1tP2cuZGEobC5qKCksZCk6Zy5HKGwuaigpLG0sZCxwYixudWxsKX1sPWwuJHx8Yy5lKCk7Yj1uZXcgSWQoYi5ELG5ldyBzYihkLGwsZy5HYSgpKSk7cmV0dXJuIEhkKGEsYixjLGUsbmV3IHFiKGUsYixmKSxrKX1cbmZ1bmN0aW9uIEFkKGEsYixjLGQsZSxmLGcpe3ZhciBrPWIuRDtlPW5ldyBxYihlLGIsZik7aWYoYy5lKCkpZz1hLkkudGEoYi5ELmooKSxkLGcpLGE9RmQoYixnLCEwLGEuSS5HYSgpKTtlbHNlIGlmKGY9TyhjKSxcIi5wcmlvcml0eVwiPT09ZilnPWEuSS5kYShiLkQuaigpLGQpLGE9RmQoYixnLGsuJCxrLlRiKTtlbHNle3ZhciBsPUcoYyk7Yz1rLmooKS5NKGYpO2lmKCFsLmUoKSl7dmFyIG09ZS5wZihmKTtkPW51bGwhPW0/XCIucHJpb3JpdHlcIj09PXZjKGwpJiZtLm9hKGwucGFyZW50KCkpLmUoKT9tOm0uRyhsLGQpOkN9Yy5aKGQpP2E9YjooZz1hLkkuRyhrLmooKSxmLGQsZSxnKSxhPUZkKGIsZyxrLiQsYS5JLkdhKCkpKX1yZXR1cm4gYX1cbmZ1bmN0aW9uIERkKGEsYixjLGQsZSxmLGcpe3ZhciBrPWI7S2QoZCxmdW5jdGlvbihkLG0pe3ZhciB2PWMudyhkKTtyYihiLkQsTyh2KSkmJihrPUFkKGEsayx2LG0sZSxmLGcpKX0pO0tkKGQsZnVuY3Rpb24oZCxtKXt2YXIgdj1jLncoZCk7cmIoYi5ELE8odikpfHwoaz1BZChhLGssdixtLGUsZixnKSl9KTtyZXR1cm4ga31mdW5jdGlvbiBMZChhLGIpe0tkKGIsZnVuY3Rpb24oYixkKXthPWEuRyhiLGQpfSk7cmV0dXJuIGF9XG5mdW5jdGlvbiBFZChhLGIsYyxkLGUsZixnLGspe2lmKGIudSgpLmooKS5lKCkmJiFIYihiLnUoKSkpcmV0dXJuIGI7dmFyIGw9YjtjPWMuZSgpP2Q6TWQoTmQsYyxkKTt2YXIgbT1iLnUoKS5qKCk7Yy5jaGlsZHJlbi5oYShmdW5jdGlvbihjLGQpe2lmKG0uSGEoYykpe3ZhciBJPWIudSgpLmooKS5NKGMpLEk9TGQoSSxkKTtsPUJkKGEsbCxuZXcgSyhjKSxJLGUsZixnLGspfX0pO2MuY2hpbGRyZW4uaGEoZnVuY3Rpb24oYyxkKXt2YXIgST0hSGIoYi51KCkpJiZudWxsPT1kLnZhbHVlO20uSGEoYyl8fEl8fChJPWIudSgpLmooKS5NKGMpLEk9TGQoSSxkKSxsPUJkKGEsbCxuZXcgSyhjKSxJLGUsZixnLGspKX0pO3JldHVybiBsfVxuZnVuY3Rpb24gR2QoYSxiLGMsZCxlLGYpe2lmKG51bGwhPWQuc2MoYykpcmV0dXJuIGI7dmFyIGc9bmV3IHFiKGQsYixlKSxrPWU9Yi5ELmooKTtpZihIYihiLnUoKSkpe2lmKGMuZSgpKWU9ZC51YSh0YihiKSksaz1hLkkudGEoYi5ELmooKSxlLGYpO2Vsc2UgaWYoXCIucHJpb3JpdHlcIj09PU8oYykpe3ZhciBsPWQuWGEoTyhjKSxiLnUoKSk7bnVsbD09bHx8ZS5lKCl8fGUuQSgpLloobCl8fChrPWEuSS5kYShlLGwpKX1lbHNlIGw9TyhjKSxlPWQuWGEobCxiLnUoKSksbnVsbCE9ZSYmKGs9YS5JLkcoYi5ELmooKSxsLGUsZyxmKSk7ZT0hMH1lbHNlIGlmKGIuRC4kfHxjLmUoKSlrPWUsZT1iLkQuaigpLGUuTigpfHxlLlUoTSxmdW5jdGlvbihjKXt2YXIgZT1kLlhhKGMsYi51KCkpO251bGwhPWUmJihrPWEuSS5HKGssYyxlLGcsZikpfSksZT1iLkQuJDtlbHNle2w9TyhjKTtpZigxPT11YyhjKXx8cmIoYi5ELGwpKWM9ZC5YYShsLGIudSgpKSxudWxsIT1jJiYoaz1hLkkuRyhlLGwsYyxcbmcsZikpO2U9ITF9cmV0dXJuIEZkKGIsayxlLGEuSS5HYSgpKX07ZnVuY3Rpb24gT2QoKXt9dmFyIFBkPXt9O2Z1bmN0aW9uIHVkKGEpe3JldHVybiBxKGEuY29tcGFyZSxhKX1PZC5wcm90b3R5cGUueGQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMCE9PXRoaXMuY29tcGFyZShuZXcgRShcIltNSU5fTkFNRV1cIixhKSxuZXcgRShcIltNSU5fTkFNRV1cIixiKSl9O09kLnByb3RvdHlwZS5TYz1mdW5jdGlvbigpe3JldHVybiBRZH07ZnVuY3Rpb24gUmQoYSl7dGhpcy5iYz1hfW1hKFJkLE9kKTtoPVJkLnByb3RvdHlwZTtoLkhjPWZ1bmN0aW9uKGEpe3JldHVybiFhLk0odGhpcy5iYykuZSgpfTtoLmNvbXBhcmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLlMuTSh0aGlzLmJjKSxkPWIuUy5NKHRoaXMuYmMpLGM9Yy5DYyhkKTtyZXR1cm4gMD09PWM/U2IoYS5uYW1lLGIubmFtZSk6Y307aC5PYz1mdW5jdGlvbihhLGIpe3ZhciBjPUwoYSksYz1DLlEodGhpcy5iYyxjKTtyZXR1cm4gbmV3IEUoYixjKX07XG5oLlBjPWZ1bmN0aW9uKCl7dmFyIGE9Qy5RKHRoaXMuYmMsU2QpO3JldHVybiBuZXcgRShcIltNQVhfTkFNRV1cIixhKX07aC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJjfTtmdW5jdGlvbiBUZCgpe31tYShUZCxPZCk7aD1UZC5wcm90b3R5cGU7aC5jb21wYXJlPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5TLkEoKSxkPWIuUy5BKCksYz1jLkNjKGQpO3JldHVybiAwPT09Yz9TYihhLm5hbWUsYi5uYW1lKTpjfTtoLkhjPWZ1bmN0aW9uKGEpe3JldHVybiFhLkEoKS5lKCl9O2gueGQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hYS5BKCkuWihiLkEoKSl9O2guU2M9ZnVuY3Rpb24oKXtyZXR1cm4gUWR9O2guUGM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEUoXCJbTUFYX05BTUVdXCIsbmV3IHRjKFwiW1BSSU9SSVRZLVBPU1RdXCIsU2QpKX07aC5PYz1mdW5jdGlvbihhLGIpe3ZhciBjPUwoYSk7cmV0dXJuIG5ldyBFKGIsbmV3IHRjKFwiW1BSSU9SSVRZLVBPU1RdXCIsYykpfTtcbmgudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIi5wcmlvcml0eVwifTt2YXIgTT1uZXcgVGQ7ZnVuY3Rpb24gVWQoKXt9bWEoVWQsT2QpO2g9VWQucHJvdG90eXBlO2guY29tcGFyZT1mdW5jdGlvbihhLGIpe3JldHVybiBTYihhLm5hbWUsYi5uYW1lKX07aC5IYz1mdW5jdGlvbigpe3Rocm93IEhjKFwiS2V5SW5kZXguaXNEZWZpbmVkT24gbm90IGV4cGVjdGVkIHRvIGJlIGNhbGxlZC5cIik7fTtoLnhkPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2guU2M9ZnVuY3Rpb24oKXtyZXR1cm4gUWR9O2guUGM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEUoXCJbTUFYX05BTUVdXCIsQyl9O2guT2M9ZnVuY3Rpb24oYSl7SihwKGEpLFwiS2V5SW5kZXggaW5kZXhWYWx1ZSBtdXN0IGFsd2F5cyBiZSBhIHN0cmluZy5cIik7cmV0dXJuIG5ldyBFKGEsQyl9O2gudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIi5rZXlcIn07dmFyIFZkPW5ldyBVZDtmdW5jdGlvbiBXZCgpe31tYShXZCxPZCk7aD1XZC5wcm90b3R5cGU7XG5oLmNvbXBhcmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLlMuQ2MoYi5TKTtyZXR1cm4gMD09PWM/U2IoYS5uYW1lLGIubmFtZSk6Y307aC5IYz1mdW5jdGlvbigpe3JldHVybiEwfTtoLnhkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIWEuWihiKX07aC5TYz1mdW5jdGlvbigpe3JldHVybiBRZH07aC5QYz1mdW5jdGlvbigpe3JldHVybiBYZH07aC5PYz1mdW5jdGlvbihhLGIpe3ZhciBjPUwoYSk7cmV0dXJuIG5ldyBFKGIsYyl9O2gudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIi52YWx1ZVwifTt2YXIgWWQ9bmV3IFdkO2Z1bmN0aW9uIFpkKCl7dGhpcy5SYj10aGlzLm5hPXRoaXMuTGI9dGhpcy5sYT10aGlzLmlhPSExO3RoaXMuamE9MDt0aGlzLk5iPVwiXCI7dGhpcy5kYz1udWxsO3RoaXMueGI9XCJcIjt0aGlzLmFjPW51bGw7dGhpcy52Yj1cIlwiO3RoaXMuZz1NfXZhciAkZD1uZXcgWmQ7ZnVuY3Rpb24gc2QoYSl7cmV0dXJuXCJcIj09PWEuTmI/YS5sYTpcImxcIj09PWEuTmJ9ZnVuY3Rpb24gb2QoYSl7SihhLmxhLFwiT25seSB2YWxpZCBpZiBzdGFydCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuZGN9ZnVuY3Rpb24gbmQoYSl7SihhLmxhLFwiT25seSB2YWxpZCBpZiBzdGFydCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuTGI/YS54YjpcIltNSU5fTkFNRV1cIn1mdW5jdGlvbiBxZChhKXtKKGEubmEsXCJPbmx5IHZhbGlkIGlmIGVuZCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuYWN9XG5mdW5jdGlvbiBwZChhKXtKKGEubmEsXCJPbmx5IHZhbGlkIGlmIGVuZCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuUmI/YS52YjpcIltNQVhfTkFNRV1cIn1mdW5jdGlvbiBhZShhKXt2YXIgYj1uZXcgWmQ7Yi5pYT1hLmlhO2IuamE9YS5qYTtiLmxhPWEubGE7Yi5kYz1hLmRjO2IuTGI9YS5MYjtiLnhiPWEueGI7Yi5uYT1hLm5hO2IuYWM9YS5hYztiLlJiPWEuUmI7Yi52Yj1hLnZiO2IuZz1hLmc7cmV0dXJuIGJ9aD1aZC5wcm90b3R5cGU7aC5HZT1mdW5jdGlvbihhKXt2YXIgYj1hZSh0aGlzKTtiLmlhPSEwO2IuamE9YTtiLk5iPVwiXCI7cmV0dXJuIGJ9O2guSGU9ZnVuY3Rpb24oYSl7dmFyIGI9YWUodGhpcyk7Yi5pYT0hMDtiLmphPWE7Yi5OYj1cImxcIjtyZXR1cm4gYn07aC5JZT1mdW5jdGlvbihhKXt2YXIgYj1hZSh0aGlzKTtiLmlhPSEwO2IuamE9YTtiLk5iPVwiclwiO3JldHVybiBifTtcbmguWGQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hZSh0aGlzKTtjLmxhPSEwO24oYSl8fChhPW51bGwpO2MuZGM9YTtudWxsIT1iPyhjLkxiPSEwLGMueGI9Yik6KGMuTGI9ITEsYy54Yj1cIlwiKTtyZXR1cm4gY307aC5xZD1mdW5jdGlvbihhLGIpe3ZhciBjPWFlKHRoaXMpO2MubmE9ITA7bihhKXx8KGE9bnVsbCk7Yy5hYz1hO24oYik/KGMuUmI9ITAsYy52Yj1iKTooYy5ZZz0hMSxjLnZiPVwiXCIpO3JldHVybiBjfTtmdW5jdGlvbiBiZShhLGIpe3ZhciBjPWFlKGEpO2MuZz1iO3JldHVybiBjfWZ1bmN0aW9uIGNlKGEpe3ZhciBiPXt9O2EubGEmJihiLnNwPWEuZGMsYS5MYiYmKGIuc249YS54YikpO2EubmEmJihiLmVwPWEuYWMsYS5SYiYmKGIuZW49YS52YikpO2lmKGEuaWEpe2IubD1hLmphO3ZhciBjPWEuTmI7XCJcIj09PWMmJihjPXNkKGEpP1wibFwiOlwiclwiKTtiLnZmPWN9YS5nIT09TSYmKGIuaT1hLmcudG9TdHJpbmcoKSk7cmV0dXJuIGJ9XG5mdW5jdGlvbiBkZShhKXtyZXR1cm4hKGEubGF8fGEubmF8fGEuaWEpfWZ1bmN0aW9uIGVlKGEpe3ZhciBiPXt9O2lmKGRlKGEpJiZhLmc9PU0pcmV0dXJuIGI7dmFyIGM7YS5nPT09TT9jPVwiJHByaW9yaXR5XCI6YS5nPT09WWQ/Yz1cIiR2YWx1ZVwiOihKKGEuZyBpbnN0YW5jZW9mIFJkLFwiVW5yZWNvZ25pemVkIGluZGV4IHR5cGUhXCIpLGM9YS5nLnRvU3RyaW5nKCkpO2Iub3JkZXJCeT1CKGMpO2EubGEmJihiLnN0YXJ0QXQ9QihhLmRjKSxhLkxiJiYoYi5zdGFydEF0Kz1cIixcIitCKGEueGIpKSk7YS5uYSYmKGIuZW5kQXQ9QihhLmFjKSxhLlJiJiYoYi5lbmRBdCs9XCIsXCIrQihhLnZiKSkpO2EuaWEmJihzZChhKT9iLmxpbWl0VG9GaXJzdD1hLmphOmIubGltaXRUb0xhc3Q9YS5qYSk7cmV0dXJuIGJ9aC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBCKGNlKHRoaXMpKX07ZnVuY3Rpb24gZmUoYSxiKXt0aGlzLnlkPWE7dGhpcy5jYz1ifWZlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dyh0aGlzLnlkLGEpO2lmKCFiKXRocm93IEVycm9yKFwiTm8gaW5kZXggZGVmaW5lZCBmb3IgXCIrYSk7cmV0dXJuIGI9PT1QZD9udWxsOmJ9O2Z1bmN0aW9uIGdlKGEsYixjKXt2YXIgZD1uYShhLnlkLGZ1bmN0aW9uKGQsZil7dmFyIGc9dyhhLmNjLGYpO0ooZyxcIk1pc3NpbmcgaW5kZXggaW1wbGVtZW50YXRpb24gZm9yIFwiK2YpO2lmKGQ9PT1QZCl7aWYoZy5IYyhiLlMpKXtmb3IodmFyIGs9W10sbD1jLldiKFFiKSxtPUgobCk7bTspbS5uYW1lIT1iLm5hbWUmJmsucHVzaChtKSxtPUgobCk7ay5wdXNoKGIpO3JldHVybiBoZShrLHVkKGcpKX1yZXR1cm4gUGR9Zz1jLmdldChiLm5hbWUpO2s9ZDtnJiYoaz1rLnJlbW92ZShuZXcgRShiLm5hbWUsZykpKTtyZXR1cm4gay5OYShiLGIuUyl9KTtyZXR1cm4gbmV3IGZlKGQsYS5jYyl9XG5mdW5jdGlvbiBpZShhLGIsYyl7dmFyIGQ9bmEoYS55ZCxmdW5jdGlvbihhKXtpZihhPT09UGQpcmV0dXJuIGE7dmFyIGQ9Yy5nZXQoYi5uYW1lKTtyZXR1cm4gZD9hLnJlbW92ZShuZXcgRShiLm5hbWUsZCkpOmF9KTtyZXR1cm4gbmV3IGZlKGQsYS5jYyl9dmFyIGplPW5ldyBmZSh7XCIucHJpb3JpdHlcIjpQZH0se1wiLnByaW9yaXR5XCI6TX0pO2Z1bmN0aW9uIHRjKGEsYil7dGhpcy5DPWE7SihuKHRoaXMuQykmJm51bGwhPT10aGlzLkMsXCJMZWFmTm9kZSBzaG91bGRuJ3QgYmUgY3JlYXRlZCB3aXRoIG51bGwvdW5kZWZpbmVkIHZhbHVlLlwiKTt0aGlzLmJhPWJ8fEM7a2UodGhpcy5iYSk7dGhpcy5CYj1udWxsfWg9dGMucHJvdG90eXBlO2guTj1mdW5jdGlvbigpe3JldHVybiEwfTtoLkE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYX07aC5kYT1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IHRjKHRoaXMuQyxhKX07aC5NPWZ1bmN0aW9uKGEpe3JldHVyblwiLnByaW9yaXR5XCI9PT1hP3RoaXMuYmE6Q307aC5vYT1mdW5jdGlvbihhKXtyZXR1cm4gYS5lKCk/dGhpczpcIi5wcmlvcml0eVwiPT09TyhhKT90aGlzLmJhOkN9O2guSGE9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aC5xZj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtcbmguUT1mdW5jdGlvbihhLGIpe3JldHVyblwiLnByaW9yaXR5XCI9PT1hP3RoaXMuZGEoYik6Yi5lKCkmJlwiLnByaW9yaXR5XCIhPT1hP3RoaXM6Qy5RKGEsYikuZGEodGhpcy5iYSl9O2guRz1mdW5jdGlvbihhLGIpe3ZhciBjPU8oYSk7aWYobnVsbD09PWMpcmV0dXJuIGI7aWYoYi5lKCkmJlwiLnByaW9yaXR5XCIhPT1jKXJldHVybiB0aGlzO0ooXCIucHJpb3JpdHlcIiE9PWN8fDE9PT11YyhhKSxcIi5wcmlvcml0eSBtdXN0IGJlIHRoZSBsYXN0IHRva2VuIGluIGEgcGF0aFwiKTtyZXR1cm4gdGhpcy5RKGMsQy5HKEcoYSksYikpfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aC5EYj1mdW5jdGlvbigpe3JldHVybiAwfTtoLks9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJiF0aGlzLkEoKS5lKCk/e1wiLnZhbHVlXCI6dGhpcy5CYSgpLFwiLnByaW9yaXR5XCI6dGhpcy5BKCkuSygpfTp0aGlzLkJhKCl9O1xuaC5oYXNoPWZ1bmN0aW9uKCl7aWYobnVsbD09PXRoaXMuQmIpe3ZhciBhPVwiXCI7dGhpcy5iYS5lKCl8fChhKz1cInByaW9yaXR5OlwiK2xlKHRoaXMuYmEuSygpKStcIjpcIik7dmFyIGI9dHlwZW9mIHRoaXMuQyxhPWErKGIrXCI6XCIpLGE9XCJudW1iZXJcIj09PWI/YStaYyh0aGlzLkMpOmErdGhpcy5DO3RoaXMuQmI9SmMoYSl9cmV0dXJuIHRoaXMuQmJ9O2guQmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DfTtoLkNjPWZ1bmN0aW9uKGEpe2lmKGE9PT1DKXJldHVybiAxO2lmKGEgaW5zdGFuY2VvZiBUKXJldHVybi0xO0ooYS5OKCksXCJVbmtub3duIG5vZGUgdHlwZVwiKTt2YXIgYj10eXBlb2YgYS5DLGM9dHlwZW9mIHRoaXMuQyxkPU5hKG1lLGIpLGU9TmEobWUsYyk7SigwPD1kLFwiVW5rbm93biBsZWFmIHR5cGU6IFwiK2IpO0ooMDw9ZSxcIlVua25vd24gbGVhZiB0eXBlOiBcIitjKTtyZXR1cm4gZD09PWU/XCJvYmplY3RcIj09PWM/MDp0aGlzLkM8YS5DPy0xOnRoaXMuQz09PWEuQz8wOjE6ZS1kfTtcbnZhciBtZT1bXCJvYmplY3RcIixcImJvb2xlYW5cIixcIm51bWJlclwiLFwic3RyaW5nXCJdO3RjLnByb3RvdHlwZS5tYj1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0Yy5wcm90b3R5cGUuSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07dGMucHJvdG90eXBlLlo9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT10aGlzPyEwOmEuTigpP3RoaXMuQz09PWEuQyYmdGhpcy5iYS5aKGEuYmEpOiExfTt0Yy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gQih0aGlzLksoITApKX07ZnVuY3Rpb24gVChhLGIsYyl7dGhpcy5tPWE7KHRoaXMuYmE9YikmJmtlKHRoaXMuYmEpO2EuZSgpJiZKKCF0aGlzLmJhfHx0aGlzLmJhLmUoKSxcIkFuIGVtcHR5IG5vZGUgY2Fubm90IGhhdmUgYSBwcmlvcml0eVwiKTt0aGlzLndiPWM7dGhpcy5CYj1udWxsfWg9VC5wcm90b3R5cGU7aC5OPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2guQT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhfHxDfTtoLmRhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm0uZSgpP3RoaXM6bmV3IFQodGhpcy5tLGEsdGhpcy53Yil9O2guTT1mdW5jdGlvbihhKXtpZihcIi5wcmlvcml0eVwiPT09YSlyZXR1cm4gdGhpcy5BKCk7YT10aGlzLm0uZ2V0KGEpO3JldHVybiBudWxsPT09YT9DOmF9O2gub2E9ZnVuY3Rpb24oYSl7dmFyIGI9TyhhKTtyZXR1cm4gbnVsbD09PWI/dGhpczp0aGlzLk0oYikub2EoRyhhKSl9O2guSGE9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPT10aGlzLm0uZ2V0KGEpfTtcbmguUT1mdW5jdGlvbihhLGIpe0ooYixcIldlIHNob3VsZCBhbHdheXMgYmUgcGFzc2luZyBzbmFwc2hvdCBub2Rlc1wiKTtpZihcIi5wcmlvcml0eVwiPT09YSlyZXR1cm4gdGhpcy5kYShiKTt2YXIgYz1uZXcgRShhLGIpLGQsZTtiLmUoKT8oZD10aGlzLm0ucmVtb3ZlKGEpLGM9aWUodGhpcy53YixjLHRoaXMubSkpOihkPXRoaXMubS5OYShhLGIpLGM9Z2UodGhpcy53YixjLHRoaXMubSkpO2U9ZC5lKCk/Qzp0aGlzLmJhO3JldHVybiBuZXcgVChkLGUsYyl9O2guRz1mdW5jdGlvbihhLGIpe3ZhciBjPU8oYSk7aWYobnVsbD09PWMpcmV0dXJuIGI7SihcIi5wcmlvcml0eVwiIT09TyhhKXx8MT09PXVjKGEpLFwiLnByaW9yaXR5IG11c3QgYmUgdGhlIGxhc3QgdG9rZW4gaW4gYSBwYXRoXCIpO3ZhciBkPXRoaXMuTShjKS5HKEcoYSksYik7cmV0dXJuIHRoaXMuUShjLGQpfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tLmUoKX07aC5EYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm0uY291bnQoKX07XG52YXIgbmU9L14oMHxbMS05XVxcZCopJC87aD1ULnByb3RvdHlwZTtoLks9ZnVuY3Rpb24oYSl7aWYodGhpcy5lKCkpcmV0dXJuIG51bGw7dmFyIGI9e30sYz0wLGQ9MCxlPSEwO3RoaXMuVShNLGZ1bmN0aW9uKGYsZyl7YltmXT1nLksoYSk7YysrO2UmJm5lLnRlc3QoZik/ZD1NYXRoLm1heChkLE51bWJlcihmKSk6ZT0hMX0pO2lmKCFhJiZlJiZkPDIqYyl7dmFyIGY9W10sZztmb3IoZyBpbiBiKWZbZ109YltnXTtyZXR1cm4gZn1hJiYhdGhpcy5BKCkuZSgpJiYoYltcIi5wcmlvcml0eVwiXT10aGlzLkEoKS5LKCkpO3JldHVybiBifTtoLmhhc2g9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5CYil7dmFyIGE9XCJcIjt0aGlzLkEoKS5lKCl8fChhKz1cInByaW9yaXR5OlwiK2xlKHRoaXMuQSgpLksoKSkrXCI6XCIpO3RoaXMuVShNLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5oYXNoKCk7XCJcIiE9PWQmJihhKz1cIjpcIitiK1wiOlwiK2QpfSk7dGhpcy5CYj1cIlwiPT09YT9cIlwiOkpjKGEpfXJldHVybiB0aGlzLkJifTtcbmgucWY9ZnVuY3Rpb24oYSxiLGMpe3JldHVybihjPW9lKHRoaXMsYykpPyhhPWNjKGMsbmV3IEUoYSxiKSkpP2EubmFtZTpudWxsOmNjKHRoaXMubSxhKX07ZnVuY3Rpb24gd2QoYSxiKXt2YXIgYztjPShjPW9lKGEsYikpPyhjPWMuUmMoKSkmJmMubmFtZTphLm0uUmMoKTtyZXR1cm4gYz9uZXcgRShjLGEubS5nZXQoYykpOm51bGx9ZnVuY3Rpb24geGQoYSxiKXt2YXIgYztjPShjPW9lKGEsYikpPyhjPWMuZWMoKSkmJmMubmFtZTphLm0uZWMoKTtyZXR1cm4gYz9uZXcgRShjLGEubS5nZXQoYykpOm51bGx9aC5VPWZ1bmN0aW9uKGEsYil7dmFyIGM9b2UodGhpcyxhKTtyZXR1cm4gYz9jLmhhKGZ1bmN0aW9uKGEpe3JldHVybiBiKGEubmFtZSxhLlMpfSk6dGhpcy5tLmhhKGIpfTtoLldiPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLlhiKGEuU2MoKSxhKX07XG5oLlhiPWZ1bmN0aW9uKGEsYil7dmFyIGM9b2UodGhpcyxiKTtpZihjKXJldHVybiBjLlhiKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTtmb3IodmFyIGM9dGhpcy5tLlhiKGEubmFtZSxRYiksZD1lYyhjKTtudWxsIT1kJiYwPmIuY29tcGFyZShkLGEpOylIKGMpLGQ9ZWMoYyk7cmV0dXJuIGN9O2gucmY9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuWmIoYS5QYygpLGEpfTtoLlpiPWZ1bmN0aW9uKGEsYil7dmFyIGM9b2UodGhpcyxiKTtpZihjKXJldHVybiBjLlpiKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTtmb3IodmFyIGM9dGhpcy5tLlpiKGEubmFtZSxRYiksZD1lYyhjKTtudWxsIT1kJiYwPGIuY29tcGFyZShkLGEpOylIKGMpLGQ9ZWMoYyk7cmV0dXJuIGN9O2guQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZSgpP2EuZSgpPzA6LTE6YS5OKCl8fGEuZSgpPzE6YT09PVNkPy0xOjB9O1xuaC5tYj1mdW5jdGlvbihhKXtpZihhPT09VmR8fHRhKHRoaXMud2IuY2MsYS50b1N0cmluZygpKSlyZXR1cm4gdGhpczt2YXIgYj10aGlzLndiLGM9dGhpcy5tO0ooYSE9PVZkLFwiS2V5SW5kZXggYWx3YXlzIGV4aXN0cyBhbmQgaXNuJ3QgbWVhbnQgdG8gYmUgYWRkZWQgdG8gdGhlIEluZGV4TWFwLlwiKTtmb3IodmFyIGQ9W10sZT0hMSxjPWMuV2IoUWIpLGY9SChjKTtmOyllPWV8fGEuSGMoZi5TKSxkLnB1c2goZiksZj1IKGMpO2Q9ZT9oZShkLHVkKGEpKTpQZDtlPWEudG9TdHJpbmcoKTtjPXhhKGIuY2MpO2NbZV09YTthPXhhKGIueWQpO2FbZV09ZDtyZXR1cm4gbmV3IFQodGhpcy5tLHRoaXMuYmEsbmV3IGZlKGEsYykpfTtoLkljPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09VmR8fHRhKHRoaXMud2IuY2MsYS50b1N0cmluZygpKX07XG5oLlo9ZnVuY3Rpb24oYSl7aWYoYT09PXRoaXMpcmV0dXJuITA7aWYoYS5OKCkpcmV0dXJuITE7aWYodGhpcy5BKCkuWihhLkEoKSkmJnRoaXMubS5jb3VudCgpPT09YS5tLmNvdW50KCkpe3ZhciBiPXRoaXMuV2IoTSk7YT1hLldiKE0pO2Zvcih2YXIgYz1IKGIpLGQ9SChhKTtjJiZkOyl7aWYoYy5uYW1lIT09ZC5uYW1lfHwhYy5TLlooZC5TKSlyZXR1cm4hMTtjPUgoYik7ZD1IKGEpfXJldHVybiBudWxsPT09YyYmbnVsbD09PWR9cmV0dXJuITF9O2Z1bmN0aW9uIG9lKGEsYil7cmV0dXJuIGI9PT1WZD9udWxsOmEud2IuZ2V0KGIudG9TdHJpbmcoKSl9aC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBCKHRoaXMuSyghMCkpfTtmdW5jdGlvbiBMKGEsYil7aWYobnVsbD09PWEpcmV0dXJuIEM7dmFyIGM9bnVsbDtcIm9iamVjdFwiPT09dHlwZW9mIGEmJlwiLnByaW9yaXR5XCJpbiBhP2M9YVtcIi5wcmlvcml0eVwiXTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGImJihjPWIpO0oobnVsbD09PWN8fFwic3RyaW5nXCI9PT10eXBlb2YgY3x8XCJudW1iZXJcIj09PXR5cGVvZiBjfHxcIm9iamVjdFwiPT09dHlwZW9mIGMmJlwiLnN2XCJpbiBjLFwiSW52YWxpZCBwcmlvcml0eSB0eXBlIGZvdW5kOiBcIit0eXBlb2YgYyk7XCJvYmplY3RcIj09PXR5cGVvZiBhJiZcIi52YWx1ZVwiaW4gYSYmbnVsbCE9PWFbXCIudmFsdWVcIl0mJihhPWFbXCIudmFsdWVcIl0pO2lmKFwib2JqZWN0XCIhPT10eXBlb2YgYXx8XCIuc3ZcImluIGEpcmV0dXJuIG5ldyB0YyhhLEwoYykpO2lmKGEgaW5zdGFuY2VvZiBBcnJheSl7dmFyIGQ9QyxlPWE7cihlLGZ1bmN0aW9uKGEsYil7aWYodShlLGIpJiZcIi5cIiE9PWIuc3Vic3RyaW5nKDAsMSkpe3ZhciBjPUwoYSk7aWYoYy5OKCl8fCFjLmUoKSlkPVxuZC5RKGIsYyl9fSk7cmV0dXJuIGQuZGEoTChjKSl9dmFyIGY9W10sZz0hMSxrPWE7aGIoayxmdW5jdGlvbihhKXtpZihcInN0cmluZ1wiIT09dHlwZW9mIGF8fFwiLlwiIT09YS5zdWJzdHJpbmcoMCwxKSl7dmFyIGI9TChrW2FdKTtiLmUoKXx8KGc9Z3x8IWIuQSgpLmUoKSxmLnB1c2gobmV3IEUoYSxiKSkpfX0pO2lmKDA9PWYubGVuZ3RoKXJldHVybiBDO3ZhciBsPWhlKGYsUmIsZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZX0sVGIpO2lmKGcpe3ZhciBtPWhlKGYsdWQoTSkpO3JldHVybiBuZXcgVChsLEwoYyksbmV3IGZlKHtcIi5wcmlvcml0eVwiOm19LHtcIi5wcmlvcml0eVwiOk19KSl9cmV0dXJuIG5ldyBUKGwsTChjKSxqZSl9dmFyIHBlPU1hdGgubG9nKDIpO1xuZnVuY3Rpb24gcWUoYSl7dGhpcy5jb3VudD1wYXJzZUludChNYXRoLmxvZyhhKzEpL3BlLDEwKTt0aGlzLmhmPXRoaXMuY291bnQtMTt0aGlzLmJnPWErMSZwYXJzZUludChBcnJheSh0aGlzLmNvdW50KzEpLmpvaW4oXCIxXCIpLDIpfWZ1bmN0aW9uIHJlKGEpe3ZhciBiPSEoYS5iZyYxPDxhLmhmKTthLmhmLS07cmV0dXJuIGJ9XG5mdW5jdGlvbiBoZShhLGIsYyxkKXtmdW5jdGlvbiBlKGIsZCl7dmFyIGY9ZC1iO2lmKDA9PWYpcmV0dXJuIG51bGw7aWYoMT09Zil7dmFyIG09YVtiXSx2PWM/YyhtKTptO3JldHVybiBuZXcgZmModixtLlMsITEsbnVsbCxudWxsKX12YXIgbT1wYXJzZUludChmLzIsMTApK2IsZj1lKGIsbSkseT1lKG0rMSxkKSxtPWFbbV0sdj1jP2MobSk6bTtyZXR1cm4gbmV3IGZjKHYsbS5TLCExLGYseSl9YS5zb3J0KGIpO3ZhciBmPWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGQoYixnKXt2YXIgaz12LWIseT12O3YtPWI7dmFyIHk9ZShrKzEseSksaz1hW2tdLEk9Yz9jKGspOmsseT1uZXcgZmMoSSxrLlMsZyxudWxsLHkpO2Y/Zi5sZWZ0PXk6bT15O2Y9eX1mb3IodmFyIGY9bnVsbCxtPW51bGwsdj1hLmxlbmd0aCx5PTA7eTxiLmNvdW50OysreSl7dmFyIEk9cmUoYiksdmQ9TWF0aC5wb3coMixiLmNvdW50LSh5KzEpKTtJP2QodmQsITEpOihkKHZkLCExKSxkKHZkLCEwKSl9cmV0dXJuIG19KG5ldyBxZShhLmxlbmd0aCkpO1xucmV0dXJuIG51bGwhPT1mP25ldyBhYyhkfHxiLGYpOm5ldyBhYyhkfHxiKX1mdW5jdGlvbiBsZShhKXtyZXR1cm5cIm51bWJlclwiPT09dHlwZW9mIGE/XCJudW1iZXI6XCIrWmMoYSk6XCJzdHJpbmc6XCIrYX1mdW5jdGlvbiBrZShhKXtpZihhLk4oKSl7dmFyIGI9YS5LKCk7SihcInN0cmluZ1wiPT09dHlwZW9mIGJ8fFwibnVtYmVyXCI9PT10eXBlb2YgYnx8XCJvYmplY3RcIj09PXR5cGVvZiBiJiZ1KGIsXCIuc3ZcIiksXCJQcmlvcml0eSBtdXN0IGJlIGEgc3RyaW5nIG9yIG51bWJlci5cIil9ZWxzZSBKKGE9PT1TZHx8YS5lKCksXCJwcmlvcml0eSBvZiB1bmV4cGVjdGVkIHR5cGUuXCIpO0ooYT09PVNkfHxhLkEoKS5lKCksXCJQcmlvcml0eSBub2RlcyBjYW4ndCBoYXZlIGEgcHJpb3JpdHkgb2YgdGhlaXIgb3duLlwiKX12YXIgQz1uZXcgVChuZXcgYWMoVGIpLG51bGwsamUpO2Z1bmN0aW9uIHNlKCl7VC5jYWxsKHRoaXMsbmV3IGFjKFRiKSxDLGplKX1tYShzZSxUKTtoPXNlLnByb3RvdHlwZTtcbmguQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT10aGlzPzA6MX07aC5aPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpc307aC5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2guTT1mdW5jdGlvbigpe3JldHVybiBDfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07dmFyIFNkPW5ldyBzZSxRZD1uZXcgRShcIltNSU5fTkFNRV1cIixDKSxYZD1uZXcgRShcIltNQVhfTkFNRV1cIixTZCk7ZnVuY3Rpb24gSWQoYSxiKXt0aGlzLkQ9YTt0aGlzLlVkPWJ9ZnVuY3Rpb24gRmQoYSxiLGMsZCl7cmV0dXJuIG5ldyBJZChuZXcgc2IoYixjLGQpLGEuVWQpfWZ1bmN0aW9uIEpkKGEpe3JldHVybiBhLkQuJD9hLkQuaigpOm51bGx9SWQucHJvdG90eXBlLnU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5VZH07ZnVuY3Rpb24gdGIoYSl7cmV0dXJuIGEuVWQuJD9hLlVkLmooKTpudWxsfTtmdW5jdGlvbiB0ZShhLGIpe3RoaXMuVj1hO3ZhciBjPWEubixkPW5ldyBsZChjLmcpLGM9ZGUoYyk/bmV3IGxkKGMuZyk6Yy5pYT9uZXcgcmQoYyk6bmV3IG1kKGMpO3RoaXMuR2Y9bmV3IHpkKGMpO3ZhciBlPWIudSgpLGY9Yi5ELGc9ZC50YShDLGUuaigpLG51bGwpLGs9Yy50YShDLGYuaigpLG51bGwpO3RoaXMuS2E9bmV3IElkKG5ldyBzYihrLGYuJCxjLkdhKCkpLG5ldyBzYihnLGUuJCxkLkdhKCkpKTt0aGlzLlphPVtdO3RoaXMuaWc9bmV3IGRkKGEpfWZ1bmN0aW9uIHVlKGEpe3JldHVybiBhLlZ9aD10ZS5wcm90b3R5cGU7aC51PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuS2EudSgpLmooKX07aC5oYj1mdW5jdGlvbihhKXt2YXIgYj10Yih0aGlzLkthKTtyZXR1cm4gYiYmKGRlKHRoaXMuVi5uKXx8IWEuZSgpJiYhYi5NKE8oYSkpLmUoKSk/Yi5vYShhKTpudWxsfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuWmEubGVuZ3RofTtoLk9iPWZ1bmN0aW9uKGEpe3RoaXMuWmEucHVzaChhKX07XG5oLmtiPWZ1bmN0aW9uKGEsYil7dmFyIGM9W107aWYoYil7SihudWxsPT1hLFwiQSBjYW5jZWwgc2hvdWxkIGNhbmNlbCBhbGwgZXZlbnQgcmVnaXN0cmF0aW9ucy5cIik7dmFyIGQ9dGhpcy5WLnBhdGg7T2EodGhpcy5aYSxmdW5jdGlvbihhKXsoYT1hLmZmKGIsZCkpJiZjLnB1c2goYSl9KX1pZihhKXtmb3IodmFyIGU9W10sZj0wO2Y8dGhpcy5aYS5sZW5ndGg7KytmKXt2YXIgZz10aGlzLlphW2ZdO2lmKCFnLm1hdGNoZXMoYSkpZS5wdXNoKGcpO2Vsc2UgaWYoYS5zZigpKXtlPWUuY29uY2F0KHRoaXMuWmEuc2xpY2UoZisxKSk7YnJlYWt9fXRoaXMuWmE9ZX1lbHNlIHRoaXMuWmE9W107cmV0dXJuIGN9O1xuaC5iYj1mdW5jdGlvbihhLGIsYyl7YS50eXBlPT09Q2QmJm51bGwhPT1hLnNvdXJjZS5JYiYmKEoodGIodGhpcy5LYSksXCJXZSBzaG91bGQgYWx3YXlzIGhhdmUgYSBmdWxsIGNhY2hlIGJlZm9yZSBoYW5kbGluZyBtZXJnZXNcIiksSihKZCh0aGlzLkthKSxcIk1pc3NpbmcgZXZlbnQgY2FjaGUsIGV2ZW4gdGhvdWdoIHdlIGhhdmUgYSBzZXJ2ZXIgY2FjaGVcIikpO3ZhciBkPXRoaXMuS2E7YT10aGlzLkdmLmJiKGQsYSxiLGMpO2I9dGhpcy5HZjtjPWEuaGU7SihjLkQuaigpLkljKGIuSS5nKSxcIkV2ZW50IHNuYXAgbm90IGluZGV4ZWRcIik7SihjLnUoKS5qKCkuSWMoYi5JLmcpLFwiU2VydmVyIHNuYXAgbm90IGluZGV4ZWRcIik7SihIYihhLmhlLnUoKSl8fCFIYihkLnUoKSksXCJPbmNlIGEgc2VydmVyIHNuYXAgaXMgY29tcGxldGUsIGl0IHNob3VsZCBuZXZlciBnbyBiYWNrXCIpO3RoaXMuS2E9YS5oZTtyZXR1cm4gdmUodGhpcyxhLmNnLGEuaGUuRC5qKCksbnVsbCl9O1xuZnVuY3Rpb24gd2UoYSxiKXt2YXIgYz1hLkthLkQsZD1bXTtjLmooKS5OKCl8fGMuaigpLlUoTSxmdW5jdGlvbihhLGIpe2QucHVzaChuZXcgRChcImNoaWxkX2FkZGVkXCIsYixhKSl9KTtjLiQmJmQucHVzaChEYihjLmooKSkpO3JldHVybiB2ZShhLGQsYy5qKCksYil9ZnVuY3Rpb24gdmUoYSxiLGMsZCl7cmV0dXJuIGVkKGEuaWcsYixjLGQ/W2RdOmEuWmEpfTtmdW5jdGlvbiB4ZShhLGIsYyl7dGhpcy50eXBlPUNkO3RoaXMuc291cmNlPWE7dGhpcy5wYXRoPWI7dGhpcy5jaGlsZHJlbj1jfXhlLnByb3RvdHlwZS5XYz1mdW5jdGlvbihhKXtpZih0aGlzLnBhdGguZSgpKXJldHVybiBhPXRoaXMuY2hpbGRyZW4uc3VidHJlZShuZXcgSyhhKSksYS5lKCk/bnVsbDphLnZhbHVlP25ldyBVYih0aGlzLnNvdXJjZSxGLGEudmFsdWUpOm5ldyB4ZSh0aGlzLnNvdXJjZSxGLGEpO0ooTyh0aGlzLnBhdGgpPT09YSxcIkNhbid0IGdldCBhIG1lcmdlIGZvciBhIGNoaWxkIG5vdCBvbiB0aGUgcGF0aCBvZiB0aGUgb3BlcmF0aW9uXCIpO3JldHVybiBuZXcgeGUodGhpcy5zb3VyY2UsRyh0aGlzLnBhdGgpLHRoaXMuY2hpbGRyZW4pfTt4ZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk9wZXJhdGlvbihcIit0aGlzLnBhdGgrXCI6IFwiK3RoaXMuc291cmNlLnRvU3RyaW5nKCkrXCIgbWVyZ2U6IFwiK3RoaXMuY2hpbGRyZW4udG9TdHJpbmcoKStcIilcIn07dmFyIFZiPTAsQ2Q9MSxYYj0yLCRiPTM7ZnVuY3Rpb24geWUoYSxiLGMsZCl7dGhpcy52ZT1hO3RoaXMub2Y9Yjt0aGlzLkliPWM7dGhpcy5hZj1kO0ooIWR8fGIsXCJUYWdnZWQgcXVlcmllcyBtdXN0IGJlIGZyb20gc2VydmVyLlwiKX12YXIgWWI9bmV3IHllKCEwLCExLG51bGwsITEpLHplPW5ldyB5ZSghMSwhMCxudWxsLCExKTt5ZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZT9cInVzZXJcIjp0aGlzLmFmP1wic2VydmVyKHF1ZXJ5SUQ9XCIrdGhpcy5JYitcIilcIjpcInNlcnZlclwifTtmdW5jdGlvbiBBZShhLGIpe3RoaXMuZj1PYyhcInA6cmVzdDpcIik7dGhpcy5IPWE7dGhpcy5HYj1iO3RoaXMuRmE9bnVsbDt0aGlzLmFhPXt9fWZ1bmN0aW9uIEJlKGEsYil7aWYobihiKSlyZXR1cm5cInRhZyRcIitiO3ZhciBjPWEubjtKKGRlKGMpJiZjLmc9PU0sXCJzaG91bGQgaGF2ZSBhIHRhZyBpZiBpdCdzIG5vdCBhIGRlZmF1bHQgcXVlcnkuXCIpO3JldHVybiBhLnBhdGgudG9TdHJpbmcoKX1oPUFlLnByb3RvdHlwZTtcbmgueGY9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5wYXRoLnRvU3RyaW5nKCk7dGhpcy5mKFwiTGlzdGVuIGNhbGxlZCBmb3IgXCIrZStcIiBcIithLndhKCkpO3ZhciBmPUJlKGEsYyksZz17fTt0aGlzLmFhW2ZdPWc7YT1lZShhLm4pO3ZhciBrPXRoaXM7Q2UodGhpcyxlK1wiLmpzb25cIixhLGZ1bmN0aW9uKGEsYil7dmFyIHY9Yjs0MDQ9PT1hJiYoYT12PW51bGwpO251bGw9PT1hJiZrLkdiKGUsdiwhMSxjKTt3KGsuYWEsZik9PT1nJiZkKGE/NDAxPT1hP1wicGVybWlzc2lvbl9kZW5pZWRcIjpcInJlc3RfZXJyb3I6XCIrYTpcIm9rXCIsbnVsbCl9KX07aC5PZj1mdW5jdGlvbihhLGIpe3ZhciBjPUJlKGEsYik7ZGVsZXRlIHRoaXMuYWFbY119O2guUD1mdW5jdGlvbihhLGIpe3RoaXMuRmE9YTt2YXIgYz1hZChhKSxkPWMuZGF0YSxjPWMuQWMmJmMuQWMuZXhwO2ImJmIoXCJva1wiLHthdXRoOmQsZXhwaXJlczpjfSl9O2guZWU9ZnVuY3Rpb24oYSl7dGhpcy5GYT1udWxsO2EoXCJva1wiLG51bGwpfTtcbmguTGU9ZnVuY3Rpb24oKXt9O2guQmY9ZnVuY3Rpb24oKXt9O2guR2Q9ZnVuY3Rpb24oKXt9O2gucHV0PWZ1bmN0aW9uKCl7fTtoLnlmPWZ1bmN0aW9uKCl7fTtoLlRlPWZ1bmN0aW9uKCl7fTtcbmZ1bmN0aW9uIENlKGEsYixjLGQpe2M9Y3x8e307Yy5mb3JtYXQ9XCJleHBvcnRcIjthLkZhJiYoYy5hdXRoPWEuRmEpO3ZhciBlPShhLkgubGI/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSthLkguaG9zdCtiK1wiP1wiK2piKGMpO2EuZihcIlNlbmRpbmcgUkVTVCByZXF1ZXN0IGZvciBcIitlKTt2YXIgZj1uZXcgWE1MSHR0cFJlcXVlc3Q7Zi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZihkJiY0PT09Zi5yZWFkeVN0YXRlKXthLmYoXCJSRVNUIFJlc3BvbnNlIGZvciBcIitlK1wiIHJlY2VpdmVkLiBzdGF0dXM6XCIsZi5zdGF0dXMsXCJyZXNwb25zZTpcIixmLnJlc3BvbnNlVGV4dCk7dmFyIGI9bnVsbDtpZigyMDA8PWYuc3RhdHVzJiYzMDA+Zi5zdGF0dXMpe3RyeXtiPW1iKGYucmVzcG9uc2VUZXh0KX1jYXRjaChjKXtRKFwiRmFpbGVkIHRvIHBhcnNlIEpTT04gcmVzcG9uc2UgZm9yIFwiK2UrXCI6IFwiK2YucmVzcG9uc2VUZXh0KX1kKG51bGwsYil9ZWxzZSA0MDEhPT1mLnN0YXR1cyYmNDA0IT09XG5mLnN0YXR1cyYmUShcIkdvdCB1bnN1Y2Nlc3NmdWwgUkVTVCByZXNwb25zZSBmb3IgXCIrZStcIiBTdGF0dXM6IFwiK2Yuc3RhdHVzKSxkKGYuc3RhdHVzKTtkPW51bGx9fTtmLm9wZW4oXCJHRVRcIixlLCEwKTtmLnNlbmQoKX07ZnVuY3Rpb24gRGUoYSxiKXt0aGlzLnZhbHVlPWE7dGhpcy5jaGlsZHJlbj1ifHxFZX12YXIgRWU9bmV3IGFjKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1iPzA6YTxiPy0xOjF9KTtmdW5jdGlvbiBGZShhKXt2YXIgYj1OZDtyKGEsZnVuY3Rpb24oYSxkKXtiPWIuc2V0KG5ldyBLKGQpLGEpfSk7cmV0dXJuIGJ9aD1EZS5wcm90b3R5cGU7aC5lPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLnZhbHVlJiZ0aGlzLmNoaWxkcmVuLmUoKX07ZnVuY3Rpb24gR2UoYSxiLGMpe2lmKG51bGwhPWEudmFsdWUmJmMoYS52YWx1ZSkpcmV0dXJue3BhdGg6Rix2YWx1ZTphLnZhbHVlfTtpZihiLmUoKSlyZXR1cm4gbnVsbDt2YXIgZD1PKGIpO2E9YS5jaGlsZHJlbi5nZXQoZCk7cmV0dXJuIG51bGwhPT1hPyhiPUdlKGEsRyhiKSxjKSxudWxsIT1iP3twYXRoOihuZXcgSyhkKSkudyhiLnBhdGgpLHZhbHVlOmIudmFsdWV9Om51bGwpOm51bGx9XG5mdW5jdGlvbiBIZShhLGIpe3JldHVybiBHZShhLGIsZnVuY3Rpb24oKXtyZXR1cm4hMH0pfWguc3VidHJlZT1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gdGhpczt2YXIgYj10aGlzLmNoaWxkcmVuLmdldChPKGEpKTtyZXR1cm4gbnVsbCE9PWI/Yi5zdWJ0cmVlKEcoYSkpOk5kfTtoLnNldD1mdW5jdGlvbihhLGIpe2lmKGEuZSgpKXJldHVybiBuZXcgRGUoYix0aGlzLmNoaWxkcmVuKTt2YXIgYz1PKGEpLGQ9KHRoaXMuY2hpbGRyZW4uZ2V0KGMpfHxOZCkuc2V0KEcoYSksYiksYz10aGlzLmNoaWxkcmVuLk5hKGMsZCk7cmV0dXJuIG5ldyBEZSh0aGlzLnZhbHVlLGMpfTtcbmgucmVtb3ZlPWZ1bmN0aW9uKGEpe2lmKGEuZSgpKXJldHVybiB0aGlzLmNoaWxkcmVuLmUoKT9OZDpuZXcgRGUobnVsbCx0aGlzLmNoaWxkcmVuKTt2YXIgYj1PKGEpLGM9dGhpcy5jaGlsZHJlbi5nZXQoYik7cmV0dXJuIGM/KGE9Yy5yZW1vdmUoRyhhKSksYj1hLmUoKT90aGlzLmNoaWxkcmVuLnJlbW92ZShiKTp0aGlzLmNoaWxkcmVuLk5hKGIsYSksbnVsbD09PXRoaXMudmFsdWUmJmIuZSgpP05kOm5ldyBEZSh0aGlzLnZhbHVlLGIpKTp0aGlzfTtoLmdldD1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gdGhpcy52YWx1ZTt2YXIgYj10aGlzLmNoaWxkcmVuLmdldChPKGEpKTtyZXR1cm4gYj9iLmdldChHKGEpKTpudWxsfTtcbmZ1bmN0aW9uIE1kKGEsYixjKXtpZihiLmUoKSlyZXR1cm4gYzt2YXIgZD1PKGIpO2I9TWQoYS5jaGlsZHJlbi5nZXQoZCl8fE5kLEcoYiksYyk7ZD1iLmUoKT9hLmNoaWxkcmVuLnJlbW92ZShkKTphLmNoaWxkcmVuLk5hKGQsYik7cmV0dXJuIG5ldyBEZShhLnZhbHVlLGQpfWZ1bmN0aW9uIEllKGEsYil7cmV0dXJuIEplKGEsRixiKX1mdW5jdGlvbiBKZShhLGIsYyl7dmFyIGQ9e307YS5jaGlsZHJlbi5oYShmdW5jdGlvbihhLGYpe2RbYV09SmUoZixiLncoYSksYyl9KTtyZXR1cm4gYyhiLGEudmFsdWUsZCl9ZnVuY3Rpb24gS2UoYSxiLGMpe3JldHVybiBMZShhLGIsRixjKX1mdW5jdGlvbiBMZShhLGIsYyxkKXt2YXIgZT1hLnZhbHVlP2QoYyxhLnZhbHVlKTohMTtpZihlKXJldHVybiBlO2lmKGIuZSgpKXJldHVybiBudWxsO2U9TyhiKTtyZXR1cm4oYT1hLmNoaWxkcmVuLmdldChlKSk/TGUoYSxHKGIpLGMudyhlKSxkKTpudWxsfVxuZnVuY3Rpb24gTWUoYSxiLGMpe3ZhciBkPUY7aWYoIWIuZSgpKXt2YXIgZT0hMDthLnZhbHVlJiYoZT1jKGQsYS52YWx1ZSkpOyEwPT09ZSYmKGU9TyhiKSwoYT1hLmNoaWxkcmVuLmdldChlKSkmJk5lKGEsRyhiKSxkLncoZSksYykpfX1mdW5jdGlvbiBOZShhLGIsYyxkKXtpZihiLmUoKSlyZXR1cm4gYTthLnZhbHVlJiZkKGMsYS52YWx1ZSk7dmFyIGU9TyhiKTtyZXR1cm4oYT1hLmNoaWxkcmVuLmdldChlKSk/TmUoYSxHKGIpLGMudyhlKSxkKTpOZH1mdW5jdGlvbiBLZChhLGIpe09lKGEsRixiKX1mdW5jdGlvbiBPZShhLGIsYyl7YS5jaGlsZHJlbi5oYShmdW5jdGlvbihhLGUpe09lKGUsYi53KGEpLGMpfSk7YS52YWx1ZSYmYyhiLGEudmFsdWUpfWZ1bmN0aW9uIFBlKGEsYil7YS5jaGlsZHJlbi5oYShmdW5jdGlvbihhLGQpe2QudmFsdWUmJmIoYSxkLnZhbHVlKX0pfXZhciBOZD1uZXcgRGUobnVsbCk7XG5EZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT17fTtLZCh0aGlzLGZ1bmN0aW9uKGIsYyl7YVtiLnRvU3RyaW5nKCldPWMudG9TdHJpbmcoKX0pO3JldHVybiBCKGEpfTtmdW5jdGlvbiBRZShhKXt0aGlzLlc9YX12YXIgUmU9bmV3IFFlKG5ldyBEZShudWxsKSk7ZnVuY3Rpb24gU2UoYSxiLGMpe2lmKGIuZSgpKXJldHVybiBuZXcgUWUobmV3IERlKGMpKTt2YXIgZD1IZShhLlcsYik7aWYobnVsbCE9ZCl7dmFyIGU9ZC5wYXRoLGQ9ZC52YWx1ZTtiPU4oZSxiKTtkPWQuRyhiLGMpO3JldHVybiBuZXcgUWUoYS5XLnNldChlLGQpKX1hPU1kKGEuVyxiLG5ldyBEZShjKSk7cmV0dXJuIG5ldyBRZShhKX1mdW5jdGlvbiBUZShhLGIsYyl7dmFyIGQ9YTtoYihjLGZ1bmN0aW9uKGEsYyl7ZD1TZShkLGIudyhhKSxjKX0pO3JldHVybiBkfVFlLnByb3RvdHlwZS5PZD1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gUmU7YT1NZCh0aGlzLlcsYSxOZCk7cmV0dXJuIG5ldyBRZShhKX07ZnVuY3Rpb24gVWUoYSxiKXt2YXIgYz1IZShhLlcsYik7cmV0dXJuIG51bGwhPWM/YS5XLmdldChjLnBhdGgpLm9hKE4oYy5wYXRoLGIpKTpudWxsfVxuZnVuY3Rpb24gVmUoYSl7dmFyIGI9W10sYz1hLlcudmFsdWU7bnVsbCE9Yz9jLk4oKXx8Yy5VKE0sZnVuY3Rpb24oYSxjKXtiLnB1c2gobmV3IEUoYSxjKSl9KTphLlcuY2hpbGRyZW4uaGEoZnVuY3Rpb24oYSxjKXtudWxsIT1jLnZhbHVlJiZiLnB1c2gobmV3IEUoYSxjLnZhbHVlKSl9KTtyZXR1cm4gYn1mdW5jdGlvbiBXZShhLGIpe2lmKGIuZSgpKXJldHVybiBhO3ZhciBjPVVlKGEsYik7cmV0dXJuIG51bGwhPWM/bmV3IFFlKG5ldyBEZShjKSk6bmV3IFFlKGEuVy5zdWJ0cmVlKGIpKX1RZS5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlcuZSgpfTtRZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oYSl7cmV0dXJuIFhlKEYsdGhpcy5XLGEpfTtcbmZ1bmN0aW9uIFhlKGEsYixjKXtpZihudWxsIT1iLnZhbHVlKXJldHVybiBjLkcoYSxiLnZhbHVlKTt2YXIgZD1udWxsO2IuY2hpbGRyZW4uaGEoZnVuY3Rpb24oYixmKXtcIi5wcmlvcml0eVwiPT09Yj8oSihudWxsIT09Zi52YWx1ZSxcIlByaW9yaXR5IHdyaXRlcyBtdXN0IGFsd2F5cyBiZSBsZWFmIG5vZGVzXCIpLGQ9Zi52YWx1ZSk6Yz1YZShhLncoYiksZixjKX0pO2Mub2EoYSkuZSgpfHxudWxsPT09ZHx8KGM9Yy5HKGEudyhcIi5wcmlvcml0eVwiKSxkKSk7cmV0dXJuIGN9O2Z1bmN0aW9uIFllKCl7dGhpcy5UPVJlO3RoaXMuemE9W107dGhpcy5MYz0tMX1oPVllLnByb3RvdHlwZTtcbmguT2Q9ZnVuY3Rpb24oYSl7dmFyIGI9VWEodGhpcy56YSxmdW5jdGlvbihiKXtyZXR1cm4gYi5pZT09PWF9KTtKKDA8PWIsXCJyZW1vdmVXcml0ZSBjYWxsZWQgd2l0aCBub25leGlzdGVudCB3cml0ZUlkLlwiKTt2YXIgYz10aGlzLnphW2JdO3RoaXMuemEuc3BsaWNlKGIsMSk7Zm9yKHZhciBkPWMudmlzaWJsZSxlPSExLGY9dGhpcy56YS5sZW5ndGgtMTtkJiYwPD1mOyl7dmFyIGc9dGhpcy56YVtmXTtnLnZpc2libGUmJihmPj1iJiZaZShnLGMucGF0aCk/ZD0hMTpjLnBhdGguY29udGFpbnMoZy5wYXRoKSYmKGU9ITApKTtmLS19aWYoZCl7aWYoZSl0aGlzLlQ9JGUodGhpcy56YSxhZixGKSx0aGlzLkxjPTA8dGhpcy56YS5sZW5ndGg/dGhpcy56YVt0aGlzLnphLmxlbmd0aC0xXS5pZTotMTtlbHNlIGlmKGMuSWEpdGhpcy5UPXRoaXMuVC5PZChjLnBhdGgpO2Vsc2V7dmFyIGs9dGhpcztyKGMuY2hpbGRyZW4sZnVuY3Rpb24oYSxiKXtrLlQ9ay5ULk9kKGMucGF0aC53KGIpKX0pfXJldHVybiBjLnBhdGh9cmV0dXJuIG51bGx9O1xuaC51YT1mdW5jdGlvbihhLGIsYyxkKXtpZihjfHxkKXt2YXIgZT1XZSh0aGlzLlQsYSk7cmV0dXJuIWQmJmUuZSgpP2I6ZHx8bnVsbCE9Ynx8bnVsbCE9VWUoZSxGKT8oZT0kZSh0aGlzLnphLGZ1bmN0aW9uKGIpe3JldHVybihiLnZpc2libGV8fGQpJiYoIWN8fCEoMDw9TmEoYyxiLmllKSkpJiYoYi5wYXRoLmNvbnRhaW5zKGEpfHxhLmNvbnRhaW5zKGIucGF0aCkpfSxhKSxiPWJ8fEMsZS5hcHBseShiKSk6bnVsbH1lPVVlKHRoaXMuVCxhKTtpZihudWxsIT1lKXJldHVybiBlO2U9V2UodGhpcy5ULGEpO3JldHVybiBlLmUoKT9iOm51bGwhPWJ8fG51bGwhPVVlKGUsRik/KGI9Ynx8QyxlLmFwcGx5KGIpKTpudWxsfTtcbmgueGM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1DLGQ9VWUodGhpcy5ULGEpO2lmKGQpZC5OKCl8fGQuVShNLGZ1bmN0aW9uKGEsYil7Yz1jLlEoYSxiKX0pO2Vsc2UgaWYoYil7dmFyIGU9V2UodGhpcy5ULGEpO2IuVShNLGZ1bmN0aW9uKGEsYil7dmFyIGQ9V2UoZSxuZXcgSyhhKSkuYXBwbHkoYik7Yz1jLlEoYSxkKX0pO09hKFZlKGUpLGZ1bmN0aW9uKGEpe2M9Yy5RKGEubmFtZSxhLlMpfSl9ZWxzZSBlPVdlKHRoaXMuVCxhKSxPYShWZShlKSxmdW5jdGlvbihhKXtjPWMuUShhLm5hbWUsYS5TKX0pO3JldHVybiBjfTtoLmhkPWZ1bmN0aW9uKGEsYixjLGQpe0ooY3x8ZCxcIkVpdGhlciBleGlzdGluZ0V2ZW50U25hcCBvciBleGlzdGluZ1NlcnZlclNuYXAgbXVzdCBleGlzdFwiKTthPWEudyhiKTtpZihudWxsIT1VZSh0aGlzLlQsYSkpcmV0dXJuIG51bGw7YT1XZSh0aGlzLlQsYSk7cmV0dXJuIGEuZSgpP2Qub2EoYik6YS5hcHBseShkLm9hKGIpKX07XG5oLlhhPWZ1bmN0aW9uKGEsYixjKXthPWEudyhiKTt2YXIgZD1VZSh0aGlzLlQsYSk7cmV0dXJuIG51bGwhPWQ/ZDpyYihjLGIpP1dlKHRoaXMuVCxhKS5hcHBseShjLmooKS5NKGIpKTpudWxsfTtoLnNjPWZ1bmN0aW9uKGEpe3JldHVybiBVZSh0aGlzLlQsYSl9O2gubWU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnO2E9V2UodGhpcy5ULGEpO2c9VWUoYSxGKTtpZihudWxsPT1nKWlmKG51bGwhPWIpZz1hLmFwcGx5KGIpO2Vsc2UgcmV0dXJuW107Zz1nLm1iKGYpO2lmKGcuZSgpfHxnLk4oKSlyZXR1cm5bXTtiPVtdO2E9dWQoZik7ZT1lP2cuWmIoYyxmKTpnLlhiKGMsZik7Zm9yKGY9SChlKTtmJiZiLmxlbmd0aDxkOykwIT09YShmLGMpJiZiLnB1c2goZiksZj1IKGUpO3JldHVybiBifTtcbmZ1bmN0aW9uIFplKGEsYil7cmV0dXJuIGEuSWE/YS5wYXRoLmNvbnRhaW5zKGIpOiEhdWEoYS5jaGlsZHJlbixmdW5jdGlvbihjLGQpe3JldHVybiBhLnBhdGgudyhkKS5jb250YWlucyhiKX0pfWZ1bmN0aW9uIGFmKGEpe3JldHVybiBhLnZpc2libGV9XG5mdW5jdGlvbiAkZShhLGIsYyl7Zm9yKHZhciBkPVJlLGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YVtlXTtpZihiKGYpKXt2YXIgZz1mLnBhdGg7aWYoZi5JYSljLmNvbnRhaW5zKGcpPyhnPU4oYyxnKSxkPVNlKGQsZyxmLklhKSk6Zy5jb250YWlucyhjKSYmKGc9TihnLGMpLGQ9U2UoZCxGLGYuSWEub2EoZykpKTtlbHNlIGlmKGYuY2hpbGRyZW4paWYoYy5jb250YWlucyhnKSlnPU4oYyxnKSxkPVRlKGQsZyxmLmNoaWxkcmVuKTtlbHNle2lmKGcuY29udGFpbnMoYykpaWYoZz1OKGcsYyksZy5lKCkpZD1UZShkLEYsZi5jaGlsZHJlbik7ZWxzZSBpZihmPXcoZi5jaGlsZHJlbixPKGcpKSlmPWYub2EoRyhnKSksZD1TZShkLEYsZil9ZWxzZSB0aHJvdyBIYyhcIldyaXRlUmVjb3JkIHNob3VsZCBoYXZlIC5zbmFwIG9yIC5jaGlsZHJlblwiKTt9fXJldHVybiBkfWZ1bmN0aW9uIGJmKGEsYil7dGhpcy5NYj1hO3RoaXMuVz1ifWg9YmYucHJvdG90eXBlO1xuaC51YT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuVy51YSh0aGlzLk1iLGEsYixjKX07aC54Yz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5XLnhjKHRoaXMuTWIsYSl9O2guaGQ9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLlcuaGQodGhpcy5NYixhLGIsYyl9O2guc2M9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuVy5zYyh0aGlzLk1iLncoYSkpfTtoLm1lPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIHRoaXMuVy5tZSh0aGlzLk1iLGEsYixjLGQsZSl9O2guWGE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5XLlhhKHRoaXMuTWIsYSxiKX07aC53PWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgYmYodGhpcy5NYi53KGEpLHRoaXMuVyl9O2Z1bmN0aW9uIGNmKCl7dGhpcy55YT17fX1oPWNmLnByb3RvdHlwZTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gd2EodGhpcy55YSl9O2guYmI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuc291cmNlLkliO2lmKG51bGwhPT1kKXJldHVybiBkPXcodGhpcy55YSxkKSxKKG51bGwhPWQsXCJTeW5jVHJlZSBnYXZlIHVzIGFuIG9wIGZvciBhbiBpbnZhbGlkIHF1ZXJ5LlwiKSxkLmJiKGEsYixjKTt2YXIgZT1bXTtyKHRoaXMueWEsZnVuY3Rpb24oZCl7ZT1lLmNvbmNhdChkLmJiKGEsYixjKSl9KTtyZXR1cm4gZX07aC5PYj1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEud2EoKSxnPXcodGhpcy55YSxmKTtpZighZyl7dmFyIGc9Yy51YShlP2Q6bnVsbCksaz0hMTtnP2s9ITA6KGc9ZCBpbnN0YW5jZW9mIFQ/Yy54YyhkKTpDLGs9ITEpO2c9bmV3IHRlKGEsbmV3IElkKG5ldyBzYihnLGssITEpLG5ldyBzYihkLGUsITEpKSk7dGhpcy55YVtmXT1nfWcuT2IoYik7cmV0dXJuIHdlKGcsYil9O1xuaC5rYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS53YSgpLGU9W10sZj1bXSxnPW51bGwhPWRmKHRoaXMpO2lmKFwiZGVmYXVsdFwiPT09ZCl7dmFyIGs9dGhpcztyKHRoaXMueWEsZnVuY3Rpb24oYSxkKXtmPWYuY29uY2F0KGEua2IoYixjKSk7YS5lKCkmJihkZWxldGUgay55YVtkXSxkZShhLlYubil8fGUucHVzaChhLlYpKX0pfWVsc2V7dmFyIGw9dyh0aGlzLnlhLGQpO2wmJihmPWYuY29uY2F0KGwua2IoYixjKSksbC5lKCkmJihkZWxldGUgdGhpcy55YVtkXSxkZShsLlYubil8fGUucHVzaChsLlYpKSl9ZyYmbnVsbD09ZGYodGhpcykmJmUucHVzaChuZXcgVShhLmssYS5wYXRoKSk7cmV0dXJue0hnOmUsamc6Zn19O2Z1bmN0aW9uIGVmKGEpe3JldHVybiBQYShyYShhLnlhKSxmdW5jdGlvbihhKXtyZXR1cm4hZGUoYS5WLm4pfSl9aC5oYj1mdW5jdGlvbihhKXt2YXIgYj1udWxsO3IodGhpcy55YSxmdW5jdGlvbihjKXtiPWJ8fGMuaGIoYSl9KTtyZXR1cm4gYn07XG5mdW5jdGlvbiBmZihhLGIpe2lmKGRlKGIubikpcmV0dXJuIGRmKGEpO3ZhciBjPWIud2EoKTtyZXR1cm4gdyhhLnlhLGMpfWZ1bmN0aW9uIGRmKGEpe3JldHVybiB2YShhLnlhLGZ1bmN0aW9uKGEpe3JldHVybiBkZShhLlYubil9KXx8bnVsbH07ZnVuY3Rpb24gZ2YoYSl7dGhpcy5zYT1OZDt0aGlzLkhiPW5ldyBZZTt0aGlzLiRlPXt9O3RoaXMua2M9e307dGhpcy5NYz1hfWZ1bmN0aW9uIGhmKGEsYixjLGQsZSl7dmFyIGY9YS5IYixnPWU7SihkPmYuTGMsXCJTdGFja2luZyBhbiBvbGRlciB3cml0ZSBvbiB0b3Agb2YgbmV3ZXIgb25lc1wiKTtuKGcpfHwoZz0hMCk7Zi56YS5wdXNoKHtwYXRoOmIsSWE6YyxpZTpkLHZpc2libGU6Z30pO2cmJihmLlQ9U2UoZi5ULGIsYykpO2YuTGM9ZDtyZXR1cm4gZT9qZihhLG5ldyBVYihZYixiLGMpKTpbXX1mdW5jdGlvbiBrZihhLGIsYyxkKXt2YXIgZT1hLkhiO0ooZD5lLkxjLFwiU3RhY2tpbmcgYW4gb2xkZXIgbWVyZ2Ugb24gdG9wIG9mIG5ld2VyIG9uZXNcIik7ZS56YS5wdXNoKHtwYXRoOmIsY2hpbGRyZW46YyxpZTpkLHZpc2libGU6ITB9KTtlLlQ9VGUoZS5ULGIsYyk7ZS5MYz1kO2M9RmUoYyk7cmV0dXJuIGpmKGEsbmV3IHhlKFliLGIsYykpfVxuZnVuY3Rpb24gbGYoYSxiLGMpe2M9Y3x8ITE7Yj1hLkhiLk9kKGIpO3JldHVybiBudWxsPT1iP1tdOmpmKGEsbmV3IFdiKGIsYykpfWZ1bmN0aW9uIG1mKGEsYixjKXtjPUZlKGMpO3JldHVybiBqZihhLG5ldyB4ZSh6ZSxiLGMpKX1mdW5jdGlvbiBuZihhLGIsYyxkKXtkPW9mKGEsZCk7aWYobnVsbCE9ZCl7dmFyIGU9cGYoZCk7ZD1lLnBhdGg7ZT1lLkliO2I9TihkLGIpO2M9bmV3IFViKG5ldyB5ZSghMSwhMCxlLCEwKSxiLGMpO3JldHVybiBxZihhLGQsYyl9cmV0dXJuW119ZnVuY3Rpb24gcmYoYSxiLGMsZCl7aWYoZD1vZihhLGQpKXt2YXIgZT1wZihkKTtkPWUucGF0aDtlPWUuSWI7Yj1OKGQsYik7Yz1GZShjKTtjPW5ldyB4ZShuZXcgeWUoITEsITAsZSwhMCksYixjKTtyZXR1cm4gcWYoYSxkLGMpfXJldHVybltdfVxuZ2YucHJvdG90eXBlLk9iPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5wYXRoLGQ9bnVsbCxlPSExO01lKHRoaXMuc2EsYyxmdW5jdGlvbihhLGIpe3ZhciBmPU4oYSxjKTtkPWIuaGIoZik7ZT1lfHxudWxsIT1kZihiKTtyZXR1cm4hZH0pO3ZhciBmPXRoaXMuc2EuZ2V0KGMpO2Y/KGU9ZXx8bnVsbCE9ZGYoZiksZD1kfHxmLmhiKEYpKTooZj1uZXcgY2YsdGhpcy5zYT10aGlzLnNhLnNldChjLGYpKTt2YXIgZztudWxsIT1kP2c9ITA6KGc9ITEsZD1DLFBlKHRoaXMuc2Euc3VidHJlZShjKSxmdW5jdGlvbihhLGIpe3ZhciBjPWIuaGIoRik7YyYmKGQ9ZC5RKGEsYykpfSkpO3ZhciBrPW51bGwhPWZmKGYsYSk7aWYoIWsmJiFkZShhLm4pKXt2YXIgbD1zZihhKTtKKCEobCBpbiB0aGlzLmtjKSxcIlZpZXcgZG9lcyBub3QgZXhpc3QsIGJ1dCB3ZSBoYXZlIGEgdGFnXCIpO3ZhciBtPXRmKys7dGhpcy5rY1tsXT1tO3RoaXMuJGVbXCJfXCIrbV09bH1nPWYuT2IoYSxiLG5ldyBiZihjLHRoaXMuSGIpLFxuZCxnKTtrfHxlfHwoZj1mZihmLGEpLGc9Zy5jb25jYXQodWYodGhpcyxhLGYpKSk7cmV0dXJuIGd9O1xuZ2YucHJvdG90eXBlLmtiPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLnBhdGgsZT10aGlzLnNhLmdldChkKSxmPVtdO2lmKGUmJihcImRlZmF1bHRcIj09PWEud2EoKXx8bnVsbCE9ZmYoZSxhKSkpe2Y9ZS5rYihhLGIsYyk7ZS5lKCkmJih0aGlzLnNhPXRoaXMuc2EucmVtb3ZlKGQpKTtlPWYuSGc7Zj1mLmpnO2I9LTEhPT1VYShlLGZ1bmN0aW9uKGEpe3JldHVybiBkZShhLm4pfSk7dmFyIGc9S2UodGhpcy5zYSxkLGZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWRmKGIpfSk7aWYoYiYmIWcmJihkPXRoaXMuc2Euc3VidHJlZShkKSwhZC5lKCkpKWZvcih2YXIgZD12ZihkKSxrPTA7azxkLmxlbmd0aDsrK2spe3ZhciBsPWRba10sbT1sLlYsbD13Zih0aGlzLGwpO3RoaXMuTWMuWGUobSx4Zih0aGlzLG0pLGwudWQsbC5KKX1pZighZyYmMDxlLmxlbmd0aCYmIWMpaWYoYil0aGlzLk1jLlpkKGEsbnVsbCk7ZWxzZXt2YXIgdj10aGlzO09hKGUsZnVuY3Rpb24oYSl7YS53YSgpO3ZhciBiPXYua2Nbc2YoYSldO1xudi5NYy5aZChhLGIpfSl9eWYodGhpcyxlKX1yZXR1cm4gZn07Z2YucHJvdG90eXBlLnVhPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5IYixkPUtlKHRoaXMuc2EsYSxmdW5jdGlvbihiLGMpe3ZhciBkPU4oYixhKTtpZihkPWMuaGIoZCkpcmV0dXJuIGR9KTtyZXR1cm4gYy51YShhLGQsYiwhMCl9O2Z1bmN0aW9uIHZmKGEpe3JldHVybiBJZShhLGZ1bmN0aW9uKGEsYyxkKXtpZihjJiZudWxsIT1kZihjKSlyZXR1cm5bZGYoYyldO3ZhciBlPVtdO2MmJihlPWVmKGMpKTtyKGQsZnVuY3Rpb24oYSl7ZT1lLmNvbmNhdChhKX0pO3JldHVybiBlfSl9ZnVuY3Rpb24geWYoYSxiKXtmb3IodmFyIGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9YltjXTtpZighZGUoZC5uKSl7dmFyIGQ9c2YoZCksZT1hLmtjW2RdO2RlbGV0ZSBhLmtjW2RdO2RlbGV0ZSBhLiRlW1wiX1wiK2VdfX19XG5mdW5jdGlvbiB1ZihhLGIsYyl7dmFyIGQ9Yi5wYXRoLGU9eGYoYSxiKTtjPXdmKGEsYyk7Yj1hLk1jLlhlKGIsZSxjLnVkLGMuSik7ZD1hLnNhLnN1YnRyZWUoZCk7aWYoZSlKKG51bGw9PWRmKGQudmFsdWUpLFwiSWYgd2UncmUgYWRkaW5nIGEgcXVlcnksIGl0IHNob3VsZG4ndCBiZSBzaGFkb3dlZFwiKTtlbHNlIGZvcihlPUllKGQsZnVuY3Rpb24oYSxiLGMpe2lmKCFhLmUoKSYmYiYmbnVsbCE9ZGYoYikpcmV0dXJuW3VlKGRmKGIpKV07dmFyIGQ9W107YiYmKGQ9ZC5jb25jYXQoUWEoZWYoYiksZnVuY3Rpb24oYSl7cmV0dXJuIGEuVn0pKSk7cihjLGZ1bmN0aW9uKGEpe2Q9ZC5jb25jYXQoYSl9KTtyZXR1cm4gZH0pLGQ9MDtkPGUubGVuZ3RoOysrZCljPWVbZF0sYS5NYy5aZChjLHhmKGEsYykpO3JldHVybiBifVxuZnVuY3Rpb24gd2YoYSxiKXt2YXIgYz1iLlYsZD14ZihhLGMpO3JldHVybnt1ZDpmdW5jdGlvbigpe3JldHVybihiLnUoKXx8QykuaGFzaCgpfSxKOmZ1bmN0aW9uKGIpe2lmKFwib2tcIj09PWIpe2lmKGQpe3ZhciBmPWMucGF0aDtpZihiPW9mKGEsZCkpe3ZhciBnPXBmKGIpO2I9Zy5wYXRoO2c9Zy5JYjtmPU4oYixmKTtmPW5ldyBaYihuZXcgeWUoITEsITAsZywhMCksZik7Yj1xZihhLGIsZil9ZWxzZSBiPVtdfWVsc2UgYj1qZihhLG5ldyBaYih6ZSxjLnBhdGgpKTtyZXR1cm4gYn1mPVwiVW5rbm93biBFcnJvclwiO1widG9vX2JpZ1wiPT09Yj9mPVwiVGhlIGRhdGEgcmVxdWVzdGVkIGV4Y2VlZHMgdGhlIG1heGltdW0gc2l6ZSB0aGF0IGNhbiBiZSBhY2Nlc3NlZCB3aXRoIGEgc2luZ2xlIHJlcXVlc3QuXCI6XCJwZXJtaXNzaW9uX2RlbmllZFwiPT1iP2Y9XCJDbGllbnQgZG9lc24ndCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIHRoZSBkZXNpcmVkIGRhdGEuXCI6XCJ1bmF2YWlsYWJsZVwiPT1iJiZcbihmPVwiVGhlIHNlcnZpY2UgaXMgdW5hdmFpbGFibGVcIik7Zj1FcnJvcihiK1wiOiBcIitmKTtmLmNvZGU9Yi50b1VwcGVyQ2FzZSgpO3JldHVybiBhLmtiKGMsbnVsbCxmKX19fWZ1bmN0aW9uIHNmKGEpe3JldHVybiBhLnBhdGgudG9TdHJpbmcoKStcIiRcIithLndhKCl9ZnVuY3Rpb24gcGYoYSl7dmFyIGI9YS5pbmRleE9mKFwiJFwiKTtKKC0xIT09YiYmYjxhLmxlbmd0aC0xLFwiQmFkIHF1ZXJ5S2V5LlwiKTtyZXR1cm57SWI6YS5zdWJzdHIoYisxKSxwYXRoOm5ldyBLKGEuc3Vic3RyKDAsYikpfX1mdW5jdGlvbiBvZihhLGIpe3ZhciBjPWEuJGUsZD1cIl9cIitiO3JldHVybiBkIGluIGM/Y1tkXTp2b2lkIDB9ZnVuY3Rpb24geGYoYSxiKXt2YXIgYz1zZihiKTtyZXR1cm4gdyhhLmtjLGMpfXZhciB0Zj0xO1xuZnVuY3Rpb24gcWYoYSxiLGMpe3ZhciBkPWEuc2EuZ2V0KGIpO0ooZCxcIk1pc3Npbmcgc3luYyBwb2ludCBmb3IgcXVlcnkgdGFnIHRoYXQgd2UncmUgdHJhY2tpbmdcIik7cmV0dXJuIGQuYmIoYyxuZXcgYmYoYixhLkhiKSxudWxsKX1mdW5jdGlvbiBqZihhLGIpe3JldHVybiB6ZihhLGIsYS5zYSxudWxsLG5ldyBiZihGLGEuSGIpKX1mdW5jdGlvbiB6ZihhLGIsYyxkLGUpe2lmKGIucGF0aC5lKCkpcmV0dXJuIEFmKGEsYixjLGQsZSk7dmFyIGY9Yy5nZXQoRik7bnVsbD09ZCYmbnVsbCE9ZiYmKGQ9Zi5oYihGKSk7dmFyIGc9W10saz1PKGIucGF0aCksbD1iLldjKGspO2lmKChjPWMuY2hpbGRyZW4uZ2V0KGspKSYmbCl2YXIgbT1kP2QuTShrKTpudWxsLGs9ZS53KGspLGc9Zy5jb25jYXQoemYoYSxsLGMsbSxrKSk7ZiYmKGc9Zy5jb25jYXQoZi5iYihiLGUsZCkpKTtyZXR1cm4gZ31cbmZ1bmN0aW9uIEFmKGEsYixjLGQsZSl7dmFyIGY9Yy5nZXQoRik7bnVsbD09ZCYmbnVsbCE9ZiYmKGQ9Zi5oYihGKSk7dmFyIGc9W107Yy5jaGlsZHJlbi5oYShmdW5jdGlvbihjLGYpe3ZhciBtPWQ/ZC5NKGMpOm51bGwsdj1lLncoYykseT1iLldjKGMpO3kmJihnPWcuY29uY2F0KEFmKGEseSxmLG0sdikpKX0pO2YmJihnPWcuY29uY2F0KGYuYmIoYixlLGQpKSk7cmV0dXJuIGd9O2Z1bmN0aW9uIEJmKCl7dGhpcy5jaGlsZHJlbj17fTt0aGlzLmtkPTA7dGhpcy52YWx1ZT1udWxsfWZ1bmN0aW9uIENmKGEsYixjKXt0aGlzLkRkPWE/YTpcIlwiO3RoaXMuWWM9Yj9iOm51bGw7dGhpcy5CPWM/YzpuZXcgQmZ9ZnVuY3Rpb24gRGYoYSxiKXtmb3IodmFyIGM9YiBpbnN0YW5jZW9mIEs/YjpuZXcgSyhiKSxkPWEsZTtudWxsIT09KGU9TyhjKSk7KWQ9bmV3IENmKGUsZCx3KGQuQi5jaGlsZHJlbixlKXx8bmV3IEJmKSxjPUcoYyk7cmV0dXJuIGR9aD1DZi5wcm90b3R5cGU7aC5CYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkIudmFsdWV9O2Z1bmN0aW9uIEVmKGEsYil7SihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGIsXCJDYW5ub3Qgc2V0IHZhbHVlIHRvIHVuZGVmaW5lZFwiKTthLkIudmFsdWU9YjtGZihhKX1oLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5CLnZhbHVlPW51bGw7dGhpcy5CLmNoaWxkcmVuPXt9O3RoaXMuQi5rZD0wO0ZmKHRoaXMpfTtcbmgudGQ9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLkIua2R9O2guZT1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5CYSgpJiYhdGhpcy50ZCgpfTtoLlU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyKHRoaXMuQi5jaGlsZHJlbixmdW5jdGlvbihjLGQpe2EobmV3IENmKGQsYixjKSl9KX07ZnVuY3Rpb24gR2YoYSxiLGMsZCl7YyYmIWQmJmIoYSk7YS5VKGZ1bmN0aW9uKGEpe0dmKGEsYiwhMCxkKX0pO2MmJmQmJmIoYSl9ZnVuY3Rpb24gSGYoYSxiKXtmb3IodmFyIGM9YS5wYXJlbnQoKTtudWxsIT09YyYmIWIoYyk7KWM9Yy5wYXJlbnQoKX1oLnBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsobnVsbD09PXRoaXMuWWM/dGhpcy5EZDp0aGlzLlljLnBhdGgoKStcIi9cIit0aGlzLkRkKX07aC5uYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRGR9O2gucGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWWN9O1xuZnVuY3Rpb24gRmYoYSl7aWYobnVsbCE9PWEuWWMpe3ZhciBiPWEuWWMsYz1hLkRkLGQ9YS5lKCksZT11KGIuQi5jaGlsZHJlbixjKTtkJiZlPyhkZWxldGUgYi5CLmNoaWxkcmVuW2NdLGIuQi5rZC0tLEZmKGIpKTpkfHxlfHwoYi5CLmNoaWxkcmVuW2NdPWEuQixiLkIua2QrKyxGZihiKSl9fTtmdW5jdGlvbiBJZihhKXtKKGVhKGEpJiYwPGEubGVuZ3RoLFwiUmVxdWlyZXMgYSBub24tZW1wdHkgYXJyYXlcIik7dGhpcy5VZj1hO3RoaXMuTmM9e319SWYucHJvdG90eXBlLmRlPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuTmNbYV18fFtdLGQ9MDtkPGMubGVuZ3RoO2QrKyljW2RdLnljLmFwcGx5KGNbZF0uTWEsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKX07SWYucHJvdG90eXBlLkViPWZ1bmN0aW9uKGEsYixjKXtKZih0aGlzLGEpO3RoaXMuTmNbYV09dGhpcy5OY1thXXx8W107dGhpcy5OY1thXS5wdXNoKHt5YzpiLE1hOmN9KTsoYT10aGlzLnplKGEpKSYmYi5hcHBseShjLGEpfTtJZi5wcm90b3R5cGUuZ2M9ZnVuY3Rpb24oYSxiLGMpe0pmKHRoaXMsYSk7YT10aGlzLk5jW2FdfHxbXTtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKylpZihhW2RdLnljPT09YiYmKCFjfHxjPT09YVtkXS5NYSkpe2Euc3BsaWNlKGQsMSk7YnJlYWt9fTtcbmZ1bmN0aW9uIEpmKGEsYil7SihUYShhLlVmLGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0pLFwiVW5rbm93biBldmVudDogXCIrYil9O3ZhciBLZj1mdW5jdGlvbigpe3ZhciBhPTAsYj1bXTtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9Yz09PWE7YT1jO2Zvcih2YXIgZT1BcnJheSg4KSxmPTc7MDw9ZjtmLS0pZVtmXT1cIi0wMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpfYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIi5jaGFyQXQoYyU2NCksYz1NYXRoLmZsb29yKGMvNjQpO0ooMD09PWMsXCJDYW5ub3QgcHVzaCBhdCB0aW1lID09IDBcIik7Yz1lLmpvaW4oXCJcIik7aWYoZCl7Zm9yKGY9MTE7MDw9ZiYmNjM9PT1iW2ZdO2YtLSliW2ZdPTA7YltmXSsrfWVsc2UgZm9yKGY9MDsxMj5mO2YrKyliW2ZdPU1hdGguZmxvb3IoNjQqTWF0aC5yYW5kb20oKSk7Zm9yKGY9MDsxMj5mO2YrKyljKz1cIi0wMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpfYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIi5jaGFyQXQoYltmXSk7SigyMD09PWMubGVuZ3RoLFwibmV4dFB1c2hJZDogTGVuZ3RoIHNob3VsZCBiZSAyMC5cIik7XG5yZXR1cm4gY319KCk7ZnVuY3Rpb24gTGYoKXtJZi5jYWxsKHRoaXMsW1wib25saW5lXCJdKTt0aGlzLmljPSEwO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKXt2YXIgYT10aGlzO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib25saW5lXCIsZnVuY3Rpb24oKXthLmljfHwoYS5pYz0hMCxhLmRlKFwib25saW5lXCIsITApKX0sITEpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLGZ1bmN0aW9uKCl7YS5pYyYmKGEuaWM9ITEsYS5kZShcIm9ubGluZVwiLCExKSl9LCExKX19bWEoTGYsSWYpO0xmLnByb3RvdHlwZS56ZT1mdW5jdGlvbihhKXtKKFwib25saW5lXCI9PT1hLFwiVW5rbm93biBldmVudCB0eXBlOiBcIithKTtyZXR1cm5bdGhpcy5pY119O2NhKExmKTtmdW5jdGlvbiBNZigpe0lmLmNhbGwodGhpcyxbXCJ2aXNpYmxlXCJdKTt2YXIgYSxiO1widW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciYmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQuaGlkZGVuPyhiPVwidmlzaWJpbGl0eWNoYW5nZVwiLGE9XCJoaWRkZW5cIik6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudC5tb3pIaWRkZW4/KGI9XCJtb3p2aXNpYmlsaXR5Y2hhbmdlXCIsYT1cIm1vekhpZGRlblwiKTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50Lm1zSGlkZGVuPyhiPVwibXN2aXNpYmlsaXR5Y2hhbmdlXCIsYT1cIm1zSGlkZGVuXCIpOlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQud2Via2l0SGlkZGVuJiYoYj1cIndlYmtpdHZpc2liaWxpdHljaGFuZ2VcIixhPVwid2Via2l0SGlkZGVuXCIpKTt0aGlzLnVjPSEwO2lmKGIpe3ZhciBjPXRoaXM7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihiLFxuZnVuY3Rpb24oKXt2YXIgYj0hZG9jdW1lbnRbYV07YiE9PWMudWMmJihjLnVjPWIsYy5kZShcInZpc2libGVcIixiKSl9LCExKX19bWEoTWYsSWYpO01mLnByb3RvdHlwZS56ZT1mdW5jdGlvbihhKXtKKFwidmlzaWJsZVwiPT09YSxcIlVua25vd24gZXZlbnQgdHlwZTogXCIrYSk7cmV0dXJuW3RoaXMudWNdfTtjYShNZik7dmFyIE5mPS9bXFxbXFxdLiMkXFwvXFx1MDAwMC1cXHUwMDFGXFx1MDA3Rl0vLE9mPS9bXFxbXFxdLiMkXFx1MDAwMC1cXHUwMDFGXFx1MDA3Rl0vO2Z1bmN0aW9uIFBmKGEpe3JldHVybiBwKGEpJiYwIT09YS5sZW5ndGgmJiFOZi50ZXN0KGEpfWZ1bmN0aW9uIFFmKGEpe3JldHVybiBudWxsPT09YXx8cChhKXx8Z2EoYSkmJiFTYyhhKXx8aWEoYSkmJnUoYSxcIi5zdlwiKX1mdW5jdGlvbiBSZihhLGIsYyxkKXtkJiYhbihiKXx8U2YoeihhLDEsZCksYixjKX1cbmZ1bmN0aW9uIFNmKGEsYixjKXtjIGluc3RhbmNlb2YgSyYmKGM9bmV3IHdjKGMsYSkpO2lmKCFuKGIpKXRocm93IEVycm9yKGErXCJjb250YWlucyB1bmRlZmluZWQgXCIremMoYykpO2lmKGhhKGIpKXRocm93IEVycm9yKGErXCJjb250YWlucyBhIGZ1bmN0aW9uIFwiK3pjKGMpK1wiIHdpdGggY29udGVudHM6IFwiK2IudG9TdHJpbmcoKSk7aWYoU2MoYikpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIFwiK2IudG9TdHJpbmcoKStcIiBcIit6YyhjKSk7aWYocChiKSYmYi5sZW5ndGg+MTA0ODU3NjAvMyYmMTA0ODU3NjA8eGMoYikpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIGEgc3RyaW5nIGdyZWF0ZXIgdGhhbiAxMDQ4NTc2MCB1dGY4IGJ5dGVzIFwiK3pjKGMpK1wiICgnXCIrYi5zdWJzdHJpbmcoMCw1MCkrXCIuLi4nKVwiKTtpZihpYShiKSl7dmFyIGQ9ITEsZT0hMTtoYihiLGZ1bmN0aW9uKGIsZyl7aWYoXCIudmFsdWVcIj09PWIpZD0hMDtlbHNlIGlmKFwiLnByaW9yaXR5XCIhPT1iJiZcIi5zdlwiIT09YiYmKGU9XG4hMCwhUGYoYikpKXRocm93IEVycm9yKGErXCIgY29udGFpbnMgYW4gaW52YWxpZCBrZXkgKFwiK2IrXCIpIFwiK3pjKGMpKycuICBLZXlzIG11c3QgYmUgbm9uLWVtcHR5IHN0cmluZ3MgYW5kIGNhblxcJ3QgY29udGFpbiBcIi5cIiwgXCIjXCIsIFwiJFwiLCBcIi9cIiwgXCJbXCIsIG9yIFwiXVwiJyk7Yy5wdXNoKGIpO1NmKGEsZyxjKTtjLnBvcCgpfSk7aWYoZCYmZSl0aHJvdyBFcnJvcihhKycgY29udGFpbnMgXCIudmFsdWVcIiBjaGlsZCAnK3pjKGMpK1wiIGluIGFkZGl0aW9uIHRvIGFjdHVhbCBjaGlsZHJlbi5cIik7fX1cbmZ1bmN0aW9uIFRmKGEsYixjKXtpZighaWEoYil8fGVhKGIpKXRocm93IEVycm9yKHooYSwxLCExKStcIiBtdXN0IGJlIGFuIE9iamVjdCBjb250YWluaW5nIHRoZSBjaGlsZHJlbiB0byByZXBsYWNlLlwiKTtpZih1KGIsXCIudmFsdWVcIikpdGhyb3cgRXJyb3IoeihhLDEsITEpKycgbXVzdCBub3QgY29udGFpbiBcIi52YWx1ZVwiLiAgVG8gb3ZlcndyaXRlIHdpdGggYSBsZWFmIHZhbHVlLCBqdXN0IHVzZSAuc2V0KCkgaW5zdGVhZC4nKTtSZihhLGIsYywhMSl9XG5mdW5jdGlvbiBVZihhLGIsYyl7aWYoU2MoYykpdGhyb3cgRXJyb3IoeihhLGIsITEpK1wiaXMgXCIrYy50b1N0cmluZygpK1wiLCBidXQgbXVzdCBiZSBhIHZhbGlkIEZpcmViYXNlIHByaW9yaXR5IChhIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsKS5cIik7aWYoIVFmKGMpKXRocm93IEVycm9yKHooYSxiLCExKStcIm11c3QgYmUgYSB2YWxpZCBGaXJlYmFzZSBwcmlvcml0eSAoYSBzdHJpbmcsIGZpbml0ZSBudW1iZXIsIHNlcnZlciB2YWx1ZSwgb3IgbnVsbCkuXCIpO31cbmZ1bmN0aW9uIFZmKGEsYixjKXtpZighY3x8bihiKSlzd2l0Y2goYil7Y2FzZSBcInZhbHVlXCI6Y2FzZSBcImNoaWxkX2FkZGVkXCI6Y2FzZSBcImNoaWxkX3JlbW92ZWRcIjpjYXNlIFwiY2hpbGRfY2hhbmdlZFwiOmNhc2UgXCJjaGlsZF9tb3ZlZFwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoeihhLDEsYykrJ211c3QgYmUgYSB2YWxpZCBldmVudCB0eXBlOiBcInZhbHVlXCIsIFwiY2hpbGRfYWRkZWRcIiwgXCJjaGlsZF9yZW1vdmVkXCIsIFwiY2hpbGRfY2hhbmdlZFwiLCBvciBcImNoaWxkX21vdmVkXCIuJyk7fX1mdW5jdGlvbiBXZihhLGIsYyxkKXtpZigoIWR8fG4oYykpJiYhUGYoYykpdGhyb3cgRXJyb3IoeihhLGIsZCkrJ3dhcyBhbiBpbnZhbGlkIGtleTogXCInK2MrJ1wiLiAgRmlyZWJhc2Uga2V5cyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCIvXCIsIFwiW1wiLCBvciBcIl1cIikuJyk7fVxuZnVuY3Rpb24gWGYoYSxiKXtpZighcChiKXx8MD09PWIubGVuZ3RofHxPZi50ZXN0KGIpKXRocm93IEVycm9yKHooYSwxLCExKSsnd2FzIGFuIGludmFsaWQgcGF0aDogXCInK2IrJ1wiLiBQYXRocyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCJbXCIsIG9yIFwiXVwiJyk7fWZ1bmN0aW9uIFlmKGEsYil7aWYoXCIuaW5mb1wiPT09TyhiKSl0aHJvdyBFcnJvcihhK1wiIGZhaWxlZDogQ2FuJ3QgbW9kaWZ5IGRhdGEgdW5kZXIgLy5pbmZvL1wiKTt9ZnVuY3Rpb24gWmYoYSxiKXtpZighcChiKSl0aHJvdyBFcnJvcih6KGEsMSwhMSkrXCJtdXN0IGJlIGEgdmFsaWQgY3JlZGVudGlhbCAoYSBzdHJpbmcpLlwiKTt9ZnVuY3Rpb24gJGYoYSxiLGMpe2lmKCFwKGMpKXRocm93IEVycm9yKHooYSxiLCExKStcIm11c3QgYmUgYSB2YWxpZCBzdHJpbmcuXCIpO31cbmZ1bmN0aW9uIGFnKGEsYixjLGQpe2lmKCFkfHxuKGMpKWlmKCFpYShjKXx8bnVsbD09PWMpdGhyb3cgRXJyb3IoeihhLGIsZCkrXCJtdXN0IGJlIGEgdmFsaWQgb2JqZWN0LlwiKTt9ZnVuY3Rpb24gYmcoYSxiLGMpe2lmKCFpYShiKXx8bnVsbD09PWJ8fCF1KGIsYykpdGhyb3cgRXJyb3IoeihhLDEsITEpKydtdXN0IGNvbnRhaW4gdGhlIGtleSBcIicrYysnXCInKTtpZighcCh3KGIsYykpKXRocm93IEVycm9yKHooYSwxLCExKSsnbXVzdCBjb250YWluIHRoZSBrZXkgXCInK2MrJ1wiIHdpdGggdHlwZSBcInN0cmluZ1wiJyk7fTtmdW5jdGlvbiBjZygpe3RoaXMuc2V0PXt9fWg9Y2cucHJvdG90eXBlO2guYWRkPWZ1bmN0aW9uKGEsYil7dGhpcy5zZXRbYV09bnVsbCE9PWI/YjohMH07aC5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gdSh0aGlzLnNldCxhKX07aC5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY29udGFpbnMoYSk/dGhpcy5zZXRbYV06dm9pZCAwfTtoLnJlbW92ZT1mdW5jdGlvbihhKXtkZWxldGUgdGhpcy5zZXRbYV19O2guY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnNldD17fX07aC5lPWZ1bmN0aW9uKCl7cmV0dXJuIHdhKHRoaXMuc2V0KX07aC5jb3VudD1mdW5jdGlvbigpe3JldHVybiBwYSh0aGlzLnNldCl9O2Z1bmN0aW9uIGRnKGEsYil7cihhLnNldCxmdW5jdGlvbihhLGQpe2IoZCxhKX0pfWgua2V5cz1mdW5jdGlvbigpe3ZhciBhPVtdO3IodGhpcy5zZXQsZnVuY3Rpb24oYixjKXthLnB1c2goYyl9KTtyZXR1cm4gYX07ZnVuY3Rpb24gcWMoKXt0aGlzLm09dGhpcy5DPW51bGx9cWMucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5DKXJldHVybiB0aGlzLkMub2EoYSk7aWYoYS5lKCl8fG51bGw9PXRoaXMubSlyZXR1cm4gbnVsbDt2YXIgYj1PKGEpO2E9RyhhKTtyZXR1cm4gdGhpcy5tLmNvbnRhaW5zKGIpP3RoaXMubS5nZXQoYikuZmluZChhKTpudWxsfTtxYy5wcm90b3R5cGUubWM9ZnVuY3Rpb24oYSxiKXtpZihhLmUoKSl0aGlzLkM9Yix0aGlzLm09bnVsbDtlbHNlIGlmKG51bGwhPT10aGlzLkMpdGhpcy5DPXRoaXMuQy5HKGEsYik7ZWxzZXtudWxsPT10aGlzLm0mJih0aGlzLm09bmV3IGNnKTt2YXIgYz1PKGEpO3RoaXMubS5jb250YWlucyhjKXx8dGhpcy5tLmFkZChjLG5ldyBxYyk7Yz10aGlzLm0uZ2V0KGMpO2E9RyhhKTtjLm1jKGEsYil9fTtcbmZ1bmN0aW9uIGVnKGEsYil7aWYoYi5lKCkpcmV0dXJuIGEuQz1udWxsLGEubT1udWxsLCEwO2lmKG51bGwhPT1hLkMpe2lmKGEuQy5OKCkpcmV0dXJuITE7dmFyIGM9YS5DO2EuQz1udWxsO2MuVShNLGZ1bmN0aW9uKGIsYyl7YS5tYyhuZXcgSyhiKSxjKX0pO3JldHVybiBlZyhhLGIpfXJldHVybiBudWxsIT09YS5tPyhjPU8oYiksYj1HKGIpLGEubS5jb250YWlucyhjKSYmZWcoYS5tLmdldChjKSxiKSYmYS5tLnJlbW92ZShjKSxhLm0uZSgpPyhhLm09bnVsbCwhMCk6ITEpOiEwfWZ1bmN0aW9uIHJjKGEsYixjKXtudWxsIT09YS5DP2MoYixhLkMpOmEuVShmdW5jdGlvbihhLGUpe3ZhciBmPW5ldyBLKGIudG9TdHJpbmcoKStcIi9cIithKTtyYyhlLGYsYyl9KX1xYy5wcm90b3R5cGUuVT1mdW5jdGlvbihhKXtudWxsIT09dGhpcy5tJiZkZyh0aGlzLm0sZnVuY3Rpb24oYixjKXthKGIsYyl9KX07dmFyIGZnPVwiYXV0aC5maXJlYmFzZS5jb21cIjtmdW5jdGlvbiBnZyhhLGIsYyl7dGhpcy5sZD1hfHx7fTt0aGlzLmNlPWJ8fHt9O3RoaXMuYWI9Y3x8e307dGhpcy5sZC5yZW1lbWJlcnx8KHRoaXMubGQucmVtZW1iZXI9XCJkZWZhdWx0XCIpfXZhciBoZz1bXCJyZW1lbWJlclwiLFwicmVkaXJlY3RUb1wiXTtmdW5jdGlvbiBpZyhhKXt2YXIgYj17fSxjPXt9O2hiKGF8fHt9LGZ1bmN0aW9uKGEsZSl7MDw9TmEoaGcsYSk/YlthXT1lOmNbYV09ZX0pO3JldHVybiBuZXcgZ2coYix7fSxjKX07ZnVuY3Rpb24gamcoYSxiKXt0aGlzLlBlPVtcInNlc3Npb25cIixhLkxkLGEuQ2JdLmpvaW4oXCI6XCIpO3RoaXMuJGQ9Yn1qZy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7aWYoIWIpaWYodGhpcy4kZC5sZW5ndGgpYj10aGlzLiRkWzBdO2Vsc2UgdGhyb3cgRXJyb3IoXCJmYi5sb2dpbi5TZXNzaW9uTWFuYWdlciA6IE5vIHN0b3JhZ2Ugb3B0aW9ucyBhdmFpbGFibGUhXCIpO2Iuc2V0KHRoaXMuUGUsYSl9O2pnLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXt2YXIgYT1RYSh0aGlzLiRkLHEodGhpcy5uZyx0aGlzKSksYT1QYShhLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT09YX0pO1hhKGEsZnVuY3Rpb24oYSxjKXtyZXR1cm4gYmQoYy50b2tlbiktYmQoYS50b2tlbil9KTtyZXR1cm4gMDxhLmxlbmd0aD9hLnNoaWZ0KCk6bnVsbH07amcucHJvdG90eXBlLm5nPWZ1bmN0aW9uKGEpe3RyeXt2YXIgYj1hLmdldCh0aGlzLlBlKTtpZihiJiZiLnRva2VuKXJldHVybiBifWNhdGNoKGMpe31yZXR1cm4gbnVsbH07XG5qZy5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO09hKHRoaXMuJGQsZnVuY3Rpb24oYil7Yi5yZW1vdmUoYS5QZSl9KX07ZnVuY3Rpb24ga2coKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmISEod2luZG93LmNvcmRvdmF8fHdpbmRvdy5waG9uZWdhcHx8d2luZG93LlBob25lR2FwKSYmL2lvc3xpcGhvbmV8aXBvZHxpcGFkfGFuZHJvaWR8YmxhY2tiZXJyeXxpZW1vYmlsZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9ZnVuY3Rpb24gbGcoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIGxvY2F0aW9uJiYvXmZpbGU6XFwvLy50ZXN0KGxvY2F0aW9uLmhyZWYpfVxuZnVuY3Rpb24gbWcoKXtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIG5hdmlnYXRvcilyZXR1cm4hMTt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50O2lmKFwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCI9PT1uYXZpZ2F0b3IuYXBwTmFtZSl7aWYoKGE9YS5tYXRjaCgvTVNJRSAoWzAtOV17MSx9W1xcLjAtOV17MCx9KS8pKSYmMTxhLmxlbmd0aClyZXR1cm4gODw9cGFyc2VGbG9hdChhWzFdKX1lbHNlIGlmKC0xPGEuaW5kZXhPZihcIlRyaWRlbnRcIikmJihhPWEubWF0Y2goL3J2OihbMC05XXsyLDJ9W1xcLjAtOV17MCx9KS8pKSYmMTxhLmxlbmd0aClyZXR1cm4gODw9cGFyc2VGbG9hdChhWzFdKTtyZXR1cm4hMX07ZnVuY3Rpb24gbmcoKXt2YXIgYT13aW5kb3cub3BlbmVyLmZyYW1lcyxiO2ZvcihiPWEubGVuZ3RoLTE7MDw9YjtiLS0pdHJ5e2lmKGFbYl0ubG9jYXRpb24ucHJvdG9jb2w9PT13aW5kb3cubG9jYXRpb24ucHJvdG9jb2wmJmFbYl0ubG9jYXRpb24uaG9zdD09PXdpbmRvdy5sb2NhdGlvbi5ob3N0JiZcIl9fd2luY2hhbl9yZWxheV9mcmFtZVwiPT09YVtiXS5uYW1lKXJldHVybiBhW2JdfWNhdGNoKGMpe31yZXR1cm4gbnVsbH1mdW5jdGlvbiBvZyhhLGIsYyl7YS5hdHRhY2hFdmVudD9hLmF0dGFjaEV2ZW50KFwib25cIitiLGMpOmEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hZGRFdmVudExpc3RlbmVyKGIsYywhMSl9ZnVuY3Rpb24gcGcoYSxiLGMpe2EuZGV0YWNoRXZlbnQ/YS5kZXRhY2hFdmVudChcIm9uXCIrYixjKTphLnJlbW92ZUV2ZW50TGlzdGVuZXImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMsITEpfVxuZnVuY3Rpb24gcWcoYSl7L15odHRwcz86XFwvXFwvLy50ZXN0KGEpfHwoYT13aW5kb3cubG9jYXRpb24uaHJlZik7dmFyIGI9L14oaHR0cHM/OlxcL1xcL1tcXC1fYS16QS1aXFwuMC05Ol0rKS8uZXhlYyhhKTtyZXR1cm4gYj9iWzFdOmF9ZnVuY3Rpb24gcmcoYSl7dmFyIGI9XCJcIjt0cnl7YT1hLnJlcGxhY2UoXCIjXCIsXCJcIik7dmFyIGM9a2IoYSk7YyYmdShjLFwiX19maXJlYmFzZV9yZXF1ZXN0X2tleVwiKSYmKGI9dyhjLFwiX19maXJlYmFzZV9yZXF1ZXN0X2tleVwiKSl9Y2F0Y2goZCl7fXJldHVybiBifWZ1bmN0aW9uIHNnKCl7dmFyIGE9UmMoZmcpO3JldHVybiBhLnNjaGVtZStcIjovL1wiK2EuaG9zdCtcIi92MlwifWZ1bmN0aW9uIHRnKGEpe3JldHVybiBzZygpK1wiL1wiK2ErXCIvYXV0aC9jaGFubmVsXCJ9O2Z1bmN0aW9uIHVnKGEpe3ZhciBiPXRoaXM7dGhpcy56Yz1hO3RoaXMuYWU9XCIqXCI7bWcoKT90aGlzLlFjPXRoaXMud2Q9bmcoKToodGhpcy5RYz13aW5kb3cub3BlbmVyLHRoaXMud2Q9d2luZG93KTtpZighYi5RYyl0aHJvd1wiVW5hYmxlIHRvIGZpbmQgcmVsYXkgZnJhbWVcIjtvZyh0aGlzLndkLFwibWVzc2FnZVwiLHEodGhpcy5oYyx0aGlzKSk7b2codGhpcy53ZCxcIm1lc3NhZ2VcIixxKHRoaXMuQWYsdGhpcykpO3RyeXt2Zyh0aGlzLHthOlwicmVhZHlcIn0pfWNhdGNoKGMpe29nKHRoaXMuUWMsXCJsb2FkXCIsZnVuY3Rpb24oKXt2ZyhiLHthOlwicmVhZHlcIn0pfSl9b2cod2luZG93LFwidW5sb2FkXCIscSh0aGlzLnlnLHRoaXMpKX1mdW5jdGlvbiB2ZyhhLGIpe2I9QihiKTttZygpP2EuUWMuZG9Qb3N0KGIsYS5hZSk6YS5RYy5wb3N0TWVzc2FnZShiLGEuYWUpfVxudWcucHJvdG90eXBlLmhjPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYzt0cnl7Yz1tYihhLmRhdGEpfWNhdGNoKGQpe31jJiZcInJlcXVlc3RcIj09PWMuYSYmKHBnKHdpbmRvdyxcIm1lc3NhZ2VcIix0aGlzLmhjKSx0aGlzLmFlPWEub3JpZ2luLHRoaXMuemMmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnpjKGIuYWUsYy5kLGZ1bmN0aW9uKGEsYyl7Yi5hZz0hYztiLnpjPXZvaWQgMDt2ZyhiLHthOlwicmVzcG9uc2VcIixkOmEsZm9yY2VLZWVwV2luZG93T3BlbjpjfSl9KX0sMCkpfTt1Zy5wcm90b3R5cGUueWc9ZnVuY3Rpb24oKXt0cnl7cGcodGhpcy53ZCxcIm1lc3NhZ2VcIix0aGlzLkFmKX1jYXRjaChhKXt9dGhpcy56YyYmKHZnKHRoaXMse2E6XCJlcnJvclwiLGQ6XCJ1bmtub3duIGNsb3NlZCB3aW5kb3dcIn0pLHRoaXMuemM9dm9pZCAwKTt0cnl7d2luZG93LmNsb3NlKCl9Y2F0Y2goYil7fX07dWcucHJvdG90eXBlLkFmPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYWcmJlwiZGllXCI9PT1hLmRhdGEpdHJ5e3dpbmRvdy5jbG9zZSgpfWNhdGNoKGIpe319O2Z1bmN0aW9uIHdnKGEpe3RoaXMub2M9R2EoKStHYSgpK0dhKCk7dGhpcy5EZj1hfXdnLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYil7UC5zZXQoXCJyZWRpcmVjdF9yZXF1ZXN0X2lkXCIsdGhpcy5vYyk7UC5zZXQoXCJyZWRpcmVjdF9yZXF1ZXN0X2lkXCIsdGhpcy5vYyk7Yi5yZXF1ZXN0SWQ9dGhpcy5vYztiLnJlZGlyZWN0VG89Yi5yZWRpcmVjdFRvfHx3aW5kb3cubG9jYXRpb24uaHJlZjthKz0oL1xcPy8udGVzdChhKT9cIlwiOlwiP1wiKStqYihiKTt3aW5kb3cubG9jYXRpb249YX07d2cuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hbGcoKSYmIWtnKCl9O3dnLnByb3RvdHlwZS5CYz1mdW5jdGlvbigpe3JldHVyblwicmVkaXJlY3RcIn07dmFyIHhnPXtORVRXT1JLX0VSUk9SOlwiVW5hYmxlIHRvIGNvbnRhY3QgdGhlIEZpcmViYXNlIHNlcnZlci5cIixTRVJWRVJfRVJST1I6XCJBbiB1bmtub3duIHNlcnZlciBlcnJvciBvY2N1cnJlZC5cIixUUkFOU1BPUlRfVU5BVkFJTEFCTEU6XCJUaGVyZSBhcmUgbm8gbG9naW4gdHJhbnNwb3J0cyBhdmFpbGFibGUgZm9yIHRoZSByZXF1ZXN0ZWQgbWV0aG9kLlwiLFJFUVVFU1RfSU5URVJSVVBURUQ6XCJUaGUgYnJvd3NlciByZWRpcmVjdGVkIHRoZSBwYWdlIGJlZm9yZSB0aGUgbG9naW4gcmVxdWVzdCBjb3VsZCBjb21wbGV0ZS5cIixVU0VSX0NBTkNFTExFRDpcIlRoZSB1c2VyIGNhbmNlbGxlZCBhdXRoZW50aWNhdGlvbi5cIn07ZnVuY3Rpb24geWcoYSl7dmFyIGI9RXJyb3Iodyh4ZyxhKSxhKTtiLmNvZGU9YTtyZXR1cm4gYn07ZnVuY3Rpb24gemcoYSl7aWYoIWEud2luZG93X2ZlYXR1cmVzfHxcInVuZGVmaW5lZFwiIT09dHlwZW9mIG5hdmlnYXRvciYmKC0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRmVubmVjL1wiKXx8LTEhPT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJGaXJlZm94L1wiKSYmLTEhPT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJBbmRyb2lkXCIpKSlhLndpbmRvd19mZWF0dXJlcz12b2lkIDA7YS53aW5kb3dfbmFtZXx8KGEud2luZG93X25hbWU9XCJfYmxhbmtcIik7dGhpcy5vcHRpb25zPWF9XG56Zy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXtnJiYoZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChnKSxnPXZvaWQgMCk7diYmKHY9Y2xlYXJJbnRlcnZhbCh2KSk7cGcod2luZG93LFwibWVzc2FnZVwiLGUpO3BnKHdpbmRvdyxcInVubG9hZFwiLGQpO2lmKG0mJiFhKXRyeXttLmNsb3NlKCl9Y2F0Y2goYil7ay5wb3N0TWVzc2FnZShcImRpZVwiLGwpfW09az12b2lkIDB9ZnVuY3Rpb24gZShhKXtpZihhLm9yaWdpbj09PWwpdHJ5e3ZhciBiPW1iKGEuZGF0YSk7XCJyZWFkeVwiPT09Yi5hP2sucG9zdE1lc3NhZ2UoeSxsKTpcImVycm9yXCI9PT1iLmE/KGQoITEpLGMmJihjKGIuZCksYz1udWxsKSk6XCJyZXNwb25zZVwiPT09Yi5hJiYoZChiLmZvcmNlS2VlcFdpbmRvd09wZW4pLGMmJihjKG51bGwsYi5kKSxjPW51bGwpKX1jYXRjaChlKXt9fXZhciBmPW1nKCksZyxrO2lmKCF0aGlzLm9wdGlvbnMucmVsYXlfdXJsKXJldHVybiBjKEVycm9yKFwiaW52YWxpZCBhcmd1bWVudHM6IG9yaWdpbiBvZiB1cmwgYW5kIHJlbGF5X3VybCBtdXN0IG1hdGNoXCIpKTtcbnZhciBsPXFnKGEpO2lmKGwhPT1xZyh0aGlzLm9wdGlvbnMucmVsYXlfdXJsKSljJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YyhFcnJvcihcImludmFsaWQgYXJndW1lbnRzOiBvcmlnaW4gb2YgdXJsIGFuZCByZWxheV91cmwgbXVzdCBtYXRjaFwiKSl9LDApO2Vsc2V7ZiYmKGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSxnLnNldEF0dHJpYnV0ZShcInNyY1wiLHRoaXMub3B0aW9ucy5yZWxheV91cmwpLGcuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixnLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIl9fd2luY2hhbl9yZWxheV9mcmFtZVwiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGcpLGs9Zy5jb250ZW50V2luZG93KTthKz0oL1xcPy8udGVzdChhKT9cIlwiOlwiP1wiKStqYihiKTt2YXIgbT13aW5kb3cub3BlbihhLHRoaXMub3B0aW9ucy53aW5kb3dfbmFtZSx0aGlzLm9wdGlvbnMud2luZG93X2ZlYXR1cmVzKTtrfHwoaz1tKTt2YXIgdj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe20mJm0uY2xvc2VkJiZcbihkKCExKSxjJiYoYyh5ZyhcIlVTRVJfQ0FOQ0VMTEVEXCIpKSxjPW51bGwpKX0sNTAwKSx5PUIoe2E6XCJyZXF1ZXN0XCIsZDpifSk7b2cod2luZG93LFwidW5sb2FkXCIsZCk7b2cod2luZG93LFwibWVzc2FnZVwiLGUpfX07XG56Zy5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVyblwicG9zdE1lc3NhZ2VcImluIHdpbmRvdyYmIWxnKCkmJiEoa2coKXx8XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBuYXZpZ2F0b3ImJihuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9XaW5kb3dzIFBob25lLyl8fHdpbmRvdy5XaW5kb3dzJiYvXm1zLWFwcHg6Ly50ZXN0KGxvY2F0aW9uLmhyZWYpKXx8XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBuYXZpZ2F0b3ImJlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiYobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKGlQaG9uZXxpUG9kfGlQYWQpLipBcHBsZVdlYktpdCg/IS4qU2FmYXJpKS9pKXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ3JpT1MvKXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVHdpdHRlciBmb3IgaVBob25lLyl8fG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0ZCQU5cXC9GQklPUy8pfHx3aW5kb3cubmF2aWdhdG9yLnN0YW5kYWxvbmUpKSYmIShcInVuZGVmaW5lZFwiIT09XG50eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9QaGFudG9tSlMvKSl9O3pnLnByb3RvdHlwZS5CYz1mdW5jdGlvbigpe3JldHVyblwicG9wdXBcIn07ZnVuY3Rpb24gQWcoYSl7YS5tZXRob2R8fChhLm1ldGhvZD1cIkdFVFwiKTthLmhlYWRlcnN8fChhLmhlYWRlcnM9e30pO2EuaGVhZGVycy5jb250ZW50X3R5cGV8fChhLmhlYWRlcnMuY29udGVudF90eXBlPVwiYXBwbGljYXRpb24vanNvblwiKTthLmhlYWRlcnMuY29udGVudF90eXBlPWEuaGVhZGVycy5jb250ZW50X3R5cGUudG9Mb3dlckNhc2UoKTt0aGlzLm9wdGlvbnM9YX1cbkFnLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7YyYmKGMoeWcoXCJSRVFVRVNUX0lOVEVSUlVQVEVEXCIpKSxjPW51bGwpfXZhciBlPW5ldyBYTUxIdHRwUmVxdWVzdCxmPXRoaXMub3B0aW9ucy5tZXRob2QudG9VcHBlckNhc2UoKSxnO29nKHdpbmRvdyxcImJlZm9yZXVubG9hZFwiLGQpO2Uub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoYyYmND09PWUucmVhZHlTdGF0ZSl7dmFyIGE7aWYoMjAwPD1lLnN0YXR1cyYmMzAwPmUuc3RhdHVzKXt0cnl7YT1tYihlLnJlc3BvbnNlVGV4dCl9Y2F0Y2goYil7fWMobnVsbCxhKX1lbHNlIDUwMDw9ZS5zdGF0dXMmJjYwMD5lLnN0YXR1cz9jKHlnKFwiU0VSVkVSX0VSUk9SXCIpKTpjKHlnKFwiTkVUV09SS19FUlJPUlwiKSk7Yz1udWxsO3BnKHdpbmRvdyxcImJlZm9yZXVubG9hZFwiLGQpfX07aWYoXCJHRVRcIj09PWYpYSs9KC9cXD8vLnRlc3QoYSk/XCJcIjpcIj9cIikramIoYiksZz1udWxsO2Vsc2V7dmFyIGs9dGhpcy5vcHRpb25zLmhlYWRlcnMuY29udGVudF90eXBlO1xuXCJhcHBsaWNhdGlvbi9qc29uXCI9PT1rJiYoZz1CKGIpKTtcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiPT09ayYmKGc9amIoYikpfWUub3BlbihmLGEsITApO2E9e1wiWC1SZXF1ZXN0ZWQtV2l0aFwiOlwiWE1MSHR0cFJlcXVlc3RcIixBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uO3RleHQvcGxhaW5cIn07emEoYSx0aGlzLm9wdGlvbnMuaGVhZGVycyk7Zm9yKHZhciBsIGluIGEpZS5zZXRSZXF1ZXN0SGVhZGVyKGwsYVtsXSk7ZS5zZW5kKGcpfTtBZy5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiEhd2luZG93LlhNTEh0dHBSZXF1ZXN0JiZcInN0cmluZ1wiPT09dHlwZW9mKG5ldyBYTUxIdHRwUmVxdWVzdCkucmVzcG9uc2VUeXBlJiYoIShcInVuZGVmaW5lZFwiIT09dHlwZW9mIG5hdmlnYXRvciYmKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL01TSUUvKXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVHJpZGVudC8pKSl8fG1nKCkpfTtBZy5wcm90b3R5cGUuQmM9ZnVuY3Rpb24oKXtyZXR1cm5cImpzb25cIn07ZnVuY3Rpb24gQmcoYSl7dGhpcy5vYz1HYSgpK0dhKCkrR2EoKTt0aGlzLkRmPWF9XG5CZy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe2MmJihjKHlnKFwiVVNFUl9DQU5DRUxMRURcIikpLGM9bnVsbCl9dmFyIGU9dGhpcyxmPVJjKGZnKSxnO2IucmVxdWVzdElkPXRoaXMub2M7Yi5yZWRpcmVjdFRvPWYuc2NoZW1lK1wiOi8vXCIrZi5ob3N0K1wiL2JsYW5rL3BhZ2UuaHRtbFwiO2ErPS9cXD8vLnRlc3QoYSk/XCJcIjpcIj9cIjthKz1qYihiKTsoZz13aW5kb3cub3BlbihhLFwiX2JsYW5rXCIsXCJsb2NhdGlvbj1ub1wiKSkmJmhhKGcuYWRkRXZlbnRMaXN0ZW5lcik/KGcuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRzdGFydFwiLGZ1bmN0aW9uKGEpe3ZhciBiO2lmKGI9YSYmYS51cmwpYTp7dHJ5e3ZhciBtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO20uaHJlZj1hLnVybDtiPW0uaG9zdD09PWYuaG9zdCYmXCIvYmxhbmsvcGFnZS5odG1sXCI9PT1tLnBhdGhuYW1lO2JyZWFrIGF9Y2F0Y2godil7fWI9ITF9YiYmKGE9cmcoYS51cmwpLGcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImV4aXRcIixcbmQpLGcuY2xvc2UoKSxhPW5ldyBnZyhudWxsLG51bGwse3JlcXVlc3RJZDplLm9jLHJlcXVlc3RLZXk6YX0pLGUuRGYucmVxdWVzdFdpdGhDcmVkZW50aWFsKFwiL2F1dGgvc2Vzc2lvblwiLGEsYyksYz1udWxsKX0pLGcuYWRkRXZlbnRMaXN0ZW5lcihcImV4aXRcIixkKSk6Yyh5ZyhcIlRSQU5TUE9SVF9VTkFWQUlMQUJMRVwiKSl9O0JnLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGtnKCl9O0JnLnByb3RvdHlwZS5CYz1mdW5jdGlvbigpe3JldHVyblwicmVkaXJlY3RcIn07ZnVuY3Rpb24gQ2coYSl7YS5jYWxsYmFja19wYXJhbWV0ZXJ8fChhLmNhbGxiYWNrX3BhcmFtZXRlcj1cImNhbGxiYWNrXCIpO3RoaXMub3B0aW9ucz1hO3dpbmRvdy5fX2ZpcmViYXNlX2F1dGhfanNvbnA9d2luZG93Ll9fZmlyZWJhc2VfYXV0aF9qc29ucHx8e319XG5DZy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe2MmJihjKHlnKFwiUkVRVUVTVF9JTlRFUlJVUFRFRFwiKSksYz1udWxsKX1mdW5jdGlvbiBlKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3dpbmRvdy5fX2ZpcmViYXNlX2F1dGhfanNvbnBbZl09dm9pZCAwO3dhKHdpbmRvdy5fX2ZpcmViYXNlX2F1dGhfanNvbnApJiYod2luZG93Ll9fZmlyZWJhc2VfYXV0aF9qc29ucD12b2lkIDApO3RyeXt2YXIgYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChmKTthJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSl9Y2F0Y2goYil7fX0sMSk7cGcod2luZG93LFwiYmVmb3JldW5sb2FkXCIsZCl9dmFyIGY9XCJmblwiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpK01hdGguZmxvb3IoOTk5OTkqTWF0aC5yYW5kb20oKSk7Ylt0aGlzLm9wdGlvbnMuY2FsbGJhY2tfcGFyYW1ldGVyXT1cIl9fZmlyZWJhc2VfYXV0aF9qc29ucC5cIitmO2ErPSgvXFw/Ly50ZXN0KGEpP1wiXCI6XCI/XCIpK2piKGIpO1xub2cod2luZG93LFwiYmVmb3JldW5sb2FkXCIsZCk7d2luZG93Ll9fZmlyZWJhc2VfYXV0aF9qc29ucFtmXT1mdW5jdGlvbihhKXtjJiYoYyhudWxsLGEpLGM9bnVsbCk7ZSgpfTtEZyhmLGEsYyl9O1xuZnVuY3Rpb24gRGcoYSxiLGMpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0cnl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtkLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjtkLmlkPWE7ZC5hc3luYz0hMDtkLnNyYz1iO2Qub25lcnJvcj1mdW5jdGlvbigpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpO251bGwhPT1iJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7YyYmYyh5ZyhcIk5FVFdPUktfRVJST1JcIikpfTt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIik7KGUmJjAhPWUubGVuZ3RoP2VbMF06ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChkKX1jYXRjaChmKXtjJiZjKHlnKFwiTkVUV09SS19FUlJPUlwiKSl9fSwwKX1DZy5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiEwfTtDZy5wcm90b3R5cGUuQmM9ZnVuY3Rpb24oKXtyZXR1cm5cImpzb25cIn07ZnVuY3Rpb24gRWcoYSxiLGMsZCl7SWYuY2FsbCh0aGlzLFtcImF1dGhfc3RhdHVzXCJdKTt0aGlzLkg9YTt0aGlzLmRmPWI7dGhpcy5TZz1jO3RoaXMuS2U9ZDt0aGlzLnJjPW5ldyBqZyhhLFtEYyxQXSk7dGhpcy5uYj1udWxsO3RoaXMuUmU9ITE7RmcodGhpcyl9bWEoRWcsSWYpO2g9RWcucHJvdG90eXBlO2gud2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYnx8bnVsbH07ZnVuY3Rpb24gRmcoYSl7UC5nZXQoXCJyZWRpcmVjdF9yZXF1ZXN0X2lkXCIpJiZHZyhhKTt2YXIgYj1hLnJjLmdldCgpO2ImJmIudG9rZW4/KEhnKGEsYiksYS5kZihiLnRva2VuLGZ1bmN0aW9uKGMsZCl7SWcoYSxjLGQsITEsYi50b2tlbixiKX0sZnVuY3Rpb24oYixkKXtKZyhhLFwicmVzdW1lU2Vzc2lvbigpXCIsYixkKX0pKTpIZyhhLG51bGwpfVxuZnVuY3Rpb24gS2coYSxiLGMsZCxlLGYpe1wiZmlyZWJhc2Vpby1kZW1vLmNvbVwiPT09YS5ILmRvbWFpbiYmUShcIkZpcmViYXNlIGF1dGhlbnRpY2F0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgb24gZGVtbyBGaXJlYmFzZXMgKCouZmlyZWJhc2Vpby1kZW1vLmNvbSkuIFRvIHNlY3VyZSB5b3VyIEZpcmViYXNlLCBjcmVhdGUgYSBwcm9kdWN0aW9uIEZpcmViYXNlIGF0IGh0dHBzOi8vd3d3LmZpcmViYXNlLmNvbS5cIik7YS5kZihiLGZ1bmN0aW9uKGYsayl7SWcoYSxmLGssITAsYixjLGR8fHt9LGUpfSxmdW5jdGlvbihiLGMpe0pnKGEsXCJhdXRoKClcIixiLGMsZil9KX1mdW5jdGlvbiBMZyhhLGIpe2EucmMuY2xlYXIoKTtIZyhhLG51bGwpO2EuU2coZnVuY3Rpb24oYSxkKXtpZihcIm9rXCI9PT1hKVIoYixudWxsKTtlbHNle3ZhciBlPShhfHxcImVycm9yXCIpLnRvVXBwZXJDYXNlKCksZj1lO2QmJihmKz1cIjogXCIrZCk7Zj1FcnJvcihmKTtmLmNvZGU9ZTtSKGIsZil9fSl9XG5mdW5jdGlvbiBJZyhhLGIsYyxkLGUsZixnLGspe1wib2tcIj09PWI/KGQmJihiPWMuYXV0aCxmLmF1dGg9YixmLmV4cGlyZXM9Yy5leHBpcmVzLGYudG9rZW49Y2QoZSk/ZTpcIlwiLGM9bnVsbCxiJiZ1KGIsXCJ1aWRcIik/Yz13KGIsXCJ1aWRcIik6dShmLFwidWlkXCIpJiYoYz13KGYsXCJ1aWRcIikpLGYudWlkPWMsYz1cImN1c3RvbVwiLGImJnUoYixcInByb3ZpZGVyXCIpP2M9dyhiLFwicHJvdmlkZXJcIik6dShmLFwicHJvdmlkZXJcIikmJihjPXcoZixcInByb3ZpZGVyXCIpKSxmLnByb3ZpZGVyPWMsYS5yYy5jbGVhcigpLGNkKGUpJiYoZz1nfHx7fSxjPURjLFwic2Vzc2lvbk9ubHlcIj09PWcucmVtZW1iZXImJihjPVApLFwibm9uZVwiIT09Zy5yZW1lbWJlciYmYS5yYy5zZXQoZixjKSksSGcoYSxmKSksUihrLG51bGwsZikpOihhLnJjLmNsZWFyKCksSGcoYSxudWxsKSxmPWE9KGJ8fFwiZXJyb3JcIikudG9VcHBlckNhc2UoKSxjJiYoZis9XCI6IFwiK2MpLGY9RXJyb3IoZiksZi5jb2RlPWEsUihrLGYpKX1cbmZ1bmN0aW9uIEpnKGEsYixjLGQsZSl7UShiK1wiIHdhcyBjYW5jZWxlZDogXCIrZCk7YS5yYy5jbGVhcigpO0hnKGEsbnVsbCk7YT1FcnJvcihkKTthLmNvZGU9Yy50b1VwcGVyQ2FzZSgpO1IoZSxhKX1mdW5jdGlvbiBNZyhhLGIsYyxkLGUpe05nKGEpO2M9bmV3IGdnKGR8fHt9LHt9LGN8fHt9KTtPZyhhLFtBZyxDZ10sXCIvYXV0aC9cIitiLGMsZSl9XG5mdW5jdGlvbiBQZyhhLGIsYyxkKXtOZyhhKTt2YXIgZT1bemcsQmddO2M9aWcoYyk7XCJhbm9ueW1vdXNcIj09PWJ8fFwicGFzc3dvcmRcIj09PWI/c2V0VGltZW91dChmdW5jdGlvbigpe1IoZCx5ZyhcIlRSQU5TUE9SVF9VTkFWQUlMQUJMRVwiKSl9LDApOihjLmNlLndpbmRvd19mZWF0dXJlcz1cIm1lbnViYXI9eWVzLG1vZGFsPXllcyxhbHdheXNSYWlzZWQ9eWVzbG9jYXRpb249eWVzLHJlc2l6YWJsZT15ZXMsc2Nyb2xsYmFycz15ZXMsc3RhdHVzPXllcyxoZWlnaHQ9NjI1LHdpZHRoPTYyNSx0b3A9XCIrKFwib2JqZWN0XCI9PT10eXBlb2Ygc2NyZWVuPy41KihzY3JlZW4uaGVpZ2h0LTYyNSk6MCkrXCIsbGVmdD1cIisoXCJvYmplY3RcIj09PXR5cGVvZiBzY3JlZW4/LjUqKHNjcmVlbi53aWR0aC02MjUpOjApLGMuY2UucmVsYXlfdXJsPXRnKGEuSC5DYiksYy5jZS5yZXF1ZXN0V2l0aENyZWRlbnRpYWw9cShhLnBjLGEpLE9nKGEsZSxcIi9hdXRoL1wiK2IsYyxkKSl9XG5mdW5jdGlvbiBHZyhhKXt2YXIgYj1QLmdldChcInJlZGlyZWN0X3JlcXVlc3RfaWRcIik7aWYoYil7dmFyIGM9UC5nZXQoXCJyZWRpcmVjdF9jbGllbnRfb3B0aW9uc1wiKTtQLnJlbW92ZShcInJlZGlyZWN0X3JlcXVlc3RfaWRcIik7UC5yZW1vdmUoXCJyZWRpcmVjdF9jbGllbnRfb3B0aW9uc1wiKTt2YXIgZD1bQWcsQ2ddLGI9e3JlcXVlc3RJZDpiLHJlcXVlc3RLZXk6cmcoZG9jdW1lbnQubG9jYXRpb24uaGFzaCl9LGM9bmV3IGdnKGMse30sYik7YS5SZT0hMDt0cnl7ZG9jdW1lbnQubG9jYXRpb24uaGFzaD1kb2N1bWVudC5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoLyZfX2ZpcmViYXNlX3JlcXVlc3Rfa2V5PShbYS16QS16MC05XSopLyxcIlwiKX1jYXRjaChlKXt9T2coYSxkLFwiL2F1dGgvc2Vzc2lvblwiLGMsZnVuY3Rpb24oKXt0aGlzLlJlPSExfS5iaW5kKGEpKX19XG5oLnJlPWZ1bmN0aW9uKGEsYil7TmcodGhpcyk7dmFyIGM9aWcoYSk7Yy5hYi5fbWV0aG9kPVwiUE9TVFwiO3RoaXMucGMoXCIvdXNlcnNcIixjLGZ1bmN0aW9uKGEsYyl7YT9SKGIsYSk6UihiLGEsYyl9KX07aC5TZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7TmcodGhpcyk7dmFyIGQ9XCIvdXNlcnMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGEuZW1haWwpLGU9aWcoYSk7ZS5hYi5fbWV0aG9kPVwiREVMRVRFXCI7dGhpcy5wYyhkLGUsZnVuY3Rpb24oYSxkKXshYSYmZCYmZC51aWQmJmMubmImJmMubmIudWlkJiZjLm5iLnVpZD09PWQudWlkJiZMZyhjKTtSKGIsYSl9KX07aC5vZT1mdW5jdGlvbihhLGIpe05nKHRoaXMpO3ZhciBjPVwiL3VzZXJzL1wiK2VuY29kZVVSSUNvbXBvbmVudChhLmVtYWlsKStcIi9wYXNzd29yZFwiLGQ9aWcoYSk7ZC5hYi5fbWV0aG9kPVwiUFVUXCI7ZC5hYi5wYXNzd29yZD1hLm5ld1Bhc3N3b3JkO3RoaXMucGMoYyxkLGZ1bmN0aW9uKGEpe1IoYixhKX0pfTtcbmgubmU9ZnVuY3Rpb24oYSxiKXtOZyh0aGlzKTt2YXIgYz1cIi91c2Vycy9cIitlbmNvZGVVUklDb21wb25lbnQoYS5vbGRFbWFpbCkrXCIvZW1haWxcIixkPWlnKGEpO2QuYWIuX21ldGhvZD1cIlBVVFwiO2QuYWIuZW1haWw9YS5uZXdFbWFpbDtkLmFiLnBhc3N3b3JkPWEucGFzc3dvcmQ7dGhpcy5wYyhjLGQsZnVuY3Rpb24oYSl7UihiLGEpfSl9O2guVWU9ZnVuY3Rpb24oYSxiKXtOZyh0aGlzKTt2YXIgYz1cIi91c2Vycy9cIitlbmNvZGVVUklDb21wb25lbnQoYS5lbWFpbCkrXCIvcGFzc3dvcmRcIixkPWlnKGEpO2QuYWIuX21ldGhvZD1cIlBPU1RcIjt0aGlzLnBjKGMsZCxmdW5jdGlvbihhKXtSKGIsYSl9KX07aC5wYz1mdW5jdGlvbihhLGIsYyl7UWcodGhpcyxbQWcsQ2ddLGEsYixjKX07XG5mdW5jdGlvbiBPZyhhLGIsYyxkLGUpe1FnKGEsYixjLGQsZnVuY3Rpb24oYixjKXshYiYmYyYmYy50b2tlbiYmYy51aWQ/S2coYSxjLnRva2VuLGMsZC5sZCxmdW5jdGlvbihhLGIpe2E/UihlLGEpOlIoZSxudWxsLGIpfSk6UihlLGJ8fHlnKFwiVU5LTk9XTl9FUlJPUlwiKSl9KX1cbmZ1bmN0aW9uIFFnKGEsYixjLGQsZSl7Yj1QYShiLGZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmlzQXZhaWxhYmxlJiZhLmlzQXZhaWxhYmxlKCl9KTswPT09Yi5sZW5ndGg/c2V0VGltZW91dChmdW5jdGlvbigpe1IoZSx5ZyhcIlRSQU5TUE9SVF9VTkFWQUlMQUJMRVwiKSl9LDApOihiPW5ldyAoYi5zaGlmdCgpKShkLmNlKSxkPWliKGQuYWIpLGQudj1cImpzLTIuMi40XCIsZC50cmFuc3BvcnQ9Yi5CYygpLGQuc3VwcHJlc3Nfc3RhdHVzX2NvZGVzPSEwLGE9c2coKStcIi9cIithLkguQ2IrYyxiLm9wZW4oYSxkLGZ1bmN0aW9uKGEsYil7aWYoYSlSKGUsYSk7ZWxzZSBpZihiJiZiLmVycm9yKXt2YXIgYz1FcnJvcihiLmVycm9yLm1lc3NhZ2UpO2MuY29kZT1iLmVycm9yLmNvZGU7Yy5kZXRhaWxzPWIuZXJyb3IuZGV0YWlscztSKGUsYyl9ZWxzZSBSKGUsbnVsbCxiKX0pKX1cbmZ1bmN0aW9uIEhnKGEsYil7dmFyIGM9bnVsbCE9PWEubmJ8fG51bGwhPT1iO2EubmI9YjtjJiZhLmRlKFwiYXV0aF9zdGF0dXNcIixiKTthLktlKG51bGwhPT1iKX1oLnplPWZ1bmN0aW9uKGEpe0ooXCJhdXRoX3N0YXR1c1wiPT09YSwnaW5pdGlhbCBldmVudCBtdXN0IGJlIG9mIHR5cGUgXCJhdXRoX3N0YXR1c1wiJyk7cmV0dXJuIHRoaXMuUmU/bnVsbDpbdGhpcy5uYl19O2Z1bmN0aW9uIE5nKGEpe3ZhciBiPWEuSDtpZihcImZpcmViYXNlaW8uY29tXCIhPT1iLmRvbWFpbiYmXCJmaXJlYmFzZWlvLWRlbW8uY29tXCIhPT1iLmRvbWFpbiYmXCJhdXRoLmZpcmViYXNlLmNvbVwiPT09ZmcpdGhyb3cgRXJyb3IoXCJUaGlzIGN1c3RvbSBGaXJlYmFzZSBzZXJ2ZXIgKCdcIithLkguZG9tYWluK1wiJykgZG9lcyBub3Qgc3VwcG9ydCBkZWxlZ2F0ZWQgbG9naW4uXCIpO307ZnVuY3Rpb24gUmcoYSl7dGhpcy5oYz1hO3RoaXMuS2Q9W107dGhpcy5RYj0wO3RoaXMucGU9LTE7dGhpcy5GYj1udWxsfWZ1bmN0aW9uIFNnKGEsYixjKXthLnBlPWI7YS5GYj1jO2EucGU8YS5RYiYmKGEuRmIoKSxhLkZiPW51bGwpfWZ1bmN0aW9uIFRnKGEsYixjKXtmb3IoYS5LZFtiXT1jO2EuS2RbYS5RYl07KXt2YXIgZD1hLktkW2EuUWJdO2RlbGV0ZSBhLktkW2EuUWJdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKWlmKGRbZV0pe3ZhciBmPWE7Q2IoZnVuY3Rpb24oKXtmLmhjKGRbZV0pfSl9aWYoYS5RYj09PWEucGUpe2EuRmImJihjbGVhclRpbWVvdXQoYS5GYiksYS5GYigpLGEuRmI9bnVsbCk7YnJlYWt9YS5RYisrfX07ZnVuY3Rpb24gVWcoYSxiLGMpe3RoaXMucWU9YTt0aGlzLmY9T2MoYSk7dGhpcy5vYj10aGlzLnBiPTA7dGhpcy5WYT1PYihiKTt0aGlzLlZkPWM7dGhpcy5HYz0hMTt0aGlzLmdkPWZ1bmN0aW9uKGEpe2IuaG9zdCE9PWIuT2EmJihhLm5zPWIuQ2IpO3ZhciBjPVtdLGY7Zm9yKGYgaW4gYSlhLmhhc093blByb3BlcnR5KGYpJiZjLnB1c2goZitcIj1cIithW2ZdKTtyZXR1cm4oYi5sYj9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK2IuT2ErXCIvLmxwP1wiK2Muam9pbihcIiZcIil9fXZhciBWZyxXZztcblVnLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYil7dGhpcy5nZj0wO3RoaXMua2E9Yjt0aGlzLnpmPW5ldyBSZyhhKTt0aGlzLnpiPSExO3ZhciBjPXRoaXM7dGhpcy5yYj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5mKFwiVGltZWQgb3V0IHRyeWluZyB0byBjb25uZWN0LlwiKTtjLmliKCk7Yy5yYj1udWxsfSxNYXRoLmZsb29yKDNFNCkpO1RjKGZ1bmN0aW9uKCl7aWYoIWMuemIpe2MuVGE9bmV3IFhnKGZ1bmN0aW9uKGEsYixkLGssbCl7WWcoYyxhcmd1bWVudHMpO2lmKGMuVGEpaWYoYy5yYiYmKGNsZWFyVGltZW91dChjLnJiKSxjLnJiPW51bGwpLGMuR2M9ITAsXCJzdGFydFwiPT1hKWMuaWQ9YixjLkZmPWQ7ZWxzZSBpZihcImNsb3NlXCI9PT1hKWI/KGMuVGEuVGQ9ITEsU2coYy56ZixiLGZ1bmN0aW9uKCl7Yy5pYigpfSkpOmMuaWIoKTtlbHNlIHRocm93IEVycm9yKFwiVW5yZWNvZ25pemVkIGNvbW1hbmQgcmVjZWl2ZWQ6IFwiK2EpO30sZnVuY3Rpb24oYSxiKXtZZyhjLGFyZ3VtZW50cyk7XG5UZyhjLnpmLGEsYil9LGZ1bmN0aW9uKCl7Yy5pYigpfSxjLmdkKTt2YXIgYT17c3RhcnQ6XCJ0XCJ9O2Euc2VyPU1hdGguZmxvb3IoMUU4Kk1hdGgucmFuZG9tKCkpO2MuVGEuZmUmJihhLmNiPWMuVGEuZmUpO2Eudj1cIjVcIjtjLlZkJiYoYS5zPWMuVmQpO1widW5kZWZpbmVkXCIhPT10eXBlb2YgbG9jYXRpb24mJmxvY2F0aW9uLmhyZWYmJi0xIT09bG9jYXRpb24uaHJlZi5pbmRleE9mKFwiZmlyZWJhc2Vpby5jb21cIikmJihhLnI9XCJmXCIpO2E9Yy5nZChhKTtjLmYoXCJDb25uZWN0aW5nIHZpYSBsb25nLXBvbGwgdG8gXCIrYSk7WmcoYy5UYSxhLGZ1bmN0aW9uKCl7fSl9fSl9O1xuVWcucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5UYSxiPXRoaXMuRmY7YS5yZz10aGlzLmlkO2Euc2c9Yjtmb3IoYS5rZT0hMDskZyhhKTspO2E9dGhpcy5pZDtiPXRoaXMuRmY7dGhpcy5mYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO3ZhciBjPXtkZnJhbWU6XCJ0XCJ9O2MuaWQ9YTtjLnB3PWI7dGhpcy5mYy5zcmM9dGhpcy5nZChjKTt0aGlzLmZjLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmZjKX07VWcuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hV2cmJiEoXCJvYmplY3RcIj09PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5jaHJvbWUmJndpbmRvdy5jaHJvbWUuZXh0ZW5zaW9uJiYhL15jaHJvbWUvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhyZWYpKSYmIShcIm9iamVjdFwiPT09dHlwZW9mIFdpbmRvd3MmJlwib2JqZWN0XCI9PT10eXBlb2YgV2luZG93cy5VZykmJihWZ3x8ITApfTtoPVVnLnByb3RvdHlwZTtcbmguQmQ9ZnVuY3Rpb24oKXt9O2guY2Q9ZnVuY3Rpb24oKXt0aGlzLnpiPSEwO3RoaXMuVGEmJih0aGlzLlRhLmNsb3NlKCksdGhpcy5UYT1udWxsKTt0aGlzLmZjJiYoZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmZjKSx0aGlzLmZjPW51bGwpO3RoaXMucmImJihjbGVhclRpbWVvdXQodGhpcy5yYiksdGhpcy5yYj1udWxsKX07aC5pYj1mdW5jdGlvbigpe3RoaXMuemJ8fCh0aGlzLmYoXCJMb25ncG9sbCBpcyBjbG9zaW5nIGl0c2VsZlwiKSx0aGlzLmNkKCksdGhpcy5rYSYmKHRoaXMua2EodGhpcy5HYyksdGhpcy5rYT1udWxsKSl9O2guY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnpifHwodGhpcy5mKFwiTG9uZ3BvbGwgaXMgYmVpbmcgY2xvc2VkLlwiKSx0aGlzLmNkKCkpfTtcbmguc2VuZD1mdW5jdGlvbihhKXthPUIoYSk7dGhpcy5wYis9YS5sZW5ndGg7TGIodGhpcy5WYSxcImJ5dGVzX3NlbnRcIixhLmxlbmd0aCk7YT1LYyhhKTthPWZiKGEsITApO2E9WGMoYSwxODQwKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5UYTtjLiRjLnB1c2goe0pnOnRoaXMuZ2YsUmc6YS5sZW5ndGgsamY6YVtiXX0pO2Mua2UmJiRnKGMpO3RoaXMuZ2YrK319O2Z1bmN0aW9uIFlnKGEsYil7dmFyIGM9QihiKS5sZW5ndGg7YS5vYis9YztMYihhLlZhLFwiYnl0ZXNfcmVjZWl2ZWRcIixjKX1cbmZ1bmN0aW9uIFhnKGEsYixjLGQpe3RoaXMuZ2Q9ZDt0aGlzLmpiPWM7dGhpcy5PZT1uZXcgY2c7dGhpcy4kYz1bXTt0aGlzLnNlPU1hdGguZmxvb3IoMUU4Kk1hdGgucmFuZG9tKCkpO3RoaXMuVGQ9ITA7dGhpcy5mZT1HYygpO3dpbmRvd1tcInBMUENvbW1hbmRcIit0aGlzLmZlXT1hO3dpbmRvd1tcInBSVExQQ0JcIit0aGlzLmZlXT1iO2E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTthLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7aWYoZG9jdW1lbnQuYm9keSl7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTt0cnl7YS5jb250ZW50V2luZG93LmRvY3VtZW50fHxCYihcIk5vIElFIGRvbWFpbiBzZXR0aW5nIHJlcXVpcmVkXCIpfWNhdGNoKGUpe2Euc3JjPVwiamF2YXNjcmlwdDp2b2lkKChmdW5jdGlvbigpe2RvY3VtZW50Lm9wZW4oKTtkb2N1bWVudC5kb21haW49J1wiK2RvY3VtZW50LmRvbWFpbitcIic7ZG9jdW1lbnQuY2xvc2UoKTt9KSgpKVwifX1lbHNlIHRocm93XCJEb2N1bWVudCBib2R5IGhhcyBub3QgaW5pdGlhbGl6ZWQuIFdhaXQgdG8gaW5pdGlhbGl6ZSBGaXJlYmFzZSB1bnRpbCBhZnRlciB0aGUgZG9jdW1lbnQgaXMgcmVhZHkuXCI7XG5hLmNvbnRlbnREb2N1bWVudD9hLmdiPWEuY29udGVudERvY3VtZW50OmEuY29udGVudFdpbmRvdz9hLmdiPWEuY29udGVudFdpbmRvdy5kb2N1bWVudDphLmRvY3VtZW50JiYoYS5nYj1hLmRvY3VtZW50KTt0aGlzLkNhPWE7YT1cIlwiO3RoaXMuQ2Euc3JjJiZcImphdmFzY3JpcHQ6XCI9PT10aGlzLkNhLnNyYy5zdWJzdHIoMCwxMSkmJihhPSc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj1cIicrZG9jdW1lbnQuZG9tYWluKydcIjtcXHgzYy9zY3JpcHQ+Jyk7YT1cIjxodG1sPjxib2R5PlwiK2ErXCI8L2JvZHk+PC9odG1sPlwiO3RyeXt0aGlzLkNhLmdiLm9wZW4oKSx0aGlzLkNhLmdiLndyaXRlKGEpLHRoaXMuQ2EuZ2IuY2xvc2UoKX1jYXRjaChmKXtCYihcImZyYW1lIHdyaXRpbmcgZXhjZXB0aW9uXCIpLGYuc3RhY2smJkJiKGYuc3RhY2spLEJiKGYpfX1cblhnLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMua2U9ITE7aWYodGhpcy5DYSl7dGhpcy5DYS5nYi5ib2R5LmlubmVySFRNTD1cIlwiO3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe251bGwhPT1hLkNhJiYoZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhLkNhKSxhLkNhPW51bGwpfSxNYXRoLmZsb29yKDApKX12YXIgYj10aGlzLmpiO2ImJih0aGlzLmpiPW51bGwsYigpKX07XG5mdW5jdGlvbiAkZyhhKXtpZihhLmtlJiZhLlRkJiZhLk9lLmNvdW50KCk8KDA8YS4kYy5sZW5ndGg/MjoxKSl7YS5zZSsrO3ZhciBiPXt9O2IuaWQ9YS5yZztiLnB3PWEuc2c7Yi5zZXI9YS5zZTtmb3IodmFyIGI9YS5nZChiKSxjPVwiXCIsZD0wOzA8YS4kYy5sZW5ndGg7KWlmKDE4NzA+PWEuJGNbMF0uamYubGVuZ3RoKzMwK2MubGVuZ3RoKXt2YXIgZT1hLiRjLnNoaWZ0KCksYz1jK1wiJnNlZ1wiK2QrXCI9XCIrZS5KZytcIiZ0c1wiK2QrXCI9XCIrZS5SZytcIiZkXCIrZCtcIj1cIitlLmpmO2QrK31lbHNlIGJyZWFrO2FoKGEsYitjLGEuc2UpO3JldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGFoKGEsYixjKXtmdW5jdGlvbiBkKCl7YS5PZS5yZW1vdmUoYyk7JGcoYSl9YS5PZS5hZGQoYywxKTt2YXIgZT1zZXRUaW1lb3V0KGQsTWF0aC5mbG9vcigyNUUzKSk7WmcoYSxiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGUpO2QoKX0pfVxuZnVuY3Rpb24gWmcoYSxiLGMpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0cnl7aWYoYS5UZCl7dmFyIGQ9YS5DYS5nYi5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2QudHlwZT1cInRleHQvamF2YXNjcmlwdFwiO2QuYXN5bmM9ITA7ZC5zcmM9YjtkLm9ubG9hZD1kLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3ZhciBhPWQucmVhZHlTdGF0ZTthJiZcImxvYWRlZFwiIT09YSYmXCJjb21wbGV0ZVwiIT09YXx8KGQub25sb2FkPWQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZC5wYXJlbnROb2RlJiZkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCksYygpKX07ZC5vbmVycm9yPWZ1bmN0aW9uKCl7QmIoXCJMb25nLXBvbGwgc2NyaXB0IGZhaWxlZCB0byBsb2FkOiBcIitiKTthLlRkPSExO2EuY2xvc2UoKX07YS5DYS5nYi5ib2R5LmFwcGVuZENoaWxkKGQpfX1jYXRjaChlKXt9fSxNYXRoLmZsb29yKDEpKX07dmFyIGJoPW51bGw7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBNb3pXZWJTb2NrZXQ/Ymg9TW96V2ViU29ja2V0OlwidW5kZWZpbmVkXCIhPT10eXBlb2YgV2ViU29ja2V0JiYoYmg9V2ViU29ja2V0KTtmdW5jdGlvbiBjaChhLGIsYyl7dGhpcy5xZT1hO3RoaXMuZj1PYyh0aGlzLnFlKTt0aGlzLmZyYW1lcz10aGlzLkpjPW51bGw7dGhpcy5vYj10aGlzLnBiPXRoaXMuYmY9MDt0aGlzLlZhPU9iKGIpO3RoaXMuZmI9KGIubGI/XCJ3c3M6Ly9cIjpcIndzOi8vXCIpK2IuT2ErXCIvLndzP3Y9NVwiO1widW5kZWZpbmVkXCIhPT10eXBlb2YgbG9jYXRpb24mJmxvY2F0aW9uLmhyZWYmJi0xIT09bG9jYXRpb24uaHJlZi5pbmRleE9mKFwiZmlyZWJhc2Vpby5jb21cIikmJih0aGlzLmZiKz1cIiZyPWZcIik7Yi5ob3N0IT09Yi5PYSYmKHRoaXMuZmI9dGhpcy5mYitcIiZucz1cIitiLkNiKTtjJiYodGhpcy5mYj10aGlzLmZiK1wiJnM9XCIrYyl9dmFyIGRoO1xuY2gucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oYSxiKXt0aGlzLmpiPWI7dGhpcy53Zz1hO3RoaXMuZihcIldlYnNvY2tldCBjb25uZWN0aW5nIHRvIFwiK3RoaXMuZmIpO3RoaXMuR2M9ITE7RGMuc2V0KFwicHJldmlvdXNfd2Vic29ja2V0X2ZhaWx1cmVcIiwhMCk7dHJ5e3RoaXMudmE9bmV3IGJoKHRoaXMuZmIpfWNhdGNoKGMpe3RoaXMuZihcIkVycm9yIGluc3RhbnRpYXRpbmcgV2ViU29ja2V0LlwiKTt2YXIgZD1jLm1lc3NhZ2V8fGMuZGF0YTtkJiZ0aGlzLmYoZCk7dGhpcy5pYigpO3JldHVybn12YXIgZT10aGlzO3RoaXMudmEub25vcGVuPWZ1bmN0aW9uKCl7ZS5mKFwiV2Vic29ja2V0IGNvbm5lY3RlZC5cIik7ZS5HYz0hMH07dGhpcy52YS5vbmNsb3NlPWZ1bmN0aW9uKCl7ZS5mKFwiV2Vic29ja2V0IGNvbm5lY3Rpb24gd2FzIGRpc2Nvbm5lY3RlZC5cIik7ZS52YT1udWxsO2UuaWIoKX07dGhpcy52YS5vbm1lc3NhZ2U9ZnVuY3Rpb24oYSl7aWYobnVsbCE9PWUudmEpaWYoYT1hLmRhdGEsZS5vYis9XG5hLmxlbmd0aCxMYihlLlZhLFwiYnl0ZXNfcmVjZWl2ZWRcIixhLmxlbmd0aCksZWgoZSksbnVsbCE9PWUuZnJhbWVzKWZoKGUsYSk7ZWxzZXthOntKKG51bGw9PT1lLmZyYW1lcyxcIldlIGFscmVhZHkgaGF2ZSBhIGZyYW1lIGJ1ZmZlclwiKTtpZig2Pj1hLmxlbmd0aCl7dmFyIGI9TnVtYmVyKGEpO2lmKCFpc05hTihiKSl7ZS5iZj1iO2UuZnJhbWVzPVtdO2E9bnVsbDticmVhayBhfX1lLmJmPTE7ZS5mcmFtZXM9W119bnVsbCE9PWEmJmZoKGUsYSl9fTt0aGlzLnZhLm9uZXJyb3I9ZnVuY3Rpb24oYSl7ZS5mKFwiV2ViU29ja2V0IGVycm9yLiAgQ2xvc2luZyBjb25uZWN0aW9uLlwiKTsoYT1hLm1lc3NhZ2V8fGEuZGF0YSkmJmUuZihhKTtlLmliKCl9fTtjaC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt9O1xuY2guaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXt2YXIgYT0hMTtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCl7dmFyIGI9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZCAoWzAtOV17MCx9XFwuWzAtOV17MCx9KS8pO2ImJjE8Yi5sZW5ndGgmJjQuND5wYXJzZUZsb2F0KGJbMV0pJiYoYT0hMCl9cmV0dXJuIWEmJm51bGwhPT1iaCYmIWRofTtjaC5yZXNwb25zZXNSZXF1aXJlZFRvQmVIZWFsdGh5PTI7Y2guaGVhbHRoeVRpbWVvdXQ9M0U0O2g9Y2gucHJvdG90eXBlO2guQmQ9ZnVuY3Rpb24oKXtEYy5yZW1vdmUoXCJwcmV2aW91c193ZWJzb2NrZXRfZmFpbHVyZVwiKX07ZnVuY3Rpb24gZmgoYSxiKXthLmZyYW1lcy5wdXNoKGIpO2lmKGEuZnJhbWVzLmxlbmd0aD09YS5iZil7dmFyIGM9YS5mcmFtZXMuam9pbihcIlwiKTthLmZyYW1lcz1udWxsO2M9bWIoYyk7YS53ZyhjKX19XG5oLnNlbmQ9ZnVuY3Rpb24oYSl7ZWgodGhpcyk7YT1CKGEpO3RoaXMucGIrPWEubGVuZ3RoO0xiKHRoaXMuVmEsXCJieXRlc19zZW50XCIsYS5sZW5ndGgpO2E9WGMoYSwxNjM4NCk7MTxhLmxlbmd0aCYmdGhpcy52YS5zZW5kKFN0cmluZyhhLmxlbmd0aCkpO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXRoaXMudmEuc2VuZChhW2JdKX07aC5jZD1mdW5jdGlvbigpe3RoaXMuemI9ITA7dGhpcy5KYyYmKGNsZWFySW50ZXJ2YWwodGhpcy5KYyksdGhpcy5KYz1udWxsKTt0aGlzLnZhJiYodGhpcy52YS5jbG9zZSgpLHRoaXMudmE9bnVsbCl9O2guaWI9ZnVuY3Rpb24oKXt0aGlzLnpifHwodGhpcy5mKFwiV2ViU29ja2V0IGlzIGNsb3NpbmcgaXRzZWxmXCIpLHRoaXMuY2QoKSx0aGlzLmpiJiYodGhpcy5qYih0aGlzLkdjKSx0aGlzLmpiPW51bGwpKX07aC5jbG9zZT1mdW5jdGlvbigpe3RoaXMuemJ8fCh0aGlzLmYoXCJXZWJTb2NrZXQgaXMgYmVpbmcgY2xvc2VkXCIpLHRoaXMuY2QoKSl9O1xuZnVuY3Rpb24gZWgoYSl7Y2xlYXJJbnRlcnZhbChhLkpjKTthLkpjPXNldEludGVydmFsKGZ1bmN0aW9uKCl7YS52YSYmYS52YS5zZW5kKFwiMFwiKTtlaChhKX0sTWF0aC5mbG9vcig0NUUzKSl9O2Z1bmN0aW9uIGdoKGEpe2hoKHRoaXMsYSl9dmFyIGloPVtVZyxjaF07ZnVuY3Rpb24gaGgoYSxiKXt2YXIgYz1jaCYmY2guaXNBdmFpbGFibGUoKSxkPWMmJiEoRGMudWZ8fCEwPT09RGMuZ2V0KFwicHJldmlvdXNfd2Vic29ja2V0X2ZhaWx1cmVcIikpO2IuVGcmJihjfHxRKFwid3NzOi8vIFVSTCB1c2VkLCBidXQgYnJvd3NlciBpc24ndCBrbm93biB0byBzdXBwb3J0IHdlYnNvY2tldHMuICBUcnlpbmcgYW55d2F5LlwiKSxkPSEwKTtpZihkKWEuZWQ9W2NoXTtlbHNle3ZhciBlPWEuZWQ9W107WWMoaWgsZnVuY3Rpb24oYSxiKXtiJiZiLmlzQXZhaWxhYmxlKCkmJmUucHVzaChiKX0pfX1mdW5jdGlvbiBqaChhKXtpZigwPGEuZWQubGVuZ3RoKXJldHVybiBhLmVkWzBdO3Rocm93IEVycm9yKFwiTm8gdHJhbnNwb3J0cyBhdmFpbGFibGVcIik7fTtmdW5jdGlvbiBraChhLGIsYyxkLGUsZil7dGhpcy5pZD1hO3RoaXMuZj1PYyhcImM6XCIrdGhpcy5pZCtcIjpcIik7dGhpcy5oYz1jO3RoaXMuVmM9ZDt0aGlzLmthPWU7dGhpcy5NZT1mO3RoaXMuSD1iO3RoaXMuSmQ9W107dGhpcy5lZj0wO3RoaXMuTmY9bmV3IGdoKGIpO3RoaXMuVWE9MDt0aGlzLmYoXCJDb25uZWN0aW9uIGNyZWF0ZWRcIik7bGgodGhpcyl9XG5mdW5jdGlvbiBsaChhKXt2YXIgYj1qaChhLk5mKTthLkw9bmV3IGIoXCJjOlwiK2EuaWQrXCI6XCIrYS5lZisrLGEuSCk7YS5RZT1iLnJlc3BvbnNlc1JlcXVpcmVkVG9CZUhlYWx0aHl8fDA7dmFyIGM9bWgoYSxhLkwpLGQ9bmgoYSxhLkwpO2EuZmQ9YS5MO2EuYmQ9YS5MO2EuRj1udWxsO2EuQWI9ITE7c2V0VGltZW91dChmdW5jdGlvbigpe2EuTCYmYS5MLm9wZW4oYyxkKX0sTWF0aC5mbG9vcigwKSk7Yj1iLmhlYWx0aHlUaW1lb3V0fHwwOzA8YiYmKGEudmQ9c2V0VGltZW91dChmdW5jdGlvbigpe2EudmQ9bnVsbDthLkFifHwoYS5MJiYxMDI0MDA8YS5MLm9iPyhhLmYoXCJDb25uZWN0aW9uIGV4Y2VlZGVkIGhlYWx0aHkgdGltZW91dCBidXQgaGFzIHJlY2VpdmVkIFwiK2EuTC5vYitcIiBieXRlcy4gIE1hcmtpbmcgY29ubmVjdGlvbiBoZWFsdGh5LlwiKSxhLkFiPSEwLGEuTC5CZCgpKTphLkwmJjEwMjQwPGEuTC5wYj9hLmYoXCJDb25uZWN0aW9uIGV4Y2VlZGVkIGhlYWx0aHkgdGltZW91dCBidXQgaGFzIHNlbnQgXCIrXG5hLkwucGIrXCIgYnl0ZXMuICBMZWF2aW5nIGNvbm5lY3Rpb24gYWxpdmUuXCIpOihhLmYoXCJDbG9zaW5nIHVuaGVhbHRoeSBjb25uZWN0aW9uIGFmdGVyIHRpbWVvdXQuXCIpLGEuY2xvc2UoKSkpfSxNYXRoLmZsb29yKGIpKSl9ZnVuY3Rpb24gbmgoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7Yj09PWEuTD8oYS5MPW51bGwsY3x8MCE9PWEuVWE/MT09PWEuVWEmJmEuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gbG9zdC5cIik6KGEuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gZmFpbGVkLlwiKSxcInMtXCI9PT1hLkguT2Euc3Vic3RyKDAsMikmJihEYy5yZW1vdmUoXCJob3N0OlwiK2EuSC5ob3N0KSxhLkguT2E9YS5ILmhvc3QpKSxhLmNsb3NlKCkpOmI9PT1hLkY/KGEuZihcIlNlY29uZGFyeSBjb25uZWN0aW9uIGxvc3QuXCIpLGM9YS5GLGEuRj1udWxsLGEuZmQhPT1jJiZhLmJkIT09Y3x8YS5jbG9zZSgpKTphLmYoXCJjbG9zaW5nIGFuIG9sZCBjb25uZWN0aW9uXCIpfX1cbmZ1bmN0aW9uIG1oKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2lmKDIhPWEuVWEpaWYoYj09PWEuYmQpe3ZhciBkPVZjKFwidFwiLGMpO2M9VmMoXCJkXCIsYyk7aWYoXCJjXCI9PWQpe2lmKGQ9VmMoXCJ0XCIsYyksXCJkXCJpbiBjKWlmKGM9Yy5kLFwiaFwiPT09ZCl7dmFyIGQ9Yy50cyxlPWMudixmPWMuaDthLlZkPWMucztGYyhhLkgsZik7MD09YS5VYSYmKGEuTC5zdGFydCgpLG9oKGEsYS5MLGQpLFwiNVwiIT09ZSYmUShcIlByb3RvY29sIHZlcnNpb24gbWlzbWF0Y2ggZGV0ZWN0ZWRcIiksYz1hLk5mLChjPTE8Yy5lZC5sZW5ndGg/Yy5lZFsxXTpudWxsKSYmcGgoYSxjKSl9ZWxzZSBpZihcIm5cIj09PWQpe2EuZihcInJlY3ZkIGVuZCB0cmFuc21pc3Npb24gb24gcHJpbWFyeVwiKTthLmJkPWEuRjtmb3IoYz0wO2M8YS5KZC5sZW5ndGg7KytjKWEuRmQoYS5KZFtjXSk7YS5KZD1bXTtxaChhKX1lbHNlXCJzXCI9PT1kPyhhLmYoXCJDb25uZWN0aW9uIHNodXRkb3duIGNvbW1hbmQgcmVjZWl2ZWQuIFNodXR0aW5nIGRvd24uLi5cIiksXG5hLk1lJiYoYS5NZShjKSxhLk1lPW51bGwpLGEua2E9bnVsbCxhLmNsb3NlKCkpOlwiclwiPT09ZD8oYS5mKFwiUmVzZXQgcGFja2V0IHJlY2VpdmVkLiAgTmV3IGhvc3Q6IFwiK2MpLEZjKGEuSCxjKSwxPT09YS5VYT9hLmNsb3NlKCk6KHJoKGEpLGxoKGEpKSk6XCJlXCI9PT1kP1BjKFwiU2VydmVyIEVycm9yOiBcIitjKTpcIm9cIj09PWQ/KGEuZihcImdvdCBwb25nIG9uIHByaW1hcnkuXCIpLHNoKGEpLHRoKGEpKTpQYyhcIlVua25vd24gY29udHJvbCBwYWNrZXQgY29tbWFuZDogXCIrZCl9ZWxzZVwiZFwiPT1kJiZhLkZkKGMpfWVsc2UgaWYoYj09PWEuRilpZihkPVZjKFwidFwiLGMpLGM9VmMoXCJkXCIsYyksXCJjXCI9PWQpXCJ0XCJpbiBjJiYoYz1jLnQsXCJhXCI9PT1jP3VoKGEpOlwiclwiPT09Yz8oYS5mKFwiR290IGEgcmVzZXQgb24gc2Vjb25kYXJ5LCBjbG9zaW5nIGl0XCIpLGEuRi5jbG9zZSgpLGEuZmQhPT1hLkYmJmEuYmQhPT1hLkZ8fGEuY2xvc2UoKSk6XCJvXCI9PT1jJiYoYS5mKFwiZ290IHBvbmcgb24gc2Vjb25kYXJ5LlwiKSxcbmEuTGYtLSx1aChhKSkpO2Vsc2UgaWYoXCJkXCI9PWQpYS5KZC5wdXNoKGMpO2Vsc2UgdGhyb3cgRXJyb3IoXCJVbmtub3duIHByb3RvY29sIGxheWVyOiBcIitkKTtlbHNlIGEuZihcIm1lc3NhZ2Ugb24gb2xkIGNvbm5lY3Rpb25cIil9fWtoLnByb3RvdHlwZS5EYT1mdW5jdGlvbihhKXt2aCh0aGlzLHt0OlwiZFwiLGQ6YX0pfTtmdW5jdGlvbiBxaChhKXthLmZkPT09YS5GJiZhLmJkPT09YS5GJiYoYS5mKFwiY2xlYW5pbmcgdXAgYW5kIHByb21vdGluZyBhIGNvbm5lY3Rpb246IFwiK2EuRi5xZSksYS5MPWEuRixhLkY9bnVsbCl9XG5mdW5jdGlvbiB1aChhKXswPj1hLkxmPyhhLmYoXCJTZWNvbmRhcnkgY29ubmVjdGlvbiBpcyBoZWFsdGh5LlwiKSxhLkFiPSEwLGEuRi5CZCgpLGEuRi5zdGFydCgpLGEuZihcInNlbmRpbmcgY2xpZW50IGFjayBvbiBzZWNvbmRhcnlcIiksYS5GLnNlbmQoe3Q6XCJjXCIsZDp7dDpcImFcIixkOnt9fX0pLGEuZihcIkVuZGluZyB0cmFuc21pc3Npb24gb24gcHJpbWFyeVwiKSxhLkwuc2VuZCh7dDpcImNcIixkOnt0OlwiblwiLGQ6e319fSksYS5mZD1hLkYscWgoYSkpOihhLmYoXCJzZW5kaW5nIHBpbmcgb24gc2Vjb25kYXJ5LlwiKSxhLkYuc2VuZCh7dDpcImNcIixkOnt0OlwicFwiLGQ6e319fSkpfWtoLnByb3RvdHlwZS5GZD1mdW5jdGlvbihhKXtzaCh0aGlzKTt0aGlzLmhjKGEpfTtmdW5jdGlvbiBzaChhKXthLkFifHwoYS5RZS0tLDA+PWEuUWUmJihhLmYoXCJQcmltYXJ5IGNvbm5lY3Rpb24gaXMgaGVhbHRoeS5cIiksYS5BYj0hMCxhLkwuQmQoKSkpfVxuZnVuY3Rpb24gcGgoYSxiKXthLkY9bmV3IGIoXCJjOlwiK2EuaWQrXCI6XCIrYS5lZisrLGEuSCxhLlZkKTthLkxmPWIucmVzcG9uc2VzUmVxdWlyZWRUb0JlSGVhbHRoeXx8MDthLkYub3BlbihtaChhLGEuRiksbmgoYSxhLkYpKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5GJiYoYS5mKFwiVGltZWQgb3V0IHRyeWluZyB0byB1cGdyYWRlLlwiKSxhLkYuY2xvc2UoKSl9LE1hdGguZmxvb3IoNkU0KSl9ZnVuY3Rpb24gb2goYSxiLGMpe2EuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpO2EuTD1iO2EuVWE9MTthLlZjJiYoYS5WYyhjKSxhLlZjPW51bGwpOzA9PT1hLlFlPyhhLmYoXCJQcmltYXJ5IGNvbm5lY3Rpb24gaXMgaGVhbHRoeS5cIiksYS5BYj0hMCk6c2V0VGltZW91dChmdW5jdGlvbigpe3RoKGEpfSxNYXRoLmZsb29yKDVFMykpfVxuZnVuY3Rpb24gdGgoYSl7YS5BYnx8MSE9PWEuVWF8fChhLmYoXCJzZW5kaW5nIHBpbmcgb24gcHJpbWFyeS5cIiksdmgoYSx7dDpcImNcIixkOnt0OlwicFwiLGQ6e319fSkpfWZ1bmN0aW9uIHZoKGEsYil7aWYoMSE9PWEuVWEpdGhyb3dcIkNvbm5lY3Rpb24gaXMgbm90IGNvbm5lY3RlZFwiO2EuZmQuc2VuZChiKX1raC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXsyIT09dGhpcy5VYSYmKHRoaXMuZihcIkNsb3NpbmcgcmVhbHRpbWUgY29ubmVjdGlvbi5cIiksdGhpcy5VYT0yLHJoKHRoaXMpLHRoaXMua2EmJih0aGlzLmthKCksdGhpcy5rYT1udWxsKSl9O2Z1bmN0aW9uIHJoKGEpe2EuZihcIlNodXR0aW5nIGRvd24gYWxsIGNvbm5lY3Rpb25zXCIpO2EuTCYmKGEuTC5jbG9zZSgpLGEuTD1udWxsKTthLkYmJihhLkYuY2xvc2UoKSxhLkY9bnVsbCk7YS52ZCYmKGNsZWFyVGltZW91dChhLnZkKSxhLnZkPW51bGwpfTtmdW5jdGlvbiB3aChhLGIsYyxkKXt0aGlzLmlkPXhoKys7dGhpcy5mPU9jKFwicDpcIit0aGlzLmlkK1wiOlwiKTt0aGlzLndmPXRoaXMuRGU9ITE7dGhpcy5hYT17fTt0aGlzLnBhPVtdO3RoaXMuWGM9MDt0aGlzLlVjPVtdO3RoaXMubWE9ITE7dGhpcy4kYT0xRTM7dGhpcy5DZD0zRTU7dGhpcy5HYj1iO3RoaXMuVGM9Yzt0aGlzLk5lPWQ7dGhpcy5IPWE7dGhpcy5XZT1udWxsO3RoaXMuUWQ9e307dGhpcy5JZz0wO3RoaXMubWY9ITA7dGhpcy5LYz10aGlzLkZlPW51bGw7eWgodGhpcywwKTtNZi51YigpLkViKFwidmlzaWJsZVwiLHRoaXMuemcsdGhpcyk7LTE9PT1hLmhvc3QuaW5kZXhPZihcImZibG9jYWxcIikmJkxmLnViKCkuRWIoXCJvbmxpbmVcIix0aGlzLnhnLHRoaXMpfXZhciB4aD0wLHpoPTA7aD13aC5wcm90b3R5cGU7XG5oLkRhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0rK3RoaXMuSWc7YT17cjpkLGE6YSxiOmJ9O3RoaXMuZihCKGEpKTtKKHRoaXMubWEsXCJzZW5kUmVxdWVzdCBjYWxsIHdoZW4gd2UncmUgbm90IGNvbm5lY3RlZCBub3QgYWxsb3dlZC5cIik7dGhpcy5TYS5EYShhKTtjJiYodGhpcy5RZFtkXT1jKX07aC54Zj1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLndhKCksZj1hLnBhdGgudG9TdHJpbmcoKTt0aGlzLmYoXCJMaXN0ZW4gY2FsbGVkIGZvciBcIitmK1wiIFwiK2UpO3RoaXMuYWFbZl09dGhpcy5hYVtmXXx8e307SighdGhpcy5hYVtmXVtlXSxcImxpc3RlbigpIGNhbGxlZCB0d2ljZSBmb3Igc2FtZSBwYXRoL3F1ZXJ5SWQuXCIpO2E9e0o6ZCx1ZDpiLEZnOmEsdGFnOmN9O3RoaXMuYWFbZl1bZV09YTt0aGlzLm1hJiZBaCh0aGlzLGEpfTtcbmZ1bmN0aW9uIEFoKGEsYil7dmFyIGM9Yi5GZyxkPWMucGF0aC50b1N0cmluZygpLGU9Yy53YSgpO2EuZihcIkxpc3RlbiBvbiBcIitkK1wiIGZvciBcIitlKTt2YXIgZj17cDpkfTtiLnRhZyYmKGYucT1jZShjLm4pLGYudD1iLnRhZyk7Zi5oPWIudWQoKTthLkRhKFwicVwiLGYsZnVuY3Rpb24oZil7dmFyIGs9Zi5kLGw9Zi5zO2lmKGsmJlwib2JqZWN0XCI9PT10eXBlb2YgayYmdShrLFwid1wiKSl7dmFyIG09dyhrLFwid1wiKTtlYShtKSYmMDw9TmEobSxcIm5vX2luZGV4XCIpJiZRKFwiVXNpbmcgYW4gdW5zcGVjaWZpZWQgaW5kZXguIENvbnNpZGVyIGFkZGluZyBcIisoJ1wiLmluZGV4T25cIjogXCInK2Mubi5nLnRvU3RyaW5nKCkrJ1wiJykrXCIgYXQgXCIrYy5wYXRoLnRvU3RyaW5nKCkrXCIgdG8geW91ciBzZWN1cml0eSBydWxlcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXCIpfShhLmFhW2RdJiZhLmFhW2RdW2VdKT09PWImJihhLmYoXCJsaXN0ZW4gcmVzcG9uc2VcIixmKSxcIm9rXCIhPT1sJiZCaChhLGQsZSksYi5KJiZcbmIuSihsLGspKX0pfWguUD1mdW5jdGlvbihhLGIsYyl7dGhpcy5GYT17Zmc6YSxuZjohMSx5YzpiLGpkOmN9O3RoaXMuZihcIkF1dGhlbnRpY2F0aW5nIHVzaW5nIGNyZWRlbnRpYWw6IFwiK2EpO0NoKHRoaXMpOyhiPTQwPT1hLmxlbmd0aCl8fChhPWFkKGEpLkFjLGI9XCJvYmplY3RcIj09PXR5cGVvZiBhJiYhMD09PXcoYSxcImFkbWluXCIpKTtiJiYodGhpcy5mKFwiQWRtaW4gYXV0aCBjcmVkZW50aWFsIGRldGVjdGVkLiAgUmVkdWNpbmcgbWF4IHJlY29ubmVjdCB0aW1lLlwiKSx0aGlzLkNkPTNFNCl9O2guZWU9ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXMuRmE7dGhpcy5tYSYmdGhpcy5EYShcInVuYXV0aFwiLHt9LGZ1bmN0aW9uKGIpe2EoYi5zLGIuZCl9KX07XG5mdW5jdGlvbiBDaChhKXt2YXIgYj1hLkZhO2EubWEmJmImJmEuRGEoXCJhdXRoXCIse2NyZWQ6Yi5mZ30sZnVuY3Rpb24oYyl7dmFyIGQ9Yy5zO2M9Yy5kfHxcImVycm9yXCI7XCJva1wiIT09ZCYmYS5GYT09PWImJmRlbGV0ZSBhLkZhO2IubmY/XCJva1wiIT09ZCYmYi5qZCYmYi5qZChkLGMpOihiLm5mPSEwLGIueWMmJmIueWMoZCxjKSl9KX1oLk9mPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5wYXRoLnRvU3RyaW5nKCksZD1hLndhKCk7dGhpcy5mKFwiVW5saXN0ZW4gY2FsbGVkIGZvciBcIitjK1wiIFwiK2QpO2lmKEJoKHRoaXMsYyxkKSYmdGhpcy5tYSl7dmFyIGU9Y2UoYS5uKTt0aGlzLmYoXCJVbmxpc3RlbiBvbiBcIitjK1wiIGZvciBcIitkKTtjPXtwOmN9O2ImJihjLnE9ZSxjLnQ9Yik7dGhpcy5EYShcIm5cIixjKX19O2guTGU9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubWE/RGgodGhpcyxcIm9cIixhLGIsYyk6dGhpcy5VYy5wdXNoKHtaYzphLGFjdGlvbjpcIm9cIixkYXRhOmIsSjpjfSl9O1xuaC5CZj1mdW5jdGlvbihhLGIsYyl7dGhpcy5tYT9EaCh0aGlzLFwib21cIixhLGIsYyk6dGhpcy5VYy5wdXNoKHtaYzphLGFjdGlvbjpcIm9tXCIsZGF0YTpiLEo6Y30pfTtoLkdkPWZ1bmN0aW9uKGEsYil7dGhpcy5tYT9EaCh0aGlzLFwib2NcIixhLG51bGwsYik6dGhpcy5VYy5wdXNoKHtaYzphLGFjdGlvbjpcIm9jXCIsZGF0YTpudWxsLEo6Yn0pfTtmdW5jdGlvbiBEaChhLGIsYyxkLGUpe2M9e3A6YyxkOmR9O2EuZihcIm9uRGlzY29ubmVjdCBcIitiLGMpO2EuRGEoYixjLGZ1bmN0aW9uKGEpe2UmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGEucyxhLmQpfSxNYXRoLmZsb29yKDApKX0pfWgucHV0PWZ1bmN0aW9uKGEsYixjLGQpe0VoKHRoaXMsXCJwXCIsYSxiLGMsZCl9O2gueWY9ZnVuY3Rpb24oYSxiLGMsZCl7RWgodGhpcyxcIm1cIixhLGIsYyxkKX07XG5mdW5jdGlvbiBFaChhLGIsYyxkLGUsZil7ZD17cDpjLGQ6ZH07bihmKSYmKGQuaD1mKTthLnBhLnB1c2goe2FjdGlvbjpiLElmOmQsSjplfSk7YS5YYysrO2I9YS5wYS5sZW5ndGgtMTthLm1hP0ZoKGEsYik6YS5mKFwiQnVmZmVyaW5nIHB1dDogXCIrYyl9ZnVuY3Rpb24gRmgoYSxiKXt2YXIgYz1hLnBhW2JdLmFjdGlvbixkPWEucGFbYl0uSWYsZT1hLnBhW2JdLko7YS5wYVtiXS5HZz1hLm1hO2EuRGEoYyxkLGZ1bmN0aW9uKGQpe2EuZihjK1wiIHJlc3BvbnNlXCIsZCk7ZGVsZXRlIGEucGFbYl07YS5YYy0tOzA9PT1hLlhjJiYoYS5wYT1bXSk7ZSYmZShkLnMsZC5kKX0pfWguVGU9ZnVuY3Rpb24oYSl7dGhpcy5tYSYmKGE9e2M6YX0sdGhpcy5mKFwicmVwb3J0U3RhdHNcIixhKSx0aGlzLkRhKFwic1wiLGEsZnVuY3Rpb24oYSl7XCJva1wiIT09YS5zJiZ0aGlzLmYoXCJyZXBvcnRTdGF0c1wiLFwiRXJyb3Igc2VuZGluZyBzdGF0czogXCIrYS5kKX0pKX07XG5oLkZkPWZ1bmN0aW9uKGEpe2lmKFwiclwiaW4gYSl7dGhpcy5mKFwiZnJvbSBzZXJ2ZXI6IFwiK0IoYSkpO3ZhciBiPWEucixjPXRoaXMuUWRbYl07YyYmKGRlbGV0ZSB0aGlzLlFkW2JdLGMoYS5iKSl9ZWxzZXtpZihcImVycm9yXCJpbiBhKXRocm93XCJBIHNlcnZlci1zaWRlIGVycm9yIGhhcyBvY2N1cnJlZDogXCIrYS5lcnJvcjtcImFcImluIGEmJihiPWEuYSxjPWEuYix0aGlzLmYoXCJoYW5kbGVTZXJ2ZXJNZXNzYWdlXCIsYixjKSxcImRcIj09PWI/dGhpcy5HYihjLnAsYy5kLCExLGMudCk6XCJtXCI9PT1iP3RoaXMuR2IoYy5wLGMuZCwhMCxjLnQpOlwiY1wiPT09Yj9HaCh0aGlzLGMucCxjLnEpOlwiYWNcIj09PWI/KGE9Yy5zLGI9Yy5kLGM9dGhpcy5GYSxkZWxldGUgdGhpcy5GYSxjJiZjLmpkJiZjLmpkKGEsYikpOlwic2RcIj09PWI/dGhpcy5XZT90aGlzLldlKGMpOlwibXNnXCJpbiBjJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUubG9nKFwiRklSRUJBU0U6IFwiK2MubXNnLnJlcGxhY2UoXCJcXG5cIixcblwiXFxuRklSRUJBU0U6IFwiKSk6UGMoXCJVbnJlY29nbml6ZWQgYWN0aW9uIHJlY2VpdmVkIGZyb20gc2VydmVyOiBcIitCKGIpK1wiXFxuQXJlIHlvdSB1c2luZyB0aGUgbGF0ZXN0IGNsaWVudD9cIikpfX07aC5WYz1mdW5jdGlvbihhKXt0aGlzLmYoXCJjb25uZWN0aW9uIHJlYWR5XCIpO3RoaXMubWE9ITA7dGhpcy5LYz0obmV3IERhdGUpLmdldFRpbWUoKTt0aGlzLk5lKHtzZXJ2ZXJUaW1lT2Zmc2V0OmEtKG5ldyBEYXRlKS5nZXRUaW1lKCl9KTt0aGlzLm1mJiYoYT17fSxhW1wic2RrLmpzLlwiK1wiMi4yLjRcIi5yZXBsYWNlKC9cXC4vZyxcIi1cIildPTEsa2coKSYmKGFbXCJmcmFtZXdvcmsuY29yZG92YVwiXT0xKSx0aGlzLlRlKGEpKTtIaCh0aGlzKTt0aGlzLm1mPSExO3RoaXMuVGMoITApfTtcbmZ1bmN0aW9uIHloKGEsYil7SighYS5TYSxcIlNjaGVkdWxpbmcgYSBjb25uZWN0IHdoZW4gd2UncmUgYWxyZWFkeSBjb25uZWN0ZWQvaW5nP1wiKTthLlNiJiZjbGVhclRpbWVvdXQoYS5TYik7YS5TYj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5TYj1udWxsO0loKGEpfSxNYXRoLmZsb29yKGIpKX1oLnpnPWZ1bmN0aW9uKGEpe2EmJiF0aGlzLnVjJiZ0aGlzLiRhPT09dGhpcy5DZCYmKHRoaXMuZihcIldpbmRvdyBiZWNhbWUgdmlzaWJsZS4gIFJlZHVjaW5nIGRlbGF5LlwiKSx0aGlzLiRhPTFFMyx0aGlzLlNhfHx5aCh0aGlzLDApKTt0aGlzLnVjPWF9O2gueGc9ZnVuY3Rpb24oYSl7YT8odGhpcy5mKFwiQnJvd3NlciB3ZW50IG9ubGluZS5cIiksdGhpcy4kYT0xRTMsdGhpcy5TYXx8eWgodGhpcywwKSk6KHRoaXMuZihcIkJyb3dzZXIgd2VudCBvZmZsaW5lLiAgS2lsbGluZyBjb25uZWN0aW9uLlwiKSx0aGlzLlNhJiZ0aGlzLlNhLmNsb3NlKCkpfTtcbmguQ2Y9ZnVuY3Rpb24oKXt0aGlzLmYoXCJkYXRhIGNsaWVudCBkaXNjb25uZWN0ZWRcIik7dGhpcy5tYT0hMTt0aGlzLlNhPW51bGw7Zm9yKHZhciBhPTA7YTx0aGlzLnBhLmxlbmd0aDthKyspe3ZhciBiPXRoaXMucGFbYV07YiYmXCJoXCJpbiBiLklmJiZiLkdnJiYoYi5KJiZiLkooXCJkaXNjb25uZWN0XCIpLGRlbGV0ZSB0aGlzLnBhW2FdLHRoaXMuWGMtLSl9MD09PXRoaXMuWGMmJih0aGlzLnBhPVtdKTt0aGlzLlFkPXt9O0poKHRoaXMpJiYodGhpcy51Yz90aGlzLktjJiYoM0U0PChuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuS2MmJih0aGlzLiRhPTFFMyksdGhpcy5LYz1udWxsKToodGhpcy5mKFwiV2luZG93IGlzbid0IHZpc2libGUuICBEZWxheWluZyByZWNvbm5lY3QuXCIpLHRoaXMuJGE9dGhpcy5DZCx0aGlzLkZlPShuZXcgRGF0ZSkuZ2V0VGltZSgpKSxhPU1hdGgubWF4KDAsdGhpcy4kYS0oKG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5GZSkpLGEqPU1hdGgucmFuZG9tKCksdGhpcy5mKFwiVHJ5aW5nIHRvIHJlY29ubmVjdCBpbiBcIitcbmErXCJtc1wiKSx5aCh0aGlzLGEpLHRoaXMuJGE9TWF0aC5taW4odGhpcy5DZCwxLjMqdGhpcy4kYSkpO3RoaXMuVGMoITEpfTtmdW5jdGlvbiBJaChhKXtpZihKaChhKSl7YS5mKFwiTWFraW5nIGEgY29ubmVjdGlvbiBhdHRlbXB0XCIpO2EuRmU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7YS5LYz1udWxsO3ZhciBiPXEoYS5GZCxhKSxjPXEoYS5WYyxhKSxkPXEoYS5DZixhKSxlPWEuaWQrXCI6XCIremgrKzthLlNhPW5ldyBraChlLGEuSCxiLGMsZCxmdW5jdGlvbihiKXtRKGIrXCIgKFwiK2EuSC50b1N0cmluZygpK1wiKVwiKTthLndmPSEwfSl9fWgueWI9ZnVuY3Rpb24oKXt0aGlzLkRlPSEwO3RoaXMuU2E/dGhpcy5TYS5jbG9zZSgpOih0aGlzLlNiJiYoY2xlYXJUaW1lb3V0KHRoaXMuU2IpLHRoaXMuU2I9bnVsbCksdGhpcy5tYSYmdGhpcy5DZigpKX07aC5xYz1mdW5jdGlvbigpe3RoaXMuRGU9ITE7dGhpcy4kYT0xRTM7dGhpcy5TYXx8eWgodGhpcywwKX07XG5mdW5jdGlvbiBHaChhLGIsYyl7Yz1jP1FhKGMsZnVuY3Rpb24oYSl7cmV0dXJuIFdjKGEpfSkuam9pbihcIiRcIik6XCJkZWZhdWx0XCI7KGE9QmgoYSxiLGMpKSYmYS5KJiZhLkooXCJwZXJtaXNzaW9uX2RlbmllZFwiKX1mdW5jdGlvbiBCaChhLGIsYyl7Yj0obmV3IEsoYikpLnRvU3RyaW5nKCk7dmFyIGQ7bihhLmFhW2JdKT8oZD1hLmFhW2JdW2NdLGRlbGV0ZSBhLmFhW2JdW2NdLDA9PT1wYShhLmFhW2JdKSYmZGVsZXRlIGEuYWFbYl0pOmQ9dm9pZCAwO3JldHVybiBkfWZ1bmN0aW9uIEhoKGEpe0NoKGEpO3IoYS5hYSxmdW5jdGlvbihiKXtyKGIsZnVuY3Rpb24oYil7QWgoYSxiKX0pfSk7Zm9yKHZhciBiPTA7YjxhLnBhLmxlbmd0aDtiKyspYS5wYVtiXSYmRmgoYSxiKTtmb3IoO2EuVWMubGVuZ3RoOyliPWEuVWMuc2hpZnQoKSxEaChhLGIuYWN0aW9uLGIuWmMsYi5kYXRhLGIuSil9ZnVuY3Rpb24gSmgoYSl7dmFyIGI7Yj1MZi51YigpLmljO3JldHVybiFhLndmJiYhYS5EZSYmYn07dmFyIFY9e2xnOmZ1bmN0aW9uKCl7Vmc9ZGg9ITB9fTtWLmZvcmNlTG9uZ1BvbGxpbmc9Vi5sZztWLm1nPWZ1bmN0aW9uKCl7V2c9ITB9O1YuZm9yY2VXZWJTb2NrZXRzPVYubWc7Vi5NZz1mdW5jdGlvbihhLGIpe2Euay5SYS5XZT1ifTtWLnNldFNlY3VyaXR5RGVidWdDYWxsYmFjaz1WLk1nO1YuWWU9ZnVuY3Rpb24oYSxiKXthLmsuWWUoYil9O1Yuc3RhdHM9Vi5ZZTtWLlplPWZ1bmN0aW9uKGEsYil7YS5rLlplKGIpfTtWLnN0YXRzSW5jcmVtZW50Q291bnRlcj1WLlplO1YucGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuay5wZH07Vi5kYXRhVXBkYXRlQ291bnQ9Vi5wZDtWLnBnPWZ1bmN0aW9uKGEsYil7YS5rLkNlPWJ9O1YuaW50ZXJjZXB0U2VydmVyRGF0YT1WLnBnO1Yudmc9ZnVuY3Rpb24oYSl7bmV3IHVnKGEpfTtWLm9uUG9wdXBPcGVuPVYudmc7Vi5LZz1mdW5jdGlvbihhKXtmZz1hfTtWLnNldEF1dGhlbnRpY2F0aW9uU2VydmVyPVYuS2c7ZnVuY3Rpb24gUyhhLGIsYyl7dGhpcy5CPWE7dGhpcy5WPWI7dGhpcy5nPWN9Uy5wcm90b3R5cGUuSz1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QudmFsXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLkIuSygpfTtTLnByb3RvdHlwZS52YWw9Uy5wcm90b3R5cGUuSztTLnByb3RvdHlwZS5sZj1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZXhwb3J0VmFsXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLkIuSyghMCl9O1MucHJvdG90eXBlLmV4cG9ydFZhbD1TLnByb3RvdHlwZS5sZjtTLnByb3RvdHlwZS5rZz1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZXhpc3RzXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiF0aGlzLkIuZSgpfTtTLnByb3RvdHlwZS5leGlzdHM9Uy5wcm90b3R5cGUua2c7XG5TLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuY2hpbGRcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCk7Z2EoYSkmJihhPVN0cmluZyhhKSk7WGYoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuY2hpbGRcIixhKTt2YXIgYj1uZXcgSyhhKSxjPXRoaXMuVi53KGIpO3JldHVybiBuZXcgUyh0aGlzLkIub2EoYiksYyxNKX07Uy5wcm90b3R5cGUuY2hpbGQ9Uy5wcm90b3R5cGUudztTLnByb3RvdHlwZS5IYT1mdW5jdGlvbihhKXt4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO1hmKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkXCIsYSk7dmFyIGI9bmV3IEsoYSk7cmV0dXJuIXRoaXMuQi5vYShiKS5lKCl9O1MucHJvdG90eXBlLmhhc0NoaWxkPVMucHJvdG90eXBlLkhhO1xuUy5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZ2V0UHJpb3JpdHlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQi5BKCkuSygpfTtTLnByb3RvdHlwZS5nZXRQcmlvcml0eT1TLnByb3RvdHlwZS5BO1MucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oYSl7eChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5mb3JFYWNoXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO0EoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZm9yRWFjaFwiLDEsYSwhMSk7aWYodGhpcy5CLk4oKSlyZXR1cm4hMTt2YXIgYj10aGlzO3JldHVybiEhdGhpcy5CLlUodGhpcy5nLGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGEobmV3IFMoZCxiLlYudyhjKSxNKSl9KX07Uy5wcm90b3R5cGUuZm9yRWFjaD1TLnByb3RvdHlwZS5mb3JFYWNoO1xuUy5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oKXt4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkcmVuXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLkIuTigpPyExOiF0aGlzLkIuZSgpfTtTLnByb3RvdHlwZS5oYXNDaGlsZHJlbj1TLnByb3RvdHlwZS50ZDtTLnByb3RvdHlwZS5uYW1lPWZ1bmN0aW9uKCl7UShcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5uYW1lKCkgYmVpbmcgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBGaXJlYmFzZS5EYXRhU25hcHNob3Qua2V5KCkgaW5zdGVhZC5cIik7eChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5uYW1lXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLmtleSgpfTtTLnByb3RvdHlwZS5uYW1lPVMucHJvdG90eXBlLm5hbWU7Uy5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5rZXlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuVi5rZXkoKX07XG5TLnByb3RvdHlwZS5rZXk9Uy5wcm90b3R5cGUua2V5O1MucHJvdG90eXBlLkRiPWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5udW1DaGlsZHJlblwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5CLkRiKCl9O1MucHJvdG90eXBlLm51bUNoaWxkcmVuPVMucHJvdG90eXBlLkRiO1MucHJvdG90eXBlLmxjPWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5yZWZcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuVn07Uy5wcm90b3R5cGUucmVmPVMucHJvdG90eXBlLmxjO2Z1bmN0aW9uIEtoKGEsYil7dGhpcy5IPWE7dGhpcy5WYT1PYihhKTt0aGlzLmVhPW5ldyB1Yjt0aGlzLkVkPTE7dGhpcy5SYT1udWxsO2J8fDA8PShcIm9iamVjdFwiPT09dHlwZW9mIHdpbmRvdyYmd2luZG93Lm5hdmlnYXRvciYmd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnR8fFwiXCIpLnNlYXJjaCgvZ29vZ2xlYm90fGdvb2dsZSB3ZWJtYXN0ZXIgdG9vbHN8YmluZ2JvdHx5YWhvbyEgc2x1cnB8YmFpZHVzcGlkZXJ8eWFuZGV4Ym90fGR1Y2tkdWNrYm90L2kpPyh0aGlzLmNhPW5ldyBBZSh0aGlzLkgscSh0aGlzLkdiLHRoaXMpKSxzZXRUaW1lb3V0KHEodGhpcy5UYyx0aGlzLCEwKSwwKSk6dGhpcy5jYT10aGlzLlJhPW5ldyB3aCh0aGlzLkgscSh0aGlzLkdiLHRoaXMpLHEodGhpcy5UYyx0aGlzKSxxKHRoaXMuTmUsdGhpcykpO3RoaXMuUGc9UGIoYSxxKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBKYih0aGlzLlZhLHRoaXMuY2EpfSx0aGlzKSk7dGhpcy50Yz1uZXcgQ2Y7dGhpcy5CZT1cbm5ldyBuYjt2YXIgYz10aGlzO3RoaXMuemQ9bmV3IGdmKHtYZTpmdW5jdGlvbihhLGIsZixnKXtiPVtdO2Y9Yy5CZS5qKGEucGF0aCk7Zi5lKCl8fChiPWpmKGMuemQsbmV3IFViKHplLGEucGF0aCxmKSksc2V0VGltZW91dChmdW5jdGlvbigpe2coXCJva1wiKX0sMCkpO3JldHVybiBifSxaZDpiYX0pO0xoKHRoaXMsXCJjb25uZWN0ZWRcIiwhMSk7dGhpcy5rYT1uZXcgcWM7dGhpcy5QPW5ldyBFZyhhLHEodGhpcy5jYS5QLHRoaXMuY2EpLHEodGhpcy5jYS5lZSx0aGlzLmNhKSxxKHRoaXMuS2UsdGhpcykpO3RoaXMucGQ9MDt0aGlzLkNlPW51bGw7dGhpcy5PPW5ldyBnZih7WGU6ZnVuY3Rpb24oYSxiLGYsZyl7Yy5jYS54ZihhLGYsYixmdW5jdGlvbihiLGUpe3ZhciBmPWcoYixlKTt6YihjLmVhLGEucGF0aCxmKX0pO3JldHVybltdfSxaZDpmdW5jdGlvbihhLGIpe2MuY2EuT2YoYSxiKX19KX1oPUtoLnByb3RvdHlwZTtcbmgudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5ILmxiP1wiaHR0cHM6Ly9cIjpcImh0dHA6Ly9cIikrdGhpcy5ILmhvc3R9O2gubmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkguQ2J9O2Z1bmN0aW9uIE1oKGEpe2E9YS5CZS5qKG5ldyBLKFwiLmluZm8vc2VydmVyVGltZU9mZnNldFwiKSkuSygpfHwwO3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpK2F9ZnVuY3Rpb24gTmgoYSl7YT1hPXt0aW1lc3RhbXA6TWgoYSl9O2EudGltZXN0YW1wPWEudGltZXN0YW1wfHwobmV3IERhdGUpLmdldFRpbWUoKTtyZXR1cm4gYX1cbmguR2I9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5wZCsrO3ZhciBlPW5ldyBLKGEpO2I9dGhpcy5DZT90aGlzLkNlKGEsYik6YjthPVtdO2Q/Yz8oYj1uYShiLGZ1bmN0aW9uKGEpe3JldHVybiBMKGEpfSksYT1yZih0aGlzLk8sZSxiLGQpKTooYj1MKGIpLGE9bmYodGhpcy5PLGUsYixkKSk6Yz8oZD1uYShiLGZ1bmN0aW9uKGEpe3JldHVybiBMKGEpfSksYT1tZih0aGlzLk8sZSxkKSk6KGQ9TChiKSxhPWpmKHRoaXMuTyxuZXcgVWIoemUsZSxkKSkpO2Q9ZTswPGEubGVuZ3RoJiYoZD1PaCh0aGlzLGUpKTt6Yih0aGlzLmVhLGQsYSl9O2guVGM9ZnVuY3Rpb24oYSl7TGgodGhpcyxcImNvbm5lY3RlZFwiLGEpOyExPT09YSYmUGgodGhpcyl9O2guTmU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztZYyhhLGZ1bmN0aW9uKGEsZCl7TGgoYixkLGEpfSl9O2guS2U9ZnVuY3Rpb24oYSl7TGgodGhpcyxcImF1dGhlbnRpY2F0ZWRcIixhKX07XG5mdW5jdGlvbiBMaChhLGIsYyl7Yj1uZXcgSyhcIi8uaW5mby9cIitiKTtjPUwoYyk7dmFyIGQ9YS5CZTtkLlNkPWQuU2QuRyhiLGMpO2M9amYoYS56ZCxuZXcgVWIoemUsYixjKSk7emIoYS5lYSxiLGMpfWguS2I9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5mKFwic2V0XCIse3BhdGg6YS50b1N0cmluZygpLHZhbHVlOmIsWGc6Y30pO3ZhciBlPU5oKHRoaXMpO2I9TChiLGMpO3ZhciBlPXNjKGIsZSksZj10aGlzLkVkKyssZT1oZih0aGlzLk8sYSxlLGYsITApO3ZiKHRoaXMuZWEsZSk7dmFyIGc9dGhpczt0aGlzLmNhLnB1dChhLnRvU3RyaW5nKCksYi5LKCEwKSxmdW5jdGlvbihiLGMpe3ZhciBlPVwib2tcIj09PWI7ZXx8UShcInNldCBhdCBcIithK1wiIGZhaWxlZDogXCIrYik7ZT1sZihnLk8sZiwhZSk7emIoZy5lYSxhLGUpO1FoKGQsYixjKX0pO2U9UmgodGhpcyxhKTtPaCh0aGlzLGUpO3piKHRoaXMuZWEsZSxbXSl9O1xuaC51cGRhdGU9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZihcInVwZGF0ZVwiLHtwYXRoOmEudG9TdHJpbmcoKSx2YWx1ZTpifSk7dmFyIGQ9ITAsZT1OaCh0aGlzKSxmPXt9O3IoYixmdW5jdGlvbihhLGIpe2Q9ITE7dmFyIGM9TChhKTtmW2JdPXNjKGMsZSl9KTtpZihkKUJiKFwidXBkYXRlKCkgY2FsbGVkIHdpdGggZW1wdHkgZGF0YS4gIERvbid0IGRvIGFueXRoaW5nLlwiKSxRaChjLFwib2tcIik7ZWxzZXt2YXIgZz10aGlzLkVkKyssaz1rZih0aGlzLk8sYSxmLGcpO3ZiKHRoaXMuZWEsayk7dmFyIGw9dGhpczt0aGlzLmNhLnlmKGEudG9TdHJpbmcoKSxiLGZ1bmN0aW9uKGIsZCl7dmFyIGU9XCJva1wiPT09YjtlfHxRKFwidXBkYXRlIGF0IFwiK2ErXCIgZmFpbGVkOiBcIitiKTt2YXIgZT1sZihsLk8sZywhZSksZj1hOzA8ZS5sZW5ndGgmJihmPU9oKGwsYSkpO3piKGwuZWEsZixlKTtRaChjLGIsZCl9KTtiPVJoKHRoaXMsYSk7T2godGhpcyxiKTt6Yih0aGlzLmVhLGEsW10pfX07XG5mdW5jdGlvbiBQaChhKXthLmYoXCJvbkRpc2Nvbm5lY3RFdmVudHNcIik7dmFyIGI9TmgoYSksYz1bXTtyYyhwYyhhLmthLGIpLEYsZnVuY3Rpb24oYixlKXtjPWMuY29uY2F0KGpmKGEuTyxuZXcgVWIoemUsYixlKSkpO3ZhciBmPVJoKGEsYik7T2goYSxmKX0pO2Eua2E9bmV3IHFjO3piKGEuZWEsRixjKX1oLkdkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczt0aGlzLmNhLkdkKGEudG9TdHJpbmcoKSxmdW5jdGlvbihkLGUpe1wib2tcIj09PWQmJmVnKGMua2EsYSk7UWgoYixkLGUpfSl9O2Z1bmN0aW9uIFNoKGEsYixjLGQpe3ZhciBlPUwoYyk7YS5jYS5MZShiLnRvU3RyaW5nKCksZS5LKCEwKSxmdW5jdGlvbihjLGcpe1wib2tcIj09PWMmJmEua2EubWMoYixlKTtRaChkLGMsZyl9KX1mdW5jdGlvbiBUaChhLGIsYyxkLGUpe3ZhciBmPUwoYyxkKTthLmNhLkxlKGIudG9TdHJpbmcoKSxmLksoITApLGZ1bmN0aW9uKGMsZCl7XCJva1wiPT09YyYmYS5rYS5tYyhiLGYpO1FoKGUsYyxkKX0pfVxuZnVuY3Rpb24gVWgoYSxiLGMsZCl7dmFyIGU9ITAsZjtmb3IoZiBpbiBjKWU9ITE7ZT8oQmIoXCJvbkRpc2Nvbm5lY3QoKS51cGRhdGUoKSBjYWxsZWQgd2l0aCBlbXB0eSBkYXRhLiAgRG9uJ3QgZG8gYW55dGhpbmcuXCIpLFFoKGQsXCJva1wiKSk6YS5jYS5CZihiLnRvU3RyaW5nKCksYyxmdW5jdGlvbihlLGYpe2lmKFwib2tcIj09PWUpZm9yKHZhciBsIGluIGMpe3ZhciBtPUwoY1tsXSk7YS5rYS5tYyhiLncobCksbSl9UWgoZCxlLGYpfSl9ZnVuY3Rpb24gVmgoYSxiLGMpe2M9XCIuaW5mb1wiPT09TyhiLnBhdGgpP2EuemQuT2IoYixjKTphLk8uT2IoYixjKTt4YihhLmVhLGIucGF0aCxjKX1oLnliPWZ1bmN0aW9uKCl7dGhpcy5SYSYmdGhpcy5SYS55YigpfTtoLnFjPWZ1bmN0aW9uKCl7dGhpcy5SYSYmdGhpcy5SYS5xYygpfTtcbmguWWU9ZnVuY3Rpb24oYSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlKXthPyh0aGlzLllkfHwodGhpcy5ZZD1uZXcgSWIodGhpcy5WYSkpLGE9dGhpcy5ZZC5nZXQoKSk6YT10aGlzLlZhLmdldCgpO3ZhciBiPVJhKHNhKGEpLGZ1bmN0aW9uKGEsYil7cmV0dXJuIE1hdGgubWF4KGIubGVuZ3RoLGEpfSwwKSxjO2ZvcihjIGluIGEpe2Zvcih2YXIgZD1hW2NdLGU9Yy5sZW5ndGg7ZTxiKzI7ZSsrKWMrPVwiIFwiO2NvbnNvbGUubG9nKGMrZCl9fX07aC5aZT1mdW5jdGlvbihhKXtMYih0aGlzLlZhLGEpO3RoaXMuUGcuTWZbYV09ITB9O2guZj1mdW5jdGlvbihhKXt2YXIgYj1cIlwiO3RoaXMuUmEmJihiPXRoaXMuUmEuaWQrXCI6XCIpO0JiKGIsYXJndW1lbnRzKX07XG5mdW5jdGlvbiBRaChhLGIsYyl7YSYmQ2IoZnVuY3Rpb24oKXtpZihcIm9rXCI9PWIpYShudWxsKTtlbHNle3ZhciBkPShifHxcImVycm9yXCIpLnRvVXBwZXJDYXNlKCksZT1kO2MmJihlKz1cIjogXCIrYyk7ZT1FcnJvcihlKTtlLmNvZGU9ZDthKGUpfX0pfTtmdW5jdGlvbiBXaChhLGIsYyxkLGUpe2Z1bmN0aW9uIGYoKXt9YS5mKFwidHJhbnNhY3Rpb24gb24gXCIrYik7dmFyIGc9bmV3IFUoYSxiKTtnLkViKFwidmFsdWVcIixmKTtjPXtwYXRoOmIsdXBkYXRlOmMsSjpkLHN0YXR1czpudWxsLEVmOkdjKCksY2Y6ZSxLZjowLGdlOmZ1bmN0aW9uKCl7Zy5nYyhcInZhbHVlXCIsZil9LGplOm51bGwsQWE6bnVsbCxtZDpudWxsLG5kOm51bGwsb2Q6bnVsbH07ZD1hLk8udWEoYix2b2lkIDApfHxDO2MubWQ9ZDtkPWMudXBkYXRlKGQuSygpKTtpZihuKGQpKXtTZihcInRyYW5zYWN0aW9uIGZhaWxlZDogRGF0YSByZXR1cm5lZCBcIixkLGMucGF0aCk7Yy5zdGF0dXM9MTtlPURmKGEudGMsYik7dmFyIGs9ZS5CYSgpfHxbXTtrLnB1c2goYyk7RWYoZSxrKTtcIm9iamVjdFwiPT09dHlwZW9mIGQmJm51bGwhPT1kJiZ1KGQsXCIucHJpb3JpdHlcIik/KGs9dyhkLFwiLnByaW9yaXR5XCIpLEooUWYoayksXCJJbnZhbGlkIHByaW9yaXR5IHJldHVybmVkIGJ5IHRyYW5zYWN0aW9uLiBQcmlvcml0eSBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nLCBmaW5pdGUgbnVtYmVyLCBzZXJ2ZXIgdmFsdWUsIG9yIG51bGwuXCIpKTpcbms9KGEuTy51YShiKXx8QykuQSgpLksoKTtlPU5oKGEpO2Q9TChkLGspO2U9c2MoZCxlKTtjLm5kPWQ7Yy5vZD1lO2MuQWE9YS5FZCsrO2M9aGYoYS5PLGIsZSxjLkFhLGMuY2YpO3piKGEuZWEsYixjKTtYaChhKX1lbHNlIGMuZ2UoKSxjLm5kPW51bGwsYy5vZD1udWxsLGMuSiYmKGE9bmV3IFMoYy5tZCxuZXcgVShhLGMucGF0aCksTSksYy5KKG51bGwsITEsYSkpfWZ1bmN0aW9uIFhoKGEsYil7dmFyIGM9Ynx8YS50YztifHxZaChhLGMpO2lmKG51bGwhPT1jLkJhKCkpe3ZhciBkPVpoKGEsYyk7SigwPGQubGVuZ3RoLFwiU2VuZGluZyB6ZXJvIGxlbmd0aCB0cmFuc2FjdGlvbiBxdWV1ZVwiKTtTYShkLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5zdGF0dXN9KSYmJGgoYSxjLnBhdGgoKSxkKX1lbHNlIGMudGQoKSYmYy5VKGZ1bmN0aW9uKGIpe1hoKGEsYil9KX1cbmZ1bmN0aW9uICRoKGEsYixjKXtmb3IodmFyIGQ9UWEoYyxmdW5jdGlvbihhKXtyZXR1cm4gYS5BYX0pLGU9YS5PLnVhKGIsZCl8fEMsZD1lLGU9ZS5oYXNoKCksZj0wO2Y8Yy5sZW5ndGg7ZisrKXt2YXIgZz1jW2ZdO0ooMT09PWcuc3RhdHVzLFwidHJ5VG9TZW5kVHJhbnNhY3Rpb25RdWV1ZV86IGl0ZW1zIGluIHF1ZXVlIHNob3VsZCBhbGwgYmUgcnVuLlwiKTtnLnN0YXR1cz0yO2cuS2YrKzt2YXIgaz1OKGIsZy5wYXRoKSxkPWQuRyhrLGcubmQpfWQ9ZC5LKCEwKTthLmNhLnB1dChiLnRvU3RyaW5nKCksZCxmdW5jdGlvbihkKXthLmYoXCJ0cmFuc2FjdGlvbiBwdXQgcmVzcG9uc2VcIix7cGF0aDpiLnRvU3RyaW5nKCksc3RhdHVzOmR9KTt2YXIgZT1bXTtpZihcIm9rXCI9PT1kKXtkPVtdO2ZvcihmPTA7ZjxjLmxlbmd0aDtmKyspe2NbZl0uc3RhdHVzPTM7ZT1lLmNvbmNhdChsZihhLk8sY1tmXS5BYSkpO2lmKGNbZl0uSil7dmFyIGc9Y1tmXS5vZCxrPW5ldyBVKGEsY1tmXS5wYXRoKTtkLnB1c2gocShjW2ZdLkosXG5udWxsLG51bGwsITAsbmV3IFMoZyxrLE0pKSl9Y1tmXS5nZSgpfVloKGEsRGYoYS50YyxiKSk7WGgoYSk7emIoYS5lYSxiLGUpO2ZvcihmPTA7ZjxkLmxlbmd0aDtmKyspQ2IoZFtmXSl9ZWxzZXtpZihcImRhdGFzdGFsZVwiPT09ZClmb3IoZj0wO2Y8Yy5sZW5ndGg7ZisrKWNbZl0uc3RhdHVzPTQ9PT1jW2ZdLnN0YXR1cz81OjE7ZWxzZSBmb3IoUShcInRyYW5zYWN0aW9uIGF0IFwiK2IudG9TdHJpbmcoKStcIiBmYWlsZWQ6IFwiK2QpLGY9MDtmPGMubGVuZ3RoO2YrKyljW2ZdLnN0YXR1cz01LGNbZl0uamU9ZDtPaChhLGIpfX0sZSl9ZnVuY3Rpb24gT2goYSxiKXt2YXIgYz1haShhLGIpLGQ9Yy5wYXRoKCksYz1aaChhLGMpO2JpKGEsYyxkKTtyZXR1cm4gZH1cbmZ1bmN0aW9uIGJpKGEsYixjKXtpZigwIT09Yi5sZW5ndGgpe2Zvcih2YXIgZD1bXSxlPVtdLGY9UWEoYixmdW5jdGlvbihhKXtyZXR1cm4gYS5BYX0pLGc9MDtnPGIubGVuZ3RoO2crKyl7dmFyIGs9YltnXSxsPU4oYyxrLnBhdGgpLG09ITEsdjtKKG51bGwhPT1sLFwicmVydW5UcmFuc2FjdGlvbnNVbmRlck5vZGVfOiByZWxhdGl2ZVBhdGggc2hvdWxkIG5vdCBiZSBudWxsLlwiKTtpZig1PT09ay5zdGF0dXMpbT0hMCx2PWsuamUsZT1lLmNvbmNhdChsZihhLk8say5BYSwhMCkpO2Vsc2UgaWYoMT09PWsuc3RhdHVzKWlmKDI1PD1rLktmKW09ITAsdj1cIm1heHJldHJ5XCIsZT1lLmNvbmNhdChsZihhLk8say5BYSwhMCkpO2Vsc2V7dmFyIHk9YS5PLnVhKGsucGF0aCxmKXx8QztrLm1kPXk7dmFyIEk9YltnXS51cGRhdGUoeS5LKCkpO24oSSk/KFNmKFwidHJhbnNhY3Rpb24gZmFpbGVkOiBEYXRhIHJldHVybmVkIFwiLEksay5wYXRoKSxsPUwoSSksXCJvYmplY3RcIj09PXR5cGVvZiBJJiZudWxsIT1cbkkmJnUoSSxcIi5wcmlvcml0eVwiKXx8KGw9bC5kYSh5LkEoKSkpLHk9ay5BYSxJPU5oKGEpLEk9c2MobCxJKSxrLm5kPWwsay5vZD1JLGsuQWE9YS5FZCsrLFZhKGYseSksZT1lLmNvbmNhdChoZihhLk8say5wYXRoLEksay5BYSxrLmNmKSksZT1lLmNvbmNhdChsZihhLk8seSwhMCkpKToobT0hMCx2PVwibm9kYXRhXCIsZT1lLmNvbmNhdChsZihhLk8say5BYSwhMCkpKX16YihhLmVhLGMsZSk7ZT1bXTttJiYoYltnXS5zdGF0dXM9MyxzZXRUaW1lb3V0KGJbZ10uZ2UsTWF0aC5mbG9vcigwKSksYltnXS5KJiYoXCJub2RhdGFcIj09PXY/KGs9bmV3IFUoYSxiW2ddLnBhdGgpLGQucHVzaChxKGJbZ10uSixudWxsLG51bGwsITEsbmV3IFMoYltnXS5tZCxrLE0pKSkpOmQucHVzaChxKGJbZ10uSixudWxsLEVycm9yKHYpLCExLG51bGwpKSkpfVloKGEsYS50Yyk7Zm9yKGc9MDtnPGQubGVuZ3RoO2crKylDYihkW2ddKTtYaChhKX19XG5mdW5jdGlvbiBhaShhLGIpe2Zvcih2YXIgYyxkPWEudGM7bnVsbCE9PShjPU8oYikpJiZudWxsPT09ZC5CYSgpOylkPURmKGQsYyksYj1HKGIpO3JldHVybiBkfWZ1bmN0aW9uIFpoKGEsYil7dmFyIGM9W107Y2koYSxiLGMpO2Muc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLkVmLWIuRWZ9KTtyZXR1cm4gY31mdW5jdGlvbiBjaShhLGIsYyl7dmFyIGQ9Yi5CYSgpO2lmKG51bGwhPT1kKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKWMucHVzaChkW2VdKTtiLlUoZnVuY3Rpb24oYil7Y2koYSxiLGMpfSl9ZnVuY3Rpb24gWWgoYSxiKXt2YXIgYz1iLkJhKCk7aWYoYyl7Zm9yKHZhciBkPTAsZT0wO2U8Yy5sZW5ndGg7ZSsrKTMhPT1jW2VdLnN0YXR1cyYmKGNbZF09Y1tlXSxkKyspO2MubGVuZ3RoPWQ7RWYoYiwwPGMubGVuZ3RoP2M6bnVsbCl9Yi5VKGZ1bmN0aW9uKGIpe1loKGEsYil9KX1cbmZ1bmN0aW9uIFJoKGEsYil7dmFyIGM9YWkoYSxiKS5wYXRoKCksZD1EZihhLnRjLGIpO0hmKGQsZnVuY3Rpb24oYil7ZGkoYSxiKX0pO2RpKGEsZCk7R2YoZCxmdW5jdGlvbihiKXtkaShhLGIpfSk7cmV0dXJuIGN9XG5mdW5jdGlvbiBkaShhLGIpe3ZhciBjPWIuQmEoKTtpZihudWxsIT09Yyl7Zm9yKHZhciBkPVtdLGU9W10sZj0tMSxnPTA7ZzxjLmxlbmd0aDtnKyspNCE9PWNbZ10uc3RhdHVzJiYoMj09PWNbZ10uc3RhdHVzPyhKKGY9PT1nLTEsXCJBbGwgU0VOVCBpdGVtcyBzaG91bGQgYmUgYXQgYmVnaW5uaW5nIG9mIHF1ZXVlLlwiKSxmPWcsY1tnXS5zdGF0dXM9NCxjW2ddLmplPVwic2V0XCIpOihKKDE9PT1jW2ddLnN0YXR1cyxcIlVuZXhwZWN0ZWQgdHJhbnNhY3Rpb24gc3RhdHVzIGluIGFib3J0XCIpLGNbZ10uZ2UoKSxlPWUuY29uY2F0KGxmKGEuTyxjW2ddLkFhLCEwKSksY1tnXS5KJiZkLnB1c2gocShjW2ddLkosbnVsbCxFcnJvcihcInNldFwiKSwhMSxudWxsKSkpKTstMT09PWY/RWYoYixudWxsKTpjLmxlbmd0aD1mKzE7emIoYS5lYSxiLnBhdGgoKSxlKTtmb3IoZz0wO2c8ZC5sZW5ndGg7ZysrKUNiKGRbZ10pfX07ZnVuY3Rpb24gVygpe3RoaXMubmM9e307dGhpcy5QZj0hMX1jYShXKTtXLnByb3RvdHlwZS55Yj1mdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLm5jKXRoaXMubmNbYV0ueWIoKX07Vy5wcm90b3R5cGUuaW50ZXJydXB0PVcucHJvdG90eXBlLnliO1cucHJvdG90eXBlLnFjPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMubmMpdGhpcy5uY1thXS5xYygpfTtXLnByb3RvdHlwZS5yZXN1bWU9Vy5wcm90b3R5cGUucWM7Vy5wcm90b3R5cGUudWU9ZnVuY3Rpb24oKXt0aGlzLlBmPSEwfTtmdW5jdGlvbiBYKGEsYil7dGhpcy5hZD1hO3RoaXMucWE9Yn1YLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oYSl7eChcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLmNhbmNlbFwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtBKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuY2FuY2VsXCIsMSxhLCEwKTt0aGlzLmFkLkdkKHRoaXMucWEsYXx8bnVsbCl9O1gucHJvdG90eXBlLmNhbmNlbD1YLnByb3RvdHlwZS5jYW5jZWw7WC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEpe3goXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5yZW1vdmVcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCk7WWYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5yZW1vdmVcIix0aGlzLnFhKTtBKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkucmVtb3ZlXCIsMSxhLCEwKTtTaCh0aGlzLmFkLHRoaXMucWEsbnVsbCxhKX07WC5wcm90b3R5cGUucmVtb3ZlPVgucHJvdG90eXBlLnJlbW92ZTtcblgucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3goXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7WWYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRcIix0aGlzLnFhKTtSZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFwiLGEsdGhpcy5xYSwhMSk7QShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFwiLDIsYiwhMCk7U2godGhpcy5hZCx0aGlzLnFhLGEsYil9O1gucHJvdG90eXBlLnNldD1YLnByb3RvdHlwZS5zZXQ7XG5YLnByb3RvdHlwZS5LYj1mdW5jdGlvbihhLGIsYyl7eChcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLDIsMyxhcmd1bWVudHMubGVuZ3RoKTtZZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLHRoaXMucWEpO1JmKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsYSx0aGlzLnFhLCExKTtVZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLDIsYik7QShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLDMsYywhMCk7VGgodGhpcy5hZCx0aGlzLnFhLGEsYixjKX07WC5wcm90b3R5cGUuc2V0V2l0aFByaW9yaXR5PVgucHJvdG90eXBlLktiO1xuWC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEsYil7eChcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtZZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLHRoaXMucWEpO2lmKGVhKGEpKXtmb3IodmFyIGM9e30sZD0wO2Q8YS5sZW5ndGg7KytkKWNbXCJcIitkXT1hW2RdO2E9YztRKFwiUGFzc2luZyBhbiBBcnJheSB0byBGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGUoKSBpcyBkZXByZWNhdGVkLiBVc2Ugc2V0KCkgaWYgeW91IHdhbnQgdG8gb3ZlcndyaXRlIHRoZSBleGlzdGluZyBkYXRhLCBvciBhbiBPYmplY3Qgd2l0aCBpbnRlZ2VyIGtleXMgaWYgeW91IHJlYWxseSBkbyB3YW50IHRvIG9ubHkgdXBkYXRlIHNvbWUgb2YgdGhlIGNoaWxkcmVuLlwiKX1UZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLGEsdGhpcy5xYSk7QShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLDIsYiwhMCk7XG5VaCh0aGlzLmFkLHRoaXMucWEsYSxiKX07WC5wcm90b3R5cGUudXBkYXRlPVgucHJvdG90eXBlLnVwZGF0ZTtmdW5jdGlvbiBZKGEsYixjLGQpe3RoaXMuaz1hO3RoaXMucGF0aD1iO3RoaXMubj1jO3RoaXMuamM9ZH1cbmZ1bmN0aW9uIGVpKGEpe3ZhciBiPW51bGwsYz1udWxsO2EubGEmJihiPW9kKGEpKTthLm5hJiYoYz1xZChhKSk7aWYoYS5nPT09VmQpe2lmKGEubGEpe2lmKFwiW01JTl9OQU1FXVwiIT1uZChhKSl0aHJvdyBFcnJvcihcIlF1ZXJ5OiBXaGVuIG9yZGVyaW5nIGJ5IGtleSwgeW91IG1heSBvbmx5IHBhc3Mgb25lIGFyZ3VtZW50IHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSwgb3IgZXF1YWxUbygpLlwiKTtpZihcInN0cmluZ1wiIT09dHlwZW9mIGIpdGhyb3cgRXJyb3IoXCJRdWVyeTogV2hlbiBvcmRlcmluZyBieSBrZXksIHRoZSBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLG9yIGVxdWFsVG8oKSBtdXN0IGJlIGEgc3RyaW5nLlwiKTt9aWYoYS5uYSl7aWYoXCJbTUFYX05BTUVdXCIhPXBkKGEpKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB5b3UgbWF5IG9ubHkgcGFzcyBvbmUgYXJndW1lbnQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkuXCIpO2lmKFwic3RyaW5nXCIhPT1cbnR5cGVvZiBjKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB0aGUgYXJndW1lbnQgcGFzc2VkIHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSxvciBlcXVhbFRvKCkgbXVzdCBiZSBhIHN0cmluZy5cIik7fX1lbHNlIGlmKGEuZz09PU0pe2lmKG51bGwhPWImJiFRZihiKXx8bnVsbCE9YyYmIVFmKGMpKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkgcHJpb3JpdHksIHRoZSBmaXJzdCBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkgbXVzdCBiZSBhIHZhbGlkIHByaW9yaXR5IHZhbHVlIChudWxsLCBhIG51bWJlciwgb3IgYSBzdHJpbmcpLlwiKTt9ZWxzZSBpZihKKGEuZyBpbnN0YW5jZW9mIFJkfHxhLmc9PT1ZZCxcInVua25vd24gaW5kZXggdHlwZS5cIiksbnVsbCE9YiYmXCJvYmplY3RcIj09PXR5cGVvZiBifHxudWxsIT1jJiZcIm9iamVjdFwiPT09dHlwZW9mIGMpdGhyb3cgRXJyb3IoXCJRdWVyeTogRmlyc3QgYXJndW1lbnQgcGFzc2VkIHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSwgb3IgZXF1YWxUbygpIGNhbm5vdCBiZSBhbiBvYmplY3QuXCIpO1xufWZ1bmN0aW9uIGZpKGEpe2lmKGEubGEmJmEubmEmJmEuaWEmJighYS5pYXx8XCJcIj09PWEuTmIpKXRocm93IEVycm9yKFwiUXVlcnk6IENhbid0IGNvbWJpbmUgc3RhcnRBdCgpLCBlbmRBdCgpLCBhbmQgbGltaXQoKS4gVXNlIGxpbWl0VG9GaXJzdCgpIG9yIGxpbWl0VG9MYXN0KCkgaW5zdGVhZC5cIik7fWZ1bmN0aW9uIGdpKGEsYil7aWYoITA9PT1hLmpjKXRocm93IEVycm9yKGIrXCI6IFlvdSBjYW4ndCBjb21iaW5lIG11bHRpcGxlIG9yZGVyQnkgY2FsbHMuXCIpO31ZLnByb3RvdHlwZS5sYz1mdW5jdGlvbigpe3goXCJRdWVyeS5yZWZcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIG5ldyBVKHRoaXMuayx0aGlzLnBhdGgpfTtZLnByb3RvdHlwZS5yZWY9WS5wcm90b3R5cGUubGM7XG5ZLnByb3RvdHlwZS5FYj1mdW5jdGlvbihhLGIsYyxkKXt4KFwiUXVlcnkub25cIiwyLDQsYXJndW1lbnRzLmxlbmd0aCk7VmYoXCJRdWVyeS5vblwiLGEsITEpO0EoXCJRdWVyeS5vblwiLDIsYiwhMSk7dmFyIGU9aGkoXCJRdWVyeS5vblwiLGMsZCk7aWYoXCJ2YWx1ZVwiPT09YSlWaCh0aGlzLmssdGhpcyxuZXcgamQoYixlLmNhbmNlbHx8bnVsbCxlLk1hfHxudWxsKSk7ZWxzZXt2YXIgZj17fTtmW2FdPWI7VmgodGhpcy5rLHRoaXMsbmV3IGtkKGYsZS5jYW5jZWwsZS5NYSkpfXJldHVybiBifTtZLnByb3RvdHlwZS5vbj1ZLnByb3RvdHlwZS5FYjtcblkucHJvdG90eXBlLmdjPWZ1bmN0aW9uKGEsYixjKXt4KFwiUXVlcnkub2ZmXCIsMCwzLGFyZ3VtZW50cy5sZW5ndGgpO1ZmKFwiUXVlcnkub2ZmXCIsYSwhMCk7QShcIlF1ZXJ5Lm9mZlwiLDIsYiwhMCk7bGIoXCJRdWVyeS5vZmZcIiwzLGMpO3ZhciBkPW51bGwsZT1udWxsO1widmFsdWVcIj09PWE/ZD1uZXcgamQoYnx8bnVsbCxudWxsLGN8fG51bGwpOmEmJihiJiYoZT17fSxlW2FdPWIpLGQ9bmV3IGtkKGUsbnVsbCxjfHxudWxsKSk7ZT10aGlzLms7ZD1cIi5pbmZvXCI9PT1PKHRoaXMucGF0aCk/ZS56ZC5rYih0aGlzLGQpOmUuTy5rYih0aGlzLGQpO3hiKGUuZWEsdGhpcy5wYXRoLGQpfTtZLnByb3RvdHlwZS5vZmY9WS5wcm90b3R5cGUuZ2M7XG5ZLnByb3RvdHlwZS5BZz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoZyl7ZiYmKGY9ITEsZS5nYyhhLGMpLGIuY2FsbChkLk1hLGcpKX14KFwiUXVlcnkub25jZVwiLDIsNCxhcmd1bWVudHMubGVuZ3RoKTtWZihcIlF1ZXJ5Lm9uY2VcIixhLCExKTtBKFwiUXVlcnkub25jZVwiLDIsYiwhMSk7dmFyIGQ9aGkoXCJRdWVyeS5vbmNlXCIsYXJndW1lbnRzWzJdLGFyZ3VtZW50c1szXSksZT10aGlzLGY9ITA7dGhpcy5FYihhLGMsZnVuY3Rpb24oYil7ZS5nYyhhLGMpO2QuY2FuY2VsJiZkLmNhbmNlbC5jYWxsKGQuTWEsYil9KX07WS5wcm90b3R5cGUub25jZT1ZLnByb3RvdHlwZS5BZztcblkucHJvdG90eXBlLkdlPWZ1bmN0aW9uKGEpe1EoXCJRdWVyeS5saW1pdCgpIGJlaW5nIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgUXVlcnkubGltaXRUb0ZpcnN0KCkgb3IgUXVlcnkubGltaXRUb0xhc3QoKSBpbnN0ZWFkLlwiKTt4KFwiUXVlcnkubGltaXRcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7aWYoIWdhKGEpfHxNYXRoLmZsb29yKGEpIT09YXx8MD49YSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0OiBGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7aWYodGhpcy5uLmlhKXRocm93IEVycm9yKFwiUXVlcnkubGltaXQ6IExpbWl0IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGxpbWl0LCBsaW1pdFRvRmlyc3QsIG9ybGltaXRUb0xhc3QuXCIpO3ZhciBiPXRoaXMubi5HZShhKTtmaShiKTtyZXR1cm4gbmV3IFkodGhpcy5rLHRoaXMucGF0aCxiLHRoaXMuamMpfTtZLnByb3RvdHlwZS5saW1pdD1ZLnByb3RvdHlwZS5HZTtcblkucHJvdG90eXBlLkhlPWZ1bmN0aW9uKGEpe3goXCJRdWVyeS5saW1pdFRvRmlyc3RcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7aWYoIWdhKGEpfHxNYXRoLmZsb29yKGEpIT09YXx8MD49YSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0VG9GaXJzdDogRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIuXCIpO2lmKHRoaXMubi5pYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0VG9GaXJzdDogTGltaXQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gbGltaXQsIGxpbWl0VG9GaXJzdCwgb3IgbGltaXRUb0xhc3QpLlwiKTtyZXR1cm4gbmV3IFkodGhpcy5rLHRoaXMucGF0aCx0aGlzLm4uSGUoYSksdGhpcy5qYyl9O1kucHJvdG90eXBlLmxpbWl0VG9GaXJzdD1ZLnByb3RvdHlwZS5IZTtcblkucHJvdG90eXBlLkllPWZ1bmN0aW9uKGEpe3goXCJRdWVyeS5saW1pdFRvTGFzdFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZighZ2EoYSl8fE1hdGguZmxvb3IoYSkhPT1hfHwwPj1hKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0xhc3Q6IEZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLlwiKTtpZih0aGlzLm4uaWEpdGhyb3cgRXJyb3IoXCJRdWVyeS5saW1pdFRvTGFzdDogTGltaXQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gbGltaXQsIGxpbWl0VG9GaXJzdCwgb3IgbGltaXRUb0xhc3QpLlwiKTtyZXR1cm4gbmV3IFkodGhpcy5rLHRoaXMucGF0aCx0aGlzLm4uSWUoYSksdGhpcy5qYyl9O1kucHJvdG90eXBlLmxpbWl0VG9MYXN0PVkucHJvdG90eXBlLkllO1xuWS5wcm90b3R5cGUuQmc9ZnVuY3Rpb24oYSl7eChcIlF1ZXJ5Lm9yZGVyQnlDaGlsZFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZihcIiRrZXlcIj09PWEpdGhyb3cgRXJyb3IoJ1F1ZXJ5Lm9yZGVyQnlDaGlsZDogXCIka2V5XCIgaXMgaW52YWxpZC4gIFVzZSBRdWVyeS5vcmRlckJ5S2V5KCkgaW5zdGVhZC4nKTtpZihcIiRwcmlvcml0eVwiPT09YSl0aHJvdyBFcnJvcignUXVlcnkub3JkZXJCeUNoaWxkOiBcIiRwcmlvcml0eVwiIGlzIGludmFsaWQuICBVc2UgUXVlcnkub3JkZXJCeVByaW9yaXR5KCkgaW5zdGVhZC4nKTtpZihcIiR2YWx1ZVwiPT09YSl0aHJvdyBFcnJvcignUXVlcnkub3JkZXJCeUNoaWxkOiBcIiR2YWx1ZVwiIGlzIGludmFsaWQuICBVc2UgUXVlcnkub3JkZXJCeVZhbHVlKCkgaW5zdGVhZC4nKTtXZihcIlF1ZXJ5Lm9yZGVyQnlDaGlsZFwiLDEsYSwhMSk7Z2kodGhpcyxcIlF1ZXJ5Lm9yZGVyQnlDaGlsZFwiKTt2YXIgYj1iZSh0aGlzLm4sbmV3IFJkKGEpKTtlaShiKTtyZXR1cm4gbmV3IFkodGhpcy5rLFxudGhpcy5wYXRoLGIsITApfTtZLnByb3RvdHlwZS5vcmRlckJ5Q2hpbGQ9WS5wcm90b3R5cGUuQmc7WS5wcm90b3R5cGUuQ2c9ZnVuY3Rpb24oKXt4KFwiUXVlcnkub3JkZXJCeUtleVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtnaSh0aGlzLFwiUXVlcnkub3JkZXJCeUtleVwiKTt2YXIgYT1iZSh0aGlzLm4sVmQpO2VpKGEpO3JldHVybiBuZXcgWSh0aGlzLmssdGhpcy5wYXRoLGEsITApfTtZLnByb3RvdHlwZS5vcmRlckJ5S2V5PVkucHJvdG90eXBlLkNnO1kucHJvdG90eXBlLkRnPWZ1bmN0aW9uKCl7eChcIlF1ZXJ5Lm9yZGVyQnlQcmlvcml0eVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtnaSh0aGlzLFwiUXVlcnkub3JkZXJCeVByaW9yaXR5XCIpO3ZhciBhPWJlKHRoaXMubixNKTtlaShhKTtyZXR1cm4gbmV3IFkodGhpcy5rLHRoaXMucGF0aCxhLCEwKX07WS5wcm90b3R5cGUub3JkZXJCeVByaW9yaXR5PVkucHJvdG90eXBlLkRnO1xuWS5wcm90b3R5cGUuRWc9ZnVuY3Rpb24oKXt4KFwiUXVlcnkub3JkZXJCeVZhbHVlXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO2dpKHRoaXMsXCJRdWVyeS5vcmRlckJ5VmFsdWVcIik7dmFyIGE9YmUodGhpcy5uLFlkKTtlaShhKTtyZXR1cm4gbmV3IFkodGhpcy5rLHRoaXMucGF0aCxhLCEwKX07WS5wcm90b3R5cGUub3JkZXJCeVZhbHVlPVkucHJvdG90eXBlLkVnO1xuWS5wcm90b3R5cGUuWGQ9ZnVuY3Rpb24oYSxiKXt4KFwiUXVlcnkuc3RhcnRBdFwiLDAsMixhcmd1bWVudHMubGVuZ3RoKTtSZihcIlF1ZXJ5LnN0YXJ0QXRcIixhLHRoaXMucGF0aCwhMCk7V2YoXCJRdWVyeS5zdGFydEF0XCIsMixiLCEwKTt2YXIgYz10aGlzLm4uWGQoYSxiKTtmaShjKTtlaShjKTtpZih0aGlzLm4ubGEpdGhyb3cgRXJyb3IoXCJRdWVyeS5zdGFydEF0OiBTdGFydGluZyBwb2ludCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBzdGFydEF0IG9yIGVxdWFsVG8pLlwiKTtuKGEpfHwoYj1hPW51bGwpO3JldHVybiBuZXcgWSh0aGlzLmssdGhpcy5wYXRoLGMsdGhpcy5qYyl9O1kucHJvdG90eXBlLnN0YXJ0QXQ9WS5wcm90b3R5cGUuWGQ7XG5ZLnByb3RvdHlwZS5xZD1mdW5jdGlvbihhLGIpe3goXCJRdWVyeS5lbmRBdFwiLDAsMixhcmd1bWVudHMubGVuZ3RoKTtSZihcIlF1ZXJ5LmVuZEF0XCIsYSx0aGlzLnBhdGgsITApO1dmKFwiUXVlcnkuZW5kQXRcIiwyLGIsITApO3ZhciBjPXRoaXMubi5xZChhLGIpO2ZpKGMpO2VpKGMpO2lmKHRoaXMubi5uYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmVuZEF0OiBFbmRpbmcgcG9pbnQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gZW5kQXQgb3IgZXF1YWxUbykuXCIpO3JldHVybiBuZXcgWSh0aGlzLmssdGhpcy5wYXRoLGMsdGhpcy5qYyl9O1kucHJvdG90eXBlLmVuZEF0PVkucHJvdG90eXBlLnFkO1xuWS5wcm90b3R5cGUuaGc9ZnVuY3Rpb24oYSxiKXt4KFwiUXVlcnkuZXF1YWxUb1wiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtSZihcIlF1ZXJ5LmVxdWFsVG9cIixhLHRoaXMucGF0aCwhMSk7V2YoXCJRdWVyeS5lcXVhbFRvXCIsMixiLCEwKTtpZih0aGlzLm4ubGEpdGhyb3cgRXJyb3IoXCJRdWVyeS5lcXVhbFRvOiBTdGFydGluZyBwb2ludCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBlbmRBdCBvciBlcXVhbFRvKS5cIik7aWYodGhpcy5uLm5hKXRocm93IEVycm9yKFwiUXVlcnkuZXF1YWxUbzogRW5kaW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGVuZEF0IG9yIGVxdWFsVG8pLlwiKTtyZXR1cm4gdGhpcy5YZChhLGIpLnFkKGEsYil9O1kucHJvdG90eXBlLmVxdWFsVG89WS5wcm90b3R5cGUuaGc7XG5ZLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3goXCJRdWVyeS50b1N0cmluZ1wiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtmb3IodmFyIGE9dGhpcy5wYXRoLGI9XCJcIixjPWEuWTtjPGEuby5sZW5ndGg7YysrKVwiXCIhPT1hLm9bY10mJihiKz1cIi9cIitlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGEub1tjXSkpKTthPXRoaXMuay50b1N0cmluZygpKyhifHxcIi9cIik7Yj1qYihlZSh0aGlzLm4pKTtyZXR1cm4gYSs9Yi5yZXBsYWNlKC9eJi8sXCJcIil9O1kucHJvdG90eXBlLnRvU3RyaW5nPVkucHJvdG90eXBlLnRvU3RyaW5nO1kucHJvdG90eXBlLndhPWZ1bmN0aW9uKCl7dmFyIGE9V2MoY2UodGhpcy5uKSk7cmV0dXJuXCJ7fVwiPT09YT9cImRlZmF1bHRcIjphfTtcbmZ1bmN0aW9uIGhpKGEsYixjKXt2YXIgZD17Y2FuY2VsOm51bGwsTWE6bnVsbH07aWYoYiYmYylkLmNhbmNlbD1iLEEoYSwzLGQuY2FuY2VsLCEwKSxkLk1hPWMsbGIoYSw0LGQuTWEpO2Vsc2UgaWYoYilpZihcIm9iamVjdFwiPT09dHlwZW9mIGImJm51bGwhPT1iKWQuTWE9YjtlbHNlIGlmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBiKWQuY2FuY2VsPWI7ZWxzZSB0aHJvdyBFcnJvcih6KGEsMywhMCkrXCIgbXVzdCBlaXRoZXIgYmUgYSBjYW5jZWwgY2FsbGJhY2sgb3IgYSBjb250ZXh0IG9iamVjdC5cIik7cmV0dXJuIGR9O3ZhciBaPXt9O1oudmM9d2g7Wi5EYXRhQ29ubmVjdGlvbj1aLnZjO3doLnByb3RvdHlwZS5PZz1mdW5jdGlvbihhLGIpe3RoaXMuRGEoXCJxXCIse3A6YX0sYil9O1oudmMucHJvdG90eXBlLnNpbXBsZUxpc3Rlbj1aLnZjLnByb3RvdHlwZS5PZzt3aC5wcm90b3R5cGUuZ2c9ZnVuY3Rpb24oYSxiKXt0aGlzLkRhKFwiZWNob1wiLHtkOmF9LGIpfTtaLnZjLnByb3RvdHlwZS5lY2hvPVoudmMucHJvdG90eXBlLmdnO3doLnByb3RvdHlwZS5pbnRlcnJ1cHQ9d2gucHJvdG90eXBlLnliO1ouU2Y9a2g7Wi5SZWFsVGltZUNvbm5lY3Rpb249Wi5TZjtraC5wcm90b3R5cGUuc2VuZFJlcXVlc3Q9a2gucHJvdG90eXBlLkRhO2toLnByb3RvdHlwZS5jbG9zZT1raC5wcm90b3R5cGUuY2xvc2U7XG5aLm9nPWZ1bmN0aW9uKGEpe3ZhciBiPXdoLnByb3RvdHlwZS5wdXQ7d2gucHJvdG90eXBlLnB1dD1mdW5jdGlvbihjLGQsZSxmKXtuKGYpJiYoZj1hKCkpO2IuY2FsbCh0aGlzLGMsZCxlLGYpfTtyZXR1cm4gZnVuY3Rpb24oKXt3aC5wcm90b3R5cGUucHV0PWJ9fTtaLmhpamFja0hhc2g9Wi5vZztaLlJmPUVjO1ouQ29ubmVjdGlvblRhcmdldD1aLlJmO1oud2E9ZnVuY3Rpb24oYSl7cmV0dXJuIGEud2EoKX07Wi5xdWVyeUlkZW50aWZpZXI9Wi53YTtaLnFnPWZ1bmN0aW9uKGEpe3JldHVybiBhLmsuUmEuYWF9O1oubGlzdGVucz1aLnFnO1oudWU9ZnVuY3Rpb24oYSl7YS51ZSgpfTtaLmZvcmNlUmVzdENsaWVudD1aLnVlO2Z1bmN0aW9uIFUoYSxiKXt2YXIgYyxkLGU7aWYoYSBpbnN0YW5jZW9mIEtoKWM9YSxkPWI7ZWxzZXt4KFwibmV3IEZpcmViYXNlXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO2Q9UmMoYXJndW1lbnRzWzBdKTtjPWQuUWc7XCJmaXJlYmFzZVwiPT09ZC5kb21haW4mJlFjKGQuaG9zdCtcIiBpcyBubyBsb25nZXIgc3VwcG9ydGVkLiBQbGVhc2UgdXNlIDxZT1VSIEZJUkVCQVNFPi5maXJlYmFzZWlvLmNvbSBpbnN0ZWFkXCIpO2N8fFFjKFwiQ2Fubm90IHBhcnNlIEZpcmViYXNlIHVybC4gUGxlYXNlIHVzZSBodHRwczovLzxZT1VSIEZJUkVCQVNFPi5maXJlYmFzZWlvLmNvbVwiKTtkLmxifHxcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmd2luZG93LmxvY2F0aW9uJiZ3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wmJi0xIT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sLmluZGV4T2YoXCJodHRwczpcIikmJlEoXCJJbnNlY3VyZSBGaXJlYmFzZSBhY2Nlc3MgZnJvbSBhIHNlY3VyZSBwYWdlLiBQbGVhc2UgdXNlIGh0dHBzIGluIGNhbGxzIHRvIG5ldyBGaXJlYmFzZSgpLlwiKTtcbmM9bmV3IEVjKGQuaG9zdCxkLmxiLGMsXCJ3c1wiPT09ZC5zY2hlbWV8fFwid3NzXCI9PT1kLnNjaGVtZSk7ZD1uZXcgSyhkLlpjKTtlPWQudG9TdHJpbmcoKTt2YXIgZjshKGY9IXAoYy5ob3N0KXx8MD09PWMuaG9zdC5sZW5ndGh8fCFQZihjLkNiKSkmJihmPTAhPT1lLmxlbmd0aCkmJihlJiYoZT1lLnJlcGxhY2UoL15cXC8qXFwuaW5mbyhcXC98JCkvLFwiL1wiKSksZj0hKHAoZSkmJjAhPT1lLmxlbmd0aCYmIU9mLnRlc3QoZSkpKTtpZihmKXRocm93IEVycm9yKHooXCJuZXcgRmlyZWJhc2VcIiwxLCExKSsnbXVzdCBiZSBhIHZhbGlkIGZpcmViYXNlIFVSTCBhbmQgdGhlIHBhdGggY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiW1wiLCBvciBcIl1cIi4nKTtpZihiKWlmKGIgaW5zdGFuY2VvZiBXKWU9YjtlbHNlIGlmKHAoYikpZT1XLnViKCksYy5MZD1iO2Vsc2UgdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCBhIHZhbGlkIEZpcmViYXNlLkNvbnRleHQgZm9yIHNlY29uZCBhcmd1bWVudCB0byBuZXcgRmlyZWJhc2UoKVwiKTtcbmVsc2UgZT1XLnViKCk7Zj1jLnRvU3RyaW5nKCk7dmFyIGc9dyhlLm5jLGYpO2d8fChnPW5ldyBLaChjLGUuUGYpLGUubmNbZl09Zyk7Yz1nfVkuY2FsbCh0aGlzLGMsZCwkZCwhMSl9bWEoVSxZKTt2YXIgaWk9VSxqaT1bXCJGaXJlYmFzZVwiXSxraT1hYTtqaVswXWluIGtpfHwha2kuZXhlY1NjcmlwdHx8a2kuZXhlY1NjcmlwdChcInZhciBcIitqaVswXSk7Zm9yKHZhciBsaTtqaS5sZW5ndGgmJihsaT1qaS5zaGlmdCgpKTspIWppLmxlbmd0aCYmbihpaSk/a2lbbGldPWlpOmtpPWtpW2xpXT9raVtsaV06a2lbbGldPXt9O1UucHJvdG90eXBlLm5hbWU9ZnVuY3Rpb24oKXtRKFwiRmlyZWJhc2UubmFtZSgpIGJlaW5nIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgRmlyZWJhc2Uua2V5KCkgaW5zdGVhZC5cIik7eChcIkZpcmViYXNlLm5hbWVcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMua2V5KCl9O1UucHJvdG90eXBlLm5hbWU9VS5wcm90b3R5cGUubmFtZTtcblUucHJvdG90eXBlLmtleT1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5rZXlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMucGF0aC5lKCk/bnVsbDp2Yyh0aGlzLnBhdGgpfTtVLnByb3RvdHlwZS5rZXk9VS5wcm90b3R5cGUua2V5O1UucHJvdG90eXBlLnc9ZnVuY3Rpb24oYSl7eChcIkZpcmViYXNlLmNoaWxkXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO2lmKGdhKGEpKWE9U3RyaW5nKGEpO2Vsc2UgaWYoIShhIGluc3RhbmNlb2YgSykpaWYobnVsbD09PU8odGhpcy5wYXRoKSl7dmFyIGI9YTtiJiYoYj1iLnJlcGxhY2UoL15cXC8qXFwuaW5mbyhcXC98JCkvLFwiL1wiKSk7WGYoXCJGaXJlYmFzZS5jaGlsZFwiLGIpfWVsc2UgWGYoXCJGaXJlYmFzZS5jaGlsZFwiLGEpO3JldHVybiBuZXcgVSh0aGlzLmssdGhpcy5wYXRoLncoYSkpfTtVLnByb3RvdHlwZS5jaGlsZD1VLnByb3RvdHlwZS53O1xuVS5wcm90b3R5cGUucGFyZW50PWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLnBhcmVudFwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTt2YXIgYT10aGlzLnBhdGgucGFyZW50KCk7cmV0dXJuIG51bGw9PT1hP251bGw6bmV3IFUodGhpcy5rLGEpfTtVLnByb3RvdHlwZS5wYXJlbnQ9VS5wcm90b3R5cGUucGFyZW50O1UucHJvdG90eXBlLnJvb3Q9ZnVuY3Rpb24oKXt4KFwiRmlyZWJhc2UucmVmXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO2Zvcih2YXIgYT10aGlzO251bGwhPT1hLnBhcmVudCgpOylhPWEucGFyZW50KCk7cmV0dXJuIGF9O1UucHJvdG90eXBlLnJvb3Q9VS5wcm90b3R5cGUucm9vdDtcblUucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3goXCJGaXJlYmFzZS5zZXRcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7WWYoXCJGaXJlYmFzZS5zZXRcIix0aGlzLnBhdGgpO1JmKFwiRmlyZWJhc2Uuc2V0XCIsYSx0aGlzLnBhdGgsITEpO0EoXCJGaXJlYmFzZS5zZXRcIiwyLGIsITApO3RoaXMuay5LYih0aGlzLnBhdGgsYSxudWxsLGJ8fG51bGwpfTtVLnByb3RvdHlwZS5zZXQ9VS5wcm90b3R5cGUuc2V0O1xuVS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEsYil7eChcIkZpcmViYXNlLnVwZGF0ZVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtZZihcIkZpcmViYXNlLnVwZGF0ZVwiLHRoaXMucGF0aCk7aWYoZWEoYSkpe2Zvcih2YXIgYz17fSxkPTA7ZDxhLmxlbmd0aDsrK2QpY1tcIlwiK2RdPWFbZF07YT1jO1EoXCJQYXNzaW5nIGFuIEFycmF5IHRvIEZpcmViYXNlLnVwZGF0ZSgpIGlzIGRlcHJlY2F0ZWQuIFVzZSBzZXQoKSBpZiB5b3Ugd2FudCB0byBvdmVyd3JpdGUgdGhlIGV4aXN0aW5nIGRhdGEsIG9yIGFuIE9iamVjdCB3aXRoIGludGVnZXIga2V5cyBpZiB5b3UgcmVhbGx5IGRvIHdhbnQgdG8gb25seSB1cGRhdGUgc29tZSBvZiB0aGUgY2hpbGRyZW4uXCIpfVRmKFwiRmlyZWJhc2UudXBkYXRlXCIsYSx0aGlzLnBhdGgpO0EoXCJGaXJlYmFzZS51cGRhdGVcIiwyLGIsITApO3RoaXMuay51cGRhdGUodGhpcy5wYXRoLGEsYnx8bnVsbCl9O1UucHJvdG90eXBlLnVwZGF0ZT1VLnByb3RvdHlwZS51cGRhdGU7XG5VLnByb3RvdHlwZS5LYj1mdW5jdGlvbihhLGIsYyl7eChcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLDIsMyxhcmd1bWVudHMubGVuZ3RoKTtZZihcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLHRoaXMucGF0aCk7UmYoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIixhLHRoaXMucGF0aCwhMSk7VWYoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIiwyLGIpO0EoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIiwzLGMsITApO2lmKFwiLmxlbmd0aFwiPT09dGhpcy5rZXkoKXx8XCIua2V5c1wiPT09dGhpcy5rZXkoKSl0aHJvd1wiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5IGZhaWxlZDogXCIrdGhpcy5rZXkoKStcIiBpcyBhIHJlYWQtb25seSBvYmplY3QuXCI7dGhpcy5rLktiKHRoaXMucGF0aCxhLGIsY3x8bnVsbCl9O1UucHJvdG90eXBlLnNldFdpdGhQcmlvcml0eT1VLnByb3RvdHlwZS5LYjtcblUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhKXt4KFwiRmlyZWJhc2UucmVtb3ZlXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpO1lmKFwiRmlyZWJhc2UucmVtb3ZlXCIsdGhpcy5wYXRoKTtBKFwiRmlyZWJhc2UucmVtb3ZlXCIsMSxhLCEwKTt0aGlzLnNldChudWxsLGEpfTtVLnByb3RvdHlwZS5yZW1vdmU9VS5wcm90b3R5cGUucmVtb3ZlO1xuVS5wcm90b3R5cGUudHJhbnNhY3Rpb249ZnVuY3Rpb24oYSxiLGMpe3goXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLDEsMyxhcmd1bWVudHMubGVuZ3RoKTtZZihcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsdGhpcy5wYXRoKTtBKFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIiwxLGEsITEpO0EoXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLDIsYiwhMCk7aWYobihjKSYmXCJib29sZWFuXCIhPXR5cGVvZiBjKXRocm93IEVycm9yKHooXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLDMsITApK1wibXVzdCBiZSBhIGJvb2xlYW4uXCIpO2lmKFwiLmxlbmd0aFwiPT09dGhpcy5rZXkoKXx8XCIua2V5c1wiPT09dGhpcy5rZXkoKSl0aHJvd1wiRmlyZWJhc2UudHJhbnNhY3Rpb24gZmFpbGVkOiBcIit0aGlzLmtleSgpK1wiIGlzIGEgcmVhZC1vbmx5IG9iamVjdC5cIjtcInVuZGVmaW5lZFwiPT09dHlwZW9mIGMmJihjPSEwKTtXaCh0aGlzLmssdGhpcy5wYXRoLGEsYnx8bnVsbCxjKX07VS5wcm90b3R5cGUudHJhbnNhY3Rpb249VS5wcm90b3R5cGUudHJhbnNhY3Rpb247XG5VLnByb3RvdHlwZS5MZz1mdW5jdGlvbihhLGIpe3goXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtZZihcIkZpcmViYXNlLnNldFByaW9yaXR5XCIsdGhpcy5wYXRoKTtVZihcIkZpcmViYXNlLnNldFByaW9yaXR5XCIsMSxhKTtBKFwiRmlyZWJhc2Uuc2V0UHJpb3JpdHlcIiwyLGIsITApO3RoaXMuay5LYih0aGlzLnBhdGgudyhcIi5wcmlvcml0eVwiKSxhLG51bGwsYil9O1UucHJvdG90eXBlLnNldFByaW9yaXR5PVUucHJvdG90eXBlLkxnO1xuVS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhLGIpe3goXCJGaXJlYmFzZS5wdXNoXCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpO1lmKFwiRmlyZWJhc2UucHVzaFwiLHRoaXMucGF0aCk7UmYoXCJGaXJlYmFzZS5wdXNoXCIsYSx0aGlzLnBhdGgsITApO0EoXCJGaXJlYmFzZS5wdXNoXCIsMixiLCEwKTt2YXIgYz1NaCh0aGlzLmspLGM9S2YoYyksYz10aGlzLncoYyk7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhJiZudWxsIT09YSYmYy5zZXQoYSxiKTtyZXR1cm4gY307VS5wcm90b3R5cGUucHVzaD1VLnByb3RvdHlwZS5wdXNoO1UucHJvdG90eXBlLmpiPWZ1bmN0aW9uKCl7WWYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3RcIix0aGlzLnBhdGgpO3JldHVybiBuZXcgWCh0aGlzLmssdGhpcy5wYXRoKX07VS5wcm90b3R5cGUub25EaXNjb25uZWN0PVUucHJvdG90eXBlLmpiO1xuVS5wcm90b3R5cGUuUD1mdW5jdGlvbihhLGIsYyl7UShcIkZpcmViYXNlUmVmLmF1dGgoKSBiZWluZyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIEZpcmViYXNlUmVmLmF1dGhXaXRoQ3VzdG9tVG9rZW4oKSBpbnN0ZWFkLlwiKTt4KFwiRmlyZWJhc2UuYXV0aFwiLDEsMyxhcmd1bWVudHMubGVuZ3RoKTtaZihcIkZpcmViYXNlLmF1dGhcIixhKTtBKFwiRmlyZWJhc2UuYXV0aFwiLDIsYiwhMCk7QShcIkZpcmViYXNlLmF1dGhcIiwzLGIsITApO0tnKHRoaXMuay5QLGEse30se3JlbWVtYmVyOlwibm9uZVwifSxiLGMpfTtVLnByb3RvdHlwZS5hdXRoPVUucHJvdG90eXBlLlA7VS5wcm90b3R5cGUuZWU9ZnVuY3Rpb24oYSl7eChcIkZpcmViYXNlLnVuYXV0aFwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtBKFwiRmlyZWJhc2UudW5hdXRoXCIsMSxhLCEwKTtMZyh0aGlzLmsuUCxhKX07VS5wcm90b3R5cGUudW5hdXRoPVUucHJvdG90eXBlLmVlO1xuVS5wcm90b3R5cGUud2U9ZnVuY3Rpb24oKXt4KFwiRmlyZWJhc2UuZ2V0QXV0aFwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5rLlAud2UoKX07VS5wcm90b3R5cGUuZ2V0QXV0aD1VLnByb3RvdHlwZS53ZTtVLnByb3RvdHlwZS51Zz1mdW5jdGlvbihhLGIpe3goXCJGaXJlYmFzZS5vbkF1dGhcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7QShcIkZpcmViYXNlLm9uQXV0aFwiLDEsYSwhMSk7bGIoXCJGaXJlYmFzZS5vbkF1dGhcIiwyLGIpO3RoaXMuay5QLkViKFwiYXV0aF9zdGF0dXNcIixhLGIpfTtVLnByb3RvdHlwZS5vbkF1dGg9VS5wcm90b3R5cGUudWc7VS5wcm90b3R5cGUudGc9ZnVuY3Rpb24oYSxiKXt4KFwiRmlyZWJhc2Uub2ZmQXV0aFwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtBKFwiRmlyZWJhc2Uub2ZmQXV0aFwiLDEsYSwhMSk7bGIoXCJGaXJlYmFzZS5vZmZBdXRoXCIsMixiKTt0aGlzLmsuUC5nYyhcImF1dGhfc3RhdHVzXCIsYSxiKX07VS5wcm90b3R5cGUub2ZmQXV0aD1VLnByb3RvdHlwZS50ZztcblUucHJvdG90eXBlLldmPWZ1bmN0aW9uKGEsYixjKXt4KFwiRmlyZWJhc2UuYXV0aFdpdGhDdXN0b21Ub2tlblwiLDIsMyxhcmd1bWVudHMubGVuZ3RoKTtaZihcIkZpcmViYXNlLmF1dGhXaXRoQ3VzdG9tVG9rZW5cIixhKTtBKFwiRmlyZWJhc2UuYXV0aFdpdGhDdXN0b21Ub2tlblwiLDIsYiwhMSk7YWcoXCJGaXJlYmFzZS5hdXRoV2l0aEN1c3RvbVRva2VuXCIsMyxjLCEwKTtLZyh0aGlzLmsuUCxhLHt9LGN8fHt9LGIpfTtVLnByb3RvdHlwZS5hdXRoV2l0aEN1c3RvbVRva2VuPVUucHJvdG90eXBlLldmO1UucHJvdG90eXBlLlhmPWZ1bmN0aW9uKGEsYixjKXt4KFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFBvcHVwXCIsMiwzLGFyZ3VtZW50cy5sZW5ndGgpOyRmKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFBvcHVwXCIsMSxhKTtBKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFBvcHVwXCIsMixiLCExKTthZyhcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhQb3B1cFwiLDMsYywhMCk7UGcodGhpcy5rLlAsYSxjLGIpfTtcblUucHJvdG90eXBlLmF1dGhXaXRoT0F1dGhQb3B1cD1VLnByb3RvdHlwZS5YZjtVLnByb3RvdHlwZS5ZZj1mdW5jdGlvbihhLGIsYyl7eChcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhSZWRpcmVjdFwiLDIsMyxhcmd1bWVudHMubGVuZ3RoKTskZihcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhSZWRpcmVjdFwiLDEsYSk7QShcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhSZWRpcmVjdFwiLDIsYiwhMSk7YWcoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUmVkaXJlY3RcIiwzLGMsITApO3ZhciBkPXRoaXMuay5QO05nKGQpO3ZhciBlPVt3Z10sZj1pZyhjKTtcImFub255bW91c1wiPT09YXx8XCJmaXJlYmFzZVwiPT09YT9SKGIseWcoXCJUUkFOU1BPUlRfVU5BVkFJTEFCTEVcIikpOihQLnNldChcInJlZGlyZWN0X2NsaWVudF9vcHRpb25zXCIsZi5sZCksT2coZCxlLFwiL2F1dGgvXCIrYSxmLGIpKX07VS5wcm90b3R5cGUuYXV0aFdpdGhPQXV0aFJlZGlyZWN0PVUucHJvdG90eXBlLllmO1xuVS5wcm90b3R5cGUuWmY9ZnVuY3Rpb24oYSxiLGMsZCl7eChcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhUb2tlblwiLDMsNCxhcmd1bWVudHMubGVuZ3RoKTskZihcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhUb2tlblwiLDEsYSk7QShcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhUb2tlblwiLDMsYywhMSk7YWcoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoVG9rZW5cIiw0LGQsITApO3AoYik/KCRmKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFRva2VuXCIsMixiKSxNZyh0aGlzLmsuUCxhK1wiL3Rva2VuXCIse2FjY2Vzc190b2tlbjpifSxkLGMpKTooYWcoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoVG9rZW5cIiwyLGIsITEpLE1nKHRoaXMuay5QLGErXCIvdG9rZW5cIixiLGQsYykpfTtVLnByb3RvdHlwZS5hdXRoV2l0aE9BdXRoVG9rZW49VS5wcm90b3R5cGUuWmY7XG5VLnByb3RvdHlwZS5WZj1mdW5jdGlvbihhLGIpe3goXCJGaXJlYmFzZS5hdXRoQW5vbnltb3VzbHlcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7QShcIkZpcmViYXNlLmF1dGhBbm9ueW1vdXNseVwiLDEsYSwhMSk7YWcoXCJGaXJlYmFzZS5hdXRoQW5vbnltb3VzbHlcIiwyLGIsITApO01nKHRoaXMuay5QLFwiYW5vbnltb3VzXCIse30sYixhKX07VS5wcm90b3R5cGUuYXV0aEFub255bW91c2x5PVUucHJvdG90eXBlLlZmO1xuVS5wcm90b3R5cGUuJGY9ZnVuY3Rpb24oYSxiLGMpe3goXCJGaXJlYmFzZS5hdXRoV2l0aFBhc3N3b3JkXCIsMiwzLGFyZ3VtZW50cy5sZW5ndGgpO2FnKFwiRmlyZWJhc2UuYXV0aFdpdGhQYXNzd29yZFwiLDEsYSwhMSk7YmcoXCJGaXJlYmFzZS5hdXRoV2l0aFBhc3N3b3JkXCIsYSxcImVtYWlsXCIpO2JnKFwiRmlyZWJhc2UuYXV0aFdpdGhQYXNzd29yZFwiLGEsXCJwYXNzd29yZFwiKTtBKFwiRmlyZWJhc2UuYXV0aEFub255bW91c2x5XCIsMixiLCExKTthZyhcIkZpcmViYXNlLmF1dGhBbm9ueW1vdXNseVwiLDMsYywhMCk7TWcodGhpcy5rLlAsXCJwYXNzd29yZFwiLGEsYyxiKX07VS5wcm90b3R5cGUuYXV0aFdpdGhQYXNzd29yZD1VLnByb3RvdHlwZS4kZjtcblUucHJvdG90eXBlLnJlPWZ1bmN0aW9uKGEsYil7eChcIkZpcmViYXNlLmNyZWF0ZVVzZXJcIiwyLDIsYXJndW1lbnRzLmxlbmd0aCk7YWcoXCJGaXJlYmFzZS5jcmVhdGVVc2VyXCIsMSxhLCExKTtiZyhcIkZpcmViYXNlLmNyZWF0ZVVzZXJcIixhLFwiZW1haWxcIik7YmcoXCJGaXJlYmFzZS5jcmVhdGVVc2VyXCIsYSxcInBhc3N3b3JkXCIpO0EoXCJGaXJlYmFzZS5jcmVhdGVVc2VyXCIsMixiLCExKTt0aGlzLmsuUC5yZShhLGIpfTtVLnByb3RvdHlwZS5jcmVhdGVVc2VyPVUucHJvdG90eXBlLnJlO1UucHJvdG90eXBlLlNlPWZ1bmN0aW9uKGEsYil7eChcIkZpcmViYXNlLnJlbW92ZVVzZXJcIiwyLDIsYXJndW1lbnRzLmxlbmd0aCk7YWcoXCJGaXJlYmFzZS5yZW1vdmVVc2VyXCIsMSxhLCExKTtiZyhcIkZpcmViYXNlLnJlbW92ZVVzZXJcIixhLFwiZW1haWxcIik7YmcoXCJGaXJlYmFzZS5yZW1vdmVVc2VyXCIsYSxcInBhc3N3b3JkXCIpO0EoXCJGaXJlYmFzZS5yZW1vdmVVc2VyXCIsMixiLCExKTt0aGlzLmsuUC5TZShhLGIpfTtcblUucHJvdG90eXBlLnJlbW92ZVVzZXI9VS5wcm90b3R5cGUuU2U7VS5wcm90b3R5cGUub2U9ZnVuY3Rpb24oYSxiKXt4KFwiRmlyZWJhc2UuY2hhbmdlUGFzc3dvcmRcIiwyLDIsYXJndW1lbnRzLmxlbmd0aCk7YWcoXCJGaXJlYmFzZS5jaGFuZ2VQYXNzd29yZFwiLDEsYSwhMSk7YmcoXCJGaXJlYmFzZS5jaGFuZ2VQYXNzd29yZFwiLGEsXCJlbWFpbFwiKTtiZyhcIkZpcmViYXNlLmNoYW5nZVBhc3N3b3JkXCIsYSxcIm9sZFBhc3N3b3JkXCIpO2JnKFwiRmlyZWJhc2UuY2hhbmdlUGFzc3dvcmRcIixhLFwibmV3UGFzc3dvcmRcIik7QShcIkZpcmViYXNlLmNoYW5nZVBhc3N3b3JkXCIsMixiLCExKTt0aGlzLmsuUC5vZShhLGIpfTtVLnByb3RvdHlwZS5jaGFuZ2VQYXNzd29yZD1VLnByb3RvdHlwZS5vZTtcblUucHJvdG90eXBlLm5lPWZ1bmN0aW9uKGEsYil7eChcIkZpcmViYXNlLmNoYW5nZUVtYWlsXCIsMiwyLGFyZ3VtZW50cy5sZW5ndGgpO2FnKFwiRmlyZWJhc2UuY2hhbmdlRW1haWxcIiwxLGEsITEpO2JnKFwiRmlyZWJhc2UuY2hhbmdlRW1haWxcIixhLFwib2xkRW1haWxcIik7YmcoXCJGaXJlYmFzZS5jaGFuZ2VFbWFpbFwiLGEsXCJuZXdFbWFpbFwiKTtiZyhcIkZpcmViYXNlLmNoYW5nZUVtYWlsXCIsYSxcInBhc3N3b3JkXCIpO0EoXCJGaXJlYmFzZS5jaGFuZ2VFbWFpbFwiLDIsYiwhMSk7dGhpcy5rLlAubmUoYSxiKX07VS5wcm90b3R5cGUuY2hhbmdlRW1haWw9VS5wcm90b3R5cGUubmU7XG5VLnByb3RvdHlwZS5VZT1mdW5jdGlvbihhLGIpe3goXCJGaXJlYmFzZS5yZXNldFBhc3N3b3JkXCIsMiwyLGFyZ3VtZW50cy5sZW5ndGgpO2FnKFwiRmlyZWJhc2UucmVzZXRQYXNzd29yZFwiLDEsYSwhMSk7YmcoXCJGaXJlYmFzZS5yZXNldFBhc3N3b3JkXCIsYSxcImVtYWlsXCIpO0EoXCJGaXJlYmFzZS5yZXNldFBhc3N3b3JkXCIsMixiLCExKTt0aGlzLmsuUC5VZShhLGIpfTtVLnByb3RvdHlwZS5yZXNldFBhc3N3b3JkPVUucHJvdG90eXBlLlVlO1UuZ29PZmZsaW5lPWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLmdvT2ZmbGluZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtXLnViKCkueWIoKX07VS5nb09ubGluZT1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5nb09ubGluZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtXLnViKCkucWMoKX07XG5mdW5jdGlvbiBOYyhhLGIpe0ooIWJ8fCEwPT09YXx8ITE9PT1hLFwiQ2FuJ3QgdHVybiBvbiBjdXN0b20gbG9nZ2VycyBwZXJzaXN0ZW50bHkuXCIpOyEwPT09YT8oXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlJiYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGNvbnNvbGUubG9nP0FiPXEoY29uc29sZS5sb2csY29uc29sZSk6XCJvYmplY3RcIj09PXR5cGVvZiBjb25zb2xlLmxvZyYmKEFiPWZ1bmN0aW9uKGEpe2NvbnNvbGUubG9nKGEpfSkpLGImJlAuc2V0KFwibG9nZ2luZ19lbmFibGVkXCIsITApKTphP0FiPWE6KEFiPW51bGwsUC5yZW1vdmUoXCJsb2dnaW5nX2VuYWJsZWRcIikpfVUuZW5hYmxlTG9nZ2luZz1OYztVLlNlcnZlclZhbHVlPXtUSU1FU1RBTVA6e1wiLnN2XCI6XCJ0aW1lc3RhbXBcIn19O1UuU0RLX1ZFUlNJT049XCIyLjIuNFwiO1UuSU5URVJOQUw9VjtVLkNvbnRleHQ9VztVLlRFU1RfQUNDRVNTPVo7fSkoKTtcblxuIiwiLyohXG4gKiBBbmd1bGFyRmlyZSBpcyB0aGUgb2ZmaWNpYWxseSBzdXBwb3J0ZWQgQW5ndWxhckpTIGJpbmRpbmcgZm9yIEZpcmViYXNlLiBGaXJlYmFzZVxuICogaXMgYSBmdWxsIGJhY2tlbmQgc28geW91IGRvbid0IG5lZWQgc2VydmVycyB0byBidWlsZCB5b3VyIEFuZ3VsYXIgYXBwLiBBbmd1bGFyRmlyZVxuICogcHJvdmlkZXMgeW91IHdpdGggdGhlICRmaXJlYmFzZSBzZXJ2aWNlIHdoaWNoIGFsbG93cyB5b3UgdG8gZWFzaWx5IGtlZXAgeW91ciAkc2NvcGVcbiAqIHZhcmlhYmxlcyBpbiBzeW5jIHdpdGggeW91ciBGaXJlYmFzZSBiYWNrZW5kLlxuICpcbiAqIEFuZ3VsYXJGaXJlIDEuMS4xXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZmlyZWJhc2UvYW5ndWxhcmZpcmUvXG4gKiBEYXRlOiAwNS8wNS8yMDE1XG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuIWZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2FuZ3VsYXIubW9kdWxlKFwiZmlyZWJhc2VcIixbXSkudmFsdWUoXCJGaXJlYmFzZVwiLGEuRmlyZWJhc2UpfSh3aW5kb3cpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7YW5ndWxhci5tb2R1bGUoXCJmaXJlYmFzZVwiKS5mYWN0b3J5KFwiJGZpcmViYXNlQXJyYXlcIixbXCIkbG9nXCIsXCIkZmlyZWJhc2VVdGlsc1wiLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSlyZXR1cm4gbmV3IGMoYSk7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzPVtdLHRoaXMuJGxpc3Q9W10sdGhpcy5fcmVmPWEsdGhpcy5fc3luYz1uZXcgZCh0aGlzKSxiLmFzc2VydFZhbGlkUmVmKGEsXCJNdXN0IHBhc3MgYSB2YWxpZCBGaXJlYmFzZSByZWZlcmVuY2UgdG8gJGZpcmViYXNlQXJyYXkgKG5vdCBhIHN0cmluZyBvciBVUkwpXCIpLHRoaXMuX2luZGV4Q2FjaGU9e30sYi5nZXRQdWJsaWNNZXRob2RzKGUsZnVuY3Rpb24oYSxiKXtlLiRsaXN0W2JdPWEuYmluZChlKX0pLHRoaXMuX3N5bmMuaW5pdCh0aGlzLiRsaXN0KSx0aGlzLiRsaXN0fWZ1bmN0aW9uIGQoYyl7ZnVuY3Rpb24gZChhKXtpZighby5pc0Rlc3Ryb3llZCl7by5pc0Rlc3Ryb3llZD0hMDt2YXIgYj1jLiRyZWYoKTtiLm9mZihcImNoaWxkX2FkZGVkXCIsaCksYi5vZmYoXCJjaGlsZF9tb3ZlZFwiLGopLGIub2ZmKFwiY2hpbGRfY2hhbmdlZFwiLGkpLGIub2ZmKFwiY2hpbGRfcmVtb3ZlZFwiLGspLGM9bnVsbCxuKGF8fFwiZGVzdHJveWVkXCIpfX1mdW5jdGlvbiBlKGIpe3ZhciBkPWMuJHJlZigpO2Qub24oXCJjaGlsZF9hZGRlZFwiLGgsbSksZC5vbihcImNoaWxkX21vdmVkXCIsaixtKSxkLm9uKFwiY2hpbGRfY2hhbmdlZFwiLGksbSksZC5vbihcImNoaWxkX3JlbW92ZWRcIixrLG0pLGQub25jZShcInZhbHVlXCIsZnVuY3Rpb24oYyl7YW5ndWxhci5pc0FycmF5KGMudmFsKCkpJiZhLndhcm4oXCJTdG9yaW5nIGRhdGEgdXNpbmcgYXJyYXkgaW5kaWNlcyBpbiBGaXJlYmFzZSBjYW4gcmVzdWx0IGluIHVuZXhwZWN0ZWQgYmVoYXZpb3IuIFNlZSBodHRwczovL3d3dy5maXJlYmFzZS5jb20vZG9jcy93ZWIvZ3VpZGUvdW5kZXJzdGFuZGluZy1kYXRhLmh0bWwjc2VjdGlvbi1hcnJheXMtaW4tZmlyZWJhc2UgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCIpLG4obnVsbCxiKX0sbil9ZnVuY3Rpb24gZihhLGIpe2x8fChsPSEwLGE/Zy5yZWplY3QoYSk6Zy5yZXNvbHZlKGIpKX12YXIgZz1iLmRlZmVyKCksaD1mdW5jdGlvbihhLGQpe3ZhciBlPWMuJCRhZGRlZChhLGQpO2Iud2hlblVud3JhcHBlZChlLGZ1bmN0aW9uKGEpe2MuJCRwcm9jZXNzKFwiY2hpbGRfYWRkZWRcIixhLGQpfSl9LGk9ZnVuY3Rpb24oYSl7dmFyIGQ9Yy4kZ2V0UmVjb3JkKGIuZ2V0S2V5KGEpKTtpZihkKXt2YXIgZT1jLiQkdXBkYXRlZChhKTtiLndoZW5VbndyYXBwZWQoZSxmdW5jdGlvbigpe2MuJCRwcm9jZXNzKFwiY2hpbGRfY2hhbmdlZFwiLGQpfSl9fSxqPWZ1bmN0aW9uKGEsZCl7dmFyIGU9Yy4kZ2V0UmVjb3JkKGIuZ2V0S2V5KGEpKTtpZihlKXt2YXIgZj1jLiQkbW92ZWQoYSxkKTtiLndoZW5VbndyYXBwZWQoZixmdW5jdGlvbigpe2MuJCRwcm9jZXNzKFwiY2hpbGRfbW92ZWRcIixlLGQpfSl9fSxrPWZ1bmN0aW9uKGEpe3ZhciBkPWMuJGdldFJlY29yZChiLmdldEtleShhKSk7aWYoZCl7dmFyIGU9Yy4kJHJlbW92ZWQoYSk7Yi53aGVuVW53cmFwcGVkKGUsZnVuY3Rpb24oKXtjLiQkcHJvY2VzcyhcImNoaWxkX3JlbW92ZWRcIixkKX0pfX0sbD0hMSxtPWIuYmF0Y2goZnVuY3Rpb24oYSl7ZihhKSxjJiZjLiQkZXJyb3IoYSl9KSxuPWIuYmF0Y2goZiksbz17ZGVzdHJveTpkLGlzRGVzdHJveWVkOiExLGluaXQ6ZSxyZWFkeTpmdW5jdGlvbigpe3JldHVybiBnLnByb21pc2V9fTtyZXR1cm4gb31yZXR1cm4gYy5wcm90b3R5cGU9eyRhZGQ6ZnVuY3Rpb24oYSl7dGhpcy5fYXNzZXJ0Tm90RGVzdHJveWVkKFwiJGFkZFwiKTt2YXIgYz1iLmRlZmVyKCksZD10aGlzLiRyZWYoKS5yZWYoKS5wdXNoKCk7cmV0dXJuIGQuc2V0KGIudG9KU09OKGEpLGIubWFrZU5vZGVSZXNvbHZlcihjKSksYy5wcm9taXNlLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZH0pfSwkc2F2ZTpmdW5jdGlvbihhKXt0aGlzLl9hc3NlcnROb3REZXN0cm95ZWQoXCIkc2F2ZVwiKTt2YXIgYz10aGlzLGQ9Yy5fcmVzb2x2ZUl0ZW0oYSksZT1jLiRrZXlBdChkKTtpZihudWxsIT09ZSl7dmFyIGY9Yy4kcmVmKCkucmVmKCkuY2hpbGQoZSksZz1iLnRvSlNPTihkKTtyZXR1cm4gYi5kb1NldChmLGcpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYy4kJG5vdGlmeShcImNoaWxkX2NoYW5nZWRcIixlKSxmfSl9cmV0dXJuIGIucmVqZWN0KFwiSW52YWxpZCByZWNvcmQ7IGNvdWxkIGRldGVybWluZSBrZXkgZm9yIFwiK2EpfSwkcmVtb3ZlOmZ1bmN0aW9uKGEpe3RoaXMuX2Fzc2VydE5vdERlc3Ryb3llZChcIiRyZW1vdmVcIik7dmFyIGM9dGhpcy4ka2V5QXQoYSk7aWYobnVsbCE9PWMpe3ZhciBkPXRoaXMuJHJlZigpLnJlZigpLmNoaWxkKGMpO3JldHVybiBiLmRvUmVtb3ZlKGQpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZH0pfXJldHVybiBiLnJlamVjdChcIkludmFsaWQgcmVjb3JkOyBjb3VsZCBub3QgZGV0ZXJtaW5lIGtleSBmb3IgXCIrYSl9LCRrZXlBdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl9yZXNvbHZlSXRlbShhKTtyZXR1cm4gdGhpcy4kJGdldEtleShiKX0sJGluZGV4Rm9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLl9pbmRleENhY2hlO2lmKCFjLmhhc093blByb3BlcnR5KGEpfHxiLiRrZXlBdChjW2FdKSE9PWEpe3ZhciBkPWIuJGxpc3QuZmluZEluZGV4KGZ1bmN0aW9uKGMpe3JldHVybiBiLiQkZ2V0S2V5KGMpPT09YX0pOy0xIT09ZCYmKGNbYV09ZCl9cmV0dXJuIGMuaGFzT3duUHJvcGVydHkoYSk/Y1thXTotMX0sJGxvYWRlZDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX3N5bmMucmVhZHkoKTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmKGM9Yy50aGVuLmNhbGwoYyxhLGIpKSxjfSwkcmVmOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlZn0sJHdhdGNoOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fb2JzZXJ2ZXJzO3JldHVybiBjLnB1c2goW2EsYl0pLGZ1bmN0aW9uKCl7dmFyIGQ9Yy5maW5kSW5kZXgoZnVuY3Rpb24oYyl7cmV0dXJuIGNbMF09PT1hJiZjWzFdPT09Yn0pO2Q+LTEmJmMuc3BsaWNlKGQsMSl9fSwkZGVzdHJveTpmdW5jdGlvbihhKXt0aGlzLl9pc0Rlc3Ryb3llZHx8KHRoaXMuX2lzRGVzdHJveWVkPSEwLHRoaXMuX3N5bmMuZGVzdHJveShhKSx0aGlzLiRsaXN0Lmxlbmd0aD0wKX0sJGdldFJlY29yZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiRpbmRleEZvcihhKTtyZXR1cm4gYj4tMT90aGlzLiRsaXN0W2JdOm51bGx9LCQkYWRkZWQ6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy4kaW5kZXhGb3IoYi5nZXRLZXkoYSkpO2lmKC0xPT09Yyl7dmFyIGQ9YS52YWwoKTtyZXR1cm4gYW5ndWxhci5pc09iamVjdChkKXx8KGQ9eyR2YWx1ZTpkfSksZC4kaWQ9Yi5nZXRLZXkoYSksZC4kcHJpb3JpdHk9YS5nZXRQcmlvcml0eSgpLGIuYXBwbHlEZWZhdWx0cyhkLHRoaXMuJCRkZWZhdWx0cyksZH1yZXR1cm4hMX0sJCRyZW1vdmVkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiRpbmRleEZvcihiLmdldEtleShhKSk+LTF9LCQkdXBkYXRlZDpmdW5jdGlvbihhKXt2YXIgYz0hMSxkPXRoaXMuJGdldFJlY29yZChiLmdldEtleShhKSk7cmV0dXJuIGFuZ3VsYXIuaXNPYmplY3QoZCkmJihjPWIudXBkYXRlUmVjKGQsYSksYi5hcHBseURlZmF1bHRzKGQsdGhpcy4kJGRlZmF1bHRzKSksY30sJCRtb3ZlZDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLiRnZXRSZWNvcmQoYi5nZXRLZXkoYSkpO3JldHVybiBhbmd1bGFyLmlzT2JqZWN0KGMpPyhjLiRwcmlvcml0eT1hLmdldFByaW9yaXR5KCksITApOiExfSwkJGVycm9yOmZ1bmN0aW9uKGIpe2EuZXJyb3IoYiksdGhpcy4kZGVzdHJveShiKX0sJCRnZXRLZXk6ZnVuY3Rpb24oYSl7cmV0dXJuIGFuZ3VsYXIuaXNPYmplY3QoYSk/YS4kaWQ6bnVsbH0sJCRwcm9jZXNzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPXRoaXMuJCRnZXRLZXkoYiksZj0hMTtzd2l0Y2goYSl7Y2FzZVwiY2hpbGRfYWRkZWRcIjpkPXRoaXMuJGluZGV4Rm9yKGUpO2JyZWFrO2Nhc2VcImNoaWxkX21vdmVkXCI6ZD10aGlzLiRpbmRleEZvcihlKSx0aGlzLl9zcGxpY2VPdXQoZSk7YnJlYWs7Y2FzZVwiY2hpbGRfcmVtb3ZlZFwiOmY9bnVsbCE9PXRoaXMuX3NwbGljZU91dChlKTticmVhaztjYXNlXCJjaGlsZF9jaGFuZ2VkXCI6Zj0hMDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZXZlbnQgdHlwZTogXCIrYSl9cmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKGQpJiYoZj10aGlzLl9hZGRBZnRlcihiLGMpIT09ZCksZiYmdGhpcy4kJG5vdGlmeShhLGUsYyksZn0sJCRub3RpZnk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXtldmVudDphLGtleTpifTthbmd1bGFyLmlzRGVmaW5lZChjKSYmKGQucHJldkNoaWxkPWMpLGFuZ3VsYXIuZm9yRWFjaCh0aGlzLl9vYnNlcnZlcnMsZnVuY3Rpb24oYSl7YVswXS5jYWxsKGFbMV0sZCl9KX0sX2FkZEFmdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM7cmV0dXJuIG51bGw9PT1iP2M9MDooYz10aGlzLiRpbmRleEZvcihiKSsxLDA9PT1jJiYoYz10aGlzLiRsaXN0Lmxlbmd0aCkpLHRoaXMuJGxpc3Quc3BsaWNlKGMsMCxhKSx0aGlzLl9pbmRleENhY2hlW3RoaXMuJCRnZXRLZXkoYSldPWMsY30sX3NwbGljZU91dDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiRpbmRleEZvcihhKTtyZXR1cm4gYj4tMT8oZGVsZXRlIHRoaXMuX2luZGV4Q2FjaGVbYV0sdGhpcy4kbGlzdC5zcGxpY2UoYiwxKVswXSk6bnVsbH0sX3Jlc29sdmVJdGVtOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuJGxpc3Q7aWYoYW5ndWxhci5pc051bWJlcihhKSYmYT49MCYmYi5sZW5ndGg+PWEpcmV0dXJuIGJbYV07aWYoYW5ndWxhci5pc09iamVjdChhKSl7dmFyIGM9dGhpcy4kJGdldEtleShhKSxkPXRoaXMuJGdldFJlY29yZChjKTtyZXR1cm4gZD09PWE/ZDpudWxsfXJldHVybiBudWxsfSxfYXNzZXJ0Tm90RGVzdHJveWVkOmZ1bmN0aW9uKGEpe2lmKHRoaXMuX2lzRGVzdHJveWVkKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFwiK2ErXCIgbWV0aG9kIG9uIGEgZGVzdHJveWVkICRmaXJlYmFzZUFycmF5IG9iamVjdFwiKX19LGMuJGV4dGVuZD1mdW5jdGlvbihhLGQpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aCYmYW5ndWxhci5pc09iamVjdChhKSYmKGQ9YSxhPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgYT8oYy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy4kbGlzdCk6bmV3IGEoYil9KSxiLmluaGVyaXQoYSxjLGQpfSxjfV0pLGFuZ3VsYXIubW9kdWxlKFwiZmlyZWJhc2VcIikuZmFjdG9yeShcIiRGaXJlYmFzZUFycmF5XCIsW1wiJGxvZ1wiLFwiJGZpcmViYXNlQXJyYXlcIixmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLndhcm4oXCIkRmlyZWJhc2VBcnJheSBoYXMgYmVlbiByZW5hbWVkLiBVc2UgJGZpcmViYXNlQXJyYXkgaW5zdGVhZC5cIiksYi5hcHBseShudWxsLGFyZ3VtZW50cyl9fV0pfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE7YW5ndWxhci5tb2R1bGUoXCJmaXJlYmFzZVwiKS5mYWN0b3J5KFwiJGZpcmViYXNlQXV0aFwiLFtcIiRxXCIsXCIkZmlyZWJhc2VVdGlsc1wiLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPW5ldyBhKGIsYyxkKTtyZXR1cm4gZS5jb25zdHJ1Y3QoKX19XSksYT1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy5fcT1hLHRoaXMuX3V0aWxzPWIsXCJzdHJpbmdcIj09dHlwZW9mIGMpdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgYSBGaXJlYmFzZSByZWZlcmVuY2UgaW5zdGVhZCBvZiBhIFVSTCB3aGVuIGNyZWF0aW5nIGEgYCRmaXJlYmFzZUF1dGhgIG9iamVjdC5cIik7dGhpcy5fcmVmPWMsdGhpcy5faW5pdGlhbEF1dGhSZXNvbHZlcj10aGlzLl9pbml0QXV0aFJlc29sdmVyKCl9LGEucHJvdG90eXBlPXtjb25zdHJ1Y3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2JqZWN0PXskYXV0aFdpdGhDdXN0b21Ub2tlbjp0aGlzLmF1dGhXaXRoQ3VzdG9tVG9rZW4uYmluZCh0aGlzKSwkYXV0aEFub255bW91c2x5OnRoaXMuYXV0aEFub255bW91c2x5LmJpbmQodGhpcyksJGF1dGhXaXRoUGFzc3dvcmQ6dGhpcy5hdXRoV2l0aFBhc3N3b3JkLmJpbmQodGhpcyksJGF1dGhXaXRoT0F1dGhQb3B1cDp0aGlzLmF1dGhXaXRoT0F1dGhQb3B1cC5iaW5kKHRoaXMpLCRhdXRoV2l0aE9BdXRoUmVkaXJlY3Q6dGhpcy5hdXRoV2l0aE9BdXRoUmVkaXJlY3QuYmluZCh0aGlzKSwkYXV0aFdpdGhPQXV0aFRva2VuOnRoaXMuYXV0aFdpdGhPQXV0aFRva2VuLmJpbmQodGhpcyksJHVuYXV0aDp0aGlzLnVuYXV0aC5iaW5kKHRoaXMpLCRvbkF1dGg6dGhpcy5vbkF1dGguYmluZCh0aGlzKSwkZ2V0QXV0aDp0aGlzLmdldEF1dGguYmluZCh0aGlzKSwkcmVxdWlyZUF1dGg6dGhpcy5yZXF1aXJlQXV0aC5iaW5kKHRoaXMpLCR3YWl0Rm9yQXV0aDp0aGlzLndhaXRGb3JBdXRoLmJpbmQodGhpcyksJGNyZWF0ZVVzZXI6dGhpcy5jcmVhdGVVc2VyLmJpbmQodGhpcyksJGNoYW5nZVBhc3N3b3JkOnRoaXMuY2hhbmdlUGFzc3dvcmQuYmluZCh0aGlzKSwkY2hhbmdlRW1haWw6dGhpcy5jaGFuZ2VFbWFpbC5iaW5kKHRoaXMpLCRyZW1vdmVVc2VyOnRoaXMucmVtb3ZlVXNlci5iaW5kKHRoaXMpLCRyZXNldFBhc3N3b3JkOnRoaXMucmVzZXRQYXNzd29yZC5iaW5kKHRoaXMpfSx0aGlzLl9vYmplY3R9LGF1dGhXaXRoQ3VzdG9tVG9rZW46ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9xLmRlZmVyKCk7dHJ5e3RoaXMuX3JlZi5hdXRoV2l0aEN1c3RvbVRva2VuKGEsdGhpcy5fdXRpbHMubWFrZU5vZGVSZXNvbHZlcihjKSxiKX1jYXRjaChkKXtjLnJlamVjdChkKX1yZXR1cm4gYy5wcm9taXNlfSxhdXRoQW5vbnltb3VzbHk6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fcS5kZWZlcigpO3RyeXt0aGlzLl9yZWYuYXV0aEFub255bW91c2x5KHRoaXMuX3V0aWxzLm1ha2VOb2RlUmVzb2x2ZXIoYiksYSl9Y2F0Y2goYyl7Yi5yZWplY3QoYyl9cmV0dXJuIGIucHJvbWlzZX0sYXV0aFdpdGhQYXNzd29yZDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX3EuZGVmZXIoKTt0cnl7dGhpcy5fcmVmLmF1dGhXaXRoUGFzc3dvcmQoYSx0aGlzLl91dGlscy5tYWtlTm9kZVJlc29sdmVyKGMpLGIpfWNhdGNoKGQpe2MucmVqZWN0KGQpfXJldHVybiBjLnByb21pc2V9LGF1dGhXaXRoT0F1dGhQb3B1cDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX3EuZGVmZXIoKTt0cnl7dGhpcy5fcmVmLmF1dGhXaXRoT0F1dGhQb3B1cChhLHRoaXMuX3V0aWxzLm1ha2VOb2RlUmVzb2x2ZXIoYyksYil9Y2F0Y2goZCl7Yy5yZWplY3QoZCl9cmV0dXJuIGMucHJvbWlzZX0sYXV0aFdpdGhPQXV0aFJlZGlyZWN0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fcS5kZWZlcigpO3RyeXt0aGlzLl9yZWYuYXV0aFdpdGhPQXV0aFJlZGlyZWN0KGEsdGhpcy5fdXRpbHMubWFrZU5vZGVSZXNvbHZlcihjKSxiKX1jYXRjaChkKXtjLnJlamVjdChkKX1yZXR1cm4gYy5wcm9taXNlfSxhdXRoV2l0aE9BdXRoVG9rZW46ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuX3EuZGVmZXIoKTt0cnl7dGhpcy5fcmVmLmF1dGhXaXRoT0F1dGhUb2tlbihhLGIsdGhpcy5fdXRpbHMubWFrZU5vZGVSZXNvbHZlcihkKSxjKX1jYXRjaChlKXtkLnJlamVjdChlKX1yZXR1cm4gZC5wcm9taXNlfSx1bmF1dGg6ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5nZXRBdXRoKCkmJnRoaXMuX3JlZi51bmF1dGgoKX0sb25BdXRoOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPXRoaXMuX3V0aWxzLmRlYm91bmNlKGEsYiwwKTtyZXR1cm4gdGhpcy5fcmVmLm9uQXV0aChkKSxmdW5jdGlvbigpe2MuX3JlZi5vZmZBdXRoKGQpfX0sZ2V0QXV0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWYuZ2V0QXV0aCgpfSxfcm91dGVyTWV0aG9kT25BdXRoUHJvbWlzZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl9yZWYsYz10aGlzLl91dGlscztyZXR1cm4gdGhpcy5faW5pdGlhbEF1dGhSZXNvbHZlci50aGVuKGZ1bmN0aW9uKCl7dmFyIGQ9Yi5nZXRBdXRoKCksZT1udWxsO3JldHVybiBlPWEmJm51bGw9PT1kP2MucmVqZWN0KFwiQVVUSF9SRVFVSVJFRFwiKTpjLnJlc29sdmUoZCl9KX0sX2luaXRBdXRoUmVzb2x2ZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9yZWY7cmV0dXJuIHRoaXMuX3V0aWxzLnByb21pc2UoZnVuY3Rpb24oYil7ZnVuY3Rpb24gYygpe2Eub2ZmQXV0aChjKSxiKCl9YS5vbkF1dGgoYyl9KX0scmVxdWlyZUF1dGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm91dGVyTWV0aG9kT25BdXRoUHJvbWlzZSghMCl9LHdhaXRGb3JBdXRoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdXRlck1ldGhvZE9uQXV0aFByb21pc2UoITEpfSxjcmVhdGVVc2VyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX3EuZGVmZXIoKTtpZihcInN0cmluZ1wiPT10eXBlb2YgYSl0aHJvdyBuZXcgRXJyb3IoXCIkY3JlYXRlVXNlcigpIGV4cGVjdHMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgJ2VtYWlsJyBhbmQgJ3Bhc3N3b3JkJywgYnV0IGdvdCBhIHN0cmluZy5cIik7dHJ5e3RoaXMuX3JlZi5jcmVhdGVVc2VyKGEsdGhpcy5fdXRpbHMubWFrZU5vZGVSZXNvbHZlcihiKSl9Y2F0Y2goYyl7Yi5yZWplY3QoYyl9cmV0dXJuIGIucHJvbWlzZX0sY2hhbmdlUGFzc3dvcmQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fcS5kZWZlcigpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXRocm93IG5ldyBFcnJvcihcIiRjaGFuZ2VQYXNzd29yZCgpIGV4cGVjdHMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgJ2VtYWlsJywgJ29sZFBhc3N3b3JkJywgYW5kICduZXdQYXNzd29yZCcsIGJ1dCBnb3QgYSBzdHJpbmcuXCIpO3RyeXt0aGlzLl9yZWYuY2hhbmdlUGFzc3dvcmQoYSx0aGlzLl91dGlscy5tYWtlTm9kZVJlc29sdmVyKGIpKX1jYXRjaChjKXtiLnJlamVjdChjKX1yZXR1cm4gYi5wcm9taXNlfSxjaGFuZ2VFbWFpbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl9xLmRlZmVyKCk7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdGhpcy5fcmVmLmNoYW5nZUVtYWlsKXRocm93IG5ldyBFcnJvcihcIiRmaXJlYmFzZUF1dGguJGNoYW5nZUVtYWlsKCkgcmVxdWlyZXMgRmlyZWJhc2UgdmVyc2lvbiAyLjEuMCBvciBncmVhdGVyLlwiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgYSl0aHJvdyBuZXcgRXJyb3IoXCIkY2hhbmdlRW1haWwoKSBleHBlY3RzIGFuIG9iamVjdCBjb250YWluaW5nICdvbGRFbWFpbCcsICduZXdFbWFpbCcsIGFuZCAncGFzc3dvcmQnLCBidXQgZ290IGEgc3RyaW5nLlwiKTt0cnl7dGhpcy5fcmVmLmNoYW5nZUVtYWlsKGEsdGhpcy5fdXRpbHMubWFrZU5vZGVSZXNvbHZlcihiKSl9Y2F0Y2goYyl7Yi5yZWplY3QoYyl9cmV0dXJuIGIucHJvbWlzZX0scmVtb3ZlVXNlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl9xLmRlZmVyKCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpdGhyb3cgbmV3IEVycm9yKFwiJHJlbW92ZVVzZXIoKSBleHBlY3RzIGFuIG9iamVjdCBjb250YWluaW5nICdlbWFpbCcgYW5kICdwYXNzd29yZCcsIGJ1dCBnb3QgYSBzdHJpbmcuXCIpO3RyeXt0aGlzLl9yZWYucmVtb3ZlVXNlcihhLHRoaXMuX3V0aWxzLm1ha2VOb2RlUmVzb2x2ZXIoYikpfWNhdGNoKGMpe2IucmVqZWN0KGMpfXJldHVybiBiLnByb21pc2V9LHJlc2V0UGFzc3dvcmQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fcS5kZWZlcigpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXRocm93IG5ldyBFcnJvcihcIiRyZXNldFBhc3N3b3JkKCkgZXhwZWN0cyBhbiBvYmplY3QgY29udGFpbmluZyAnZW1haWwnLCBidXQgZ290IGEgc3RyaW5nLlwiKTt0cnl7dGhpcy5fcmVmLnJlc2V0UGFzc3dvcmQoYSx0aGlzLl91dGlscy5tYWtlTm9kZVJlc29sdmVyKGIpKX1jYXRjaChjKXtiLnJlamVjdChjKX1yZXR1cm4gYi5wcm9taXNlfX19KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjthbmd1bGFyLm1vZHVsZShcImZpcmViYXNlXCIpLmZhY3RvcnkoXCIkZmlyZWJhc2VPYmplY3RcIixbXCIkcGFyc2VcIixcIiRmaXJlYmFzZVV0aWxzXCIsXCIkbG9nXCIsZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBkPyh0aGlzLiQkY29uZj17c3luYzpuZXcgZih0aGlzLGEpLHJlZjphLGJpbmRpbmc6bmV3IGUodGhpcyksbGlzdGVuZXJzOltdfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIiQkY29uZlwiLHt2YWx1ZTp0aGlzLiQkY29uZn0pLHRoaXMuJGlkPWIuZ2V0S2V5KGEucmVmKCkpLHRoaXMuJHByaW9yaXR5PW51bGwsYi5hcHBseURlZmF1bHRzKHRoaXMsdGhpcy4kJGRlZmF1bHRzKSx2b2lkIHRoaXMuJCRjb25mLnN5bmMuaW5pdCgpKTpuZXcgZChhKX1mdW5jdGlvbiBlKGEpe3RoaXMuc3Vicz1bXSx0aGlzLnNjb3BlPW51bGwsdGhpcy5rZXk9bnVsbCx0aGlzLnJlYz1hfWZ1bmN0aW9uIGYoYSxkKXtmdW5jdGlvbiBlKGIpe20uaXNEZXN0cm95ZWR8fChtLmlzRGVzdHJveWVkPSEwLGQub2ZmKFwidmFsdWVcIixqKSxhPW51bGwsbChifHxcImRlc3Ryb3llZFwiKSl9ZnVuY3Rpb24gZigpe2Qub24oXCJ2YWx1ZVwiLGosayksZC5vbmNlKFwidmFsdWVcIixmdW5jdGlvbihhKXthbmd1bGFyLmlzQXJyYXkoYS52YWwoKSkmJmMud2FybihcIlN0b3JpbmcgZGF0YSB1c2luZyBhcnJheSBpbmRpY2VzIGluIEZpcmViYXNlIGNhbiByZXN1bHQgaW4gdW5leHBlY3RlZCBiZWhhdmlvci4gU2VlIGh0dHBzOi8vd3d3LmZpcmViYXNlLmNvbS9kb2NzL3dlYi9ndWlkZS91bmRlcnN0YW5kaW5nLWRhdGEuaHRtbCNzZWN0aW9uLWFycmF5cy1pbi1maXJlYmFzZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gQWxzbyBub3RlIHRoYXQgeW91IHByb2JhYmx5IHdhbnRlZCAkZmlyZWJhc2VBcnJheSBhbmQgbm90ICRmaXJlYmFzZU9iamVjdC5cIiksbChudWxsKX0sbCl9ZnVuY3Rpb24gZyhiKXtofHwoaD0hMCxiP2kucmVqZWN0KGIpOmkucmVzb2x2ZShhKSl9dmFyIGg9ITEsaT1iLmRlZmVyKCksaj1iLmJhdGNoKGZ1bmN0aW9uKGIpe3ZhciBjPWEuJCR1cGRhdGVkKGIpO2MmJmEuJCRub3RpZnkoKX0pLGs9Yi5iYXRjaChmdW5jdGlvbihiKXtnKGIpLGEmJmEuJCRlcnJvcihiKX0pLGw9Yi5iYXRjaChnKSxtPXtpc0Rlc3Ryb3llZDohMSxkZXN0cm95OmUsaW5pdDpmLHJlYWR5OmZ1bmN0aW9uKCl7cmV0dXJuIGkucHJvbWlzZX19O3JldHVybiBtfXJldHVybiBkLnByb3RvdHlwZT17JHNhdmU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGM9YS4kcmVmKCksZD1iLnRvSlNPTihhKTtyZXR1cm4gYi5kb1NldChjLGQpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYS4kJG5vdGlmeSgpLGEuJHJlZigpfSl9LCRyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBiLnRyaW1LZXlzKGEse30pLGEuJHZhbHVlPW51bGwsYi5kb1JlbW92ZShhLiRyZWYoKSkudGhlbihmdW5jdGlvbigpe3JldHVybiBhLiQkbm90aWZ5KCksYS4kcmVmKCl9KX0sJGxvYWRlZDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuJCRjb25mLnN5bmMucmVhZHkoKTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmKGM9Yy50aGVuLmNhbGwoYyxhLGIpKSxjfSwkcmVmOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCRjb25mLnJlZn0sJGJpbmRUbzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuIGMuJGxvYWRlZCgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYy4kJGNvbmYuYmluZGluZy5iaW5kVG8oYSxiKX0pfSwkd2F0Y2g6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLiQkY29uZi5saXN0ZW5lcnM7cmV0dXJuIGMucHVzaChbYSxiXSksZnVuY3Rpb24oKXt2YXIgZD1jLmZpbmRJbmRleChmdW5jdGlvbihjKXtyZXR1cm4gY1swXT09PWEmJmNbMV09PT1ifSk7ZD4tMSYmYy5zcGxpY2UoZCwxKX19LCRkZXN0cm95OmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXM7Yy4kaXNEZXN0cm95ZWR8fChjLiRpc0Rlc3Ryb3llZD0hMCxjLiQkY29uZi5zeW5jLmRlc3Ryb3koYSksYy4kJGNvbmYuYmluZGluZy5kZXN0cm95KCksYi5lYWNoKGMsZnVuY3Rpb24oYSxiKXtkZWxldGUgY1tiXX0pKX0sJCR1cGRhdGVkOmZ1bmN0aW9uKGEpe3ZhciBjPWIudXBkYXRlUmVjKHRoaXMsYSk7cmV0dXJuIGIuYXBwbHlEZWZhdWx0cyh0aGlzLHRoaXMuJCRkZWZhdWx0cyksY30sJCRlcnJvcjpmdW5jdGlvbihhKXtjLmVycm9yKGEpLHRoaXMuJGRlc3Ryb3koYSl9LCQkc2NvcGVVcGRhdGVkOmZ1bmN0aW9uKGEpe3ZhciBjPWIuZGVmZXIoKTtyZXR1cm4gdGhpcy4kcmVmKCkuc2V0KGIudG9KU09OKGEpLGIubWFrZU5vZGVSZXNvbHZlcihjKSksYy5wcm9taXNlfSwkJG5vdGlmeTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj10aGlzLiQkY29uZi5saXN0ZW5lcnMuc2xpY2UoKTthbmd1bGFyLmZvckVhY2goYixmdW5jdGlvbihiKXtiWzBdLmNhbGwoYlsxXSx7ZXZlbnQ6XCJ2YWx1ZVwiLGtleTphLiRpZH0pfSl9LGZvckVhY2g6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYi5lYWNoKHRoaXMsYSxjKX19LGQuJGV4dGVuZD1mdW5jdGlvbihhLGMpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aCYmYW5ndWxhci5pc09iamVjdChhKSYmKGM9YSxhPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgYT92b2lkIGQuYXBwbHkodGhpcyxhcmd1bWVudHMpOm5ldyBhKGIpfSksYi5pbmhlcml0KGEsZCxjKX0sZS5wcm90b3R5cGU9e2Fzc2VydE5vdEJvdW5kOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc2NvcGUpe3ZhciBkPVwiQ2Fubm90IGJpbmQgdG8gXCIrYStcIiBiZWNhdXNlIHRoaXMgaW5zdGFuY2UgaXMgYWxyZWFkeSBib3VuZCB0byBcIit0aGlzLmtleStcIjsgb25lIGJpbmRpbmcgcGVyIGluc3RhbmNlIChjYWxsIHVuYmluZCBtZXRob2Qgb3IgY3JlYXRlIGFub3RoZXIgRmlyZWJhc2VPYmplY3QgaW5zdGFuY2UpXCI7cmV0dXJuIGMuZXJyb3IoZCksYi5yZWplY3QoZCl9fSxiaW5kVG86ZnVuY3Rpb24oYyxkKXtmdW5jdGlvbiBlKGUpe2Z1bmN0aW9uIGYoYSl7cmV0dXJuIGFuZ3VsYXIuZXF1YWxzKGEsaykmJmEuJHByaW9yaXR5PT09ay4kcHJpb3JpdHkmJmEuJHZhbHVlPT09ay4kdmFsdWV9ZnVuY3Rpb24gZyhhKXtqLmFzc2lnbihjLGIuc2NvcGVEYXRhKGEpKX1mdW5jdGlvbiBoKCl7dmFyIGE9aihjKTtyZXR1cm5bYSxhLiRwcmlvcml0eSxhLiR2YWx1ZV19dmFyIGk9ITEsaj1hKGQpLGs9ZS5yZWM7ZS5zY29wZT1jLGUudmFyTmFtZT1kO3ZhciBsPWIuZGVib3VuY2UoZnVuY3Rpb24oYSl7dmFyIGQ9Yi5zY29wZURhdGEoYSk7ay4kJHNjb3BlVXBkYXRlZChkKVtcImZpbmFsbHlcIl0oZnVuY3Rpb24oKXtpPSExLGQuaGFzT3duUHJvcGVydHkoXCIkdmFsdWVcIil8fChkZWxldGUgay4kdmFsdWUsZGVsZXRlIGooYykuJHZhbHVlKX0pfSw1MCw1MDApLG09ZnVuY3Rpb24oYSl7YT1hWzBdLGYoYSl8fChpPSEwLGwoYSkpfSxuPWZ1bmN0aW9uKCl7aXx8ZihqKGMpKXx8ZyhrKX07cmV0dXJuIGcoayksZS5zdWJzLnB1c2goYy4kb24oXCIkZGVzdHJveVwiLGUudW5iaW5kLmJpbmQoZSkpKSxlLnN1YnMucHVzaChjLiR3YXRjaChoLG0sITApKSxlLnN1YnMucHVzaChrLiR3YXRjaChuKSksZS51bmJpbmQuYmluZChlKX1yZXR1cm4gdGhpcy5hc3NlcnROb3RCb3VuZChkKXx8ZSh0aGlzKX0sdW5iaW5kOmZ1bmN0aW9uKCl7dGhpcy5zY29wZSYmKGFuZ3VsYXIuZm9yRWFjaCh0aGlzLnN1YnMsZnVuY3Rpb24oYSl7YSgpfSksdGhpcy5zdWJzPVtdLHRoaXMuc2NvcGU9bnVsbCx0aGlzLmtleT1udWxsKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMudW5iaW5kKCksdGhpcy5yZWM9bnVsbH19LGR9XSksYW5ndWxhci5tb2R1bGUoXCJmaXJlYmFzZVwiKS5mYWN0b3J5KFwiJEZpcmViYXNlT2JqZWN0XCIsW1wiJGxvZ1wiLFwiJGZpcmViYXNlT2JqZWN0XCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS53YXJuKFwiJEZpcmViYXNlT2JqZWN0IGhhcyBiZWVuIHJlbmFtZWQuIFVzZSAkZmlyZWJhc2VPYmplY3QgaW5zdGVhZC5cIiksYi5hcHBseShudWxsLGFyZ3VtZW50cyl9fV0pfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7YW5ndWxhci5tb2R1bGUoXCJmaXJlYmFzZVwiKS5mYWN0b3J5KFwiJGZpcmViYXNlXCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCIkZmlyZWJhc2UgaGFzIGJlZW4gcmVtb3ZlZC4gWW91IG1heSBpbnN0YW50aWF0ZSAkZmlyZWJhc2VBcnJheSBhbmQgJGZpcmViYXNlT2JqZWN0IGRpcmVjdGx5IG5vdy4gRm9yIHNpbXBsZSB3cml0ZSBvcGVyYXRpb25zLCBqdXN0IHVzZSB0aGUgRmlyZWJhc2UgcmVmIGRpcmVjdGx5LiBTZWUgdGhlIEFuZ3VsYXJGaXJlIDEuMC4wIGNoYW5nZWxvZyBmb3IgZGV0YWlsczogaHR0cHM6Ly93d3cuZmlyZWJhc2UuY29tL2RvY3Mvd2ViL2xpYnJhcmllcy9hbmd1bGFyL2NoYW5nZWxvZy5odG1sXCIpfX0pfSgpLEFycmF5LnByb3RvdHlwZS5pbmRleE9mfHwoQXJyYXkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oYSxiKXtpZih2b2lkIDA9PT10aGlzfHxudWxsPT09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiJ3RoaXMnIGlzIG51bGwgb3Igbm90IGRlZmluZWRcIik7dmFyIGM9dGhpcy5sZW5ndGg+Pj4wO2ZvcihiPStifHwwLE1hdGguYWJzKGIpPT09MS8wJiYoYj0wKSwwPmImJihiKz1jLDA+YiYmKGI9MCkpO2M+YjtiKyspaWYodGhpc1tiXT09PWEpcmV0dXJuIGI7cmV0dXJuLTF9KSxGdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIC0gd2hhdCBpcyB0cnlpbmcgdG8gYmUgYm91bmQgaXMgbm90IGNhbGxhYmxlXCIpO3ZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxjPXRoaXMsZD1mdW5jdGlvbigpe30sZT1mdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KHRoaXMgaW5zdGFuY2VvZiBkJiZhP3RoaXM6YSxiLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9O3JldHVybiBkLnByb3RvdHlwZT10aGlzLnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgZCxlfSksQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleHx8T2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSxcImZpbmRJbmRleFwiLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbihhKXtpZihudWxsPT10aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcnJheS5wcm90b3R5cGUuZmluZCBjYWxsZWQgb24gbnVsbCBvciB1bmRlZmluZWRcIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYSl0aHJvdyBuZXcgVHlwZUVycm9yKFwicHJlZGljYXRlIG11c3QgYmUgYSBmdW5jdGlvblwiKTtmb3IodmFyIGIsYz1PYmplY3QodGhpcyksZD1jLmxlbmd0aD4+PjAsZT1hcmd1bWVudHNbMV0sZj0wO2Q+ZjtmKyspaWYoZiBpbiBjJiYoYj1jW2ZdLGEuY2FsbChlLGIsZixjKSkpcmV0dXJuIGY7cmV0dXJuLTF9fSksXCJmdW5jdGlvblwiIT10eXBlb2YgT2JqZWN0LmNyZWF0ZSYmIWZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oKXt9O09iamVjdC5jcmVhdGU9ZnVuY3Rpb24oYil7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXRocm93IG5ldyBFcnJvcihcIlNlY29uZCBhcmd1bWVudCBub3Qgc3VwcG9ydGVkXCIpO2lmKG51bGw9PT1iKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzZXQgYSBudWxsIFtbUHJvdG90eXBlXV1cIik7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0XCIpO3JldHVybiBhLnByb3RvdHlwZT1iLG5ldyBhfX0oKSxPYmplY3Qua2V5c3x8KE9iamVjdC5rZXlzPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxiPSF7dG9TdHJpbmc6bnVsbH0ucHJvcGVydHlJc0VudW1lcmFibGUoXCJ0b1N0cmluZ1wiKSxjPVtcInRvU3RyaW5nXCIsXCJ0b0xvY2FsZVN0cmluZ1wiLFwidmFsdWVPZlwiLFwiaGFzT3duUHJvcGVydHlcIixcImlzUHJvdG90eXBlT2ZcIixcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsXCJjb25zdHJ1Y3RvclwiXSxkPWMubGVuZ3RoO3JldHVybiBmdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZSYmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGV8fG51bGw9PT1lKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0LmtleXMgY2FsbGVkIG9uIG5vbi1vYmplY3RcIik7dmFyIGYsZyxoPVtdO2ZvcihmIGluIGUpYS5jYWxsKGUsZikmJmgucHVzaChmKTtpZihiKWZvcihnPTA7ZD5nO2crKylhLmNhbGwoZSxjW2ddKSYmaC5wdXNoKGNbZ10pO3JldHVybiBofX0oKSksXCJmdW5jdGlvblwiIT10eXBlb2YgT2JqZWN0LmdldFByb3RvdHlwZU9mJiYoXCJvYmplY3RcIj09dHlwZW9mXCJ0ZXN0XCIuX19wcm90b19fP09iamVjdC5nZXRQcm90b3R5cGVPZj1mdW5jdGlvbihhKXtyZXR1cm4gYS5fX3Byb3RvX199Ok9iamVjdC5nZXRQcm90b3R5cGVPZj1mdW5jdGlvbihhKXtyZXR1cm4gYS5jb25zdHJ1Y3Rvci5wcm90b3R5cGV9KSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoYil7aWYoIWFuZ3VsYXIuaXNPYmplY3QoYikpcmV0dXJuIGI7dmFyIGM9YW5ndWxhci5pc0FycmF5KGIpP1tdOnt9O3JldHVybiBhbmd1bGFyLmZvckVhY2goYixmdW5jdGlvbihiLGQpeyhcInN0cmluZ1wiIT10eXBlb2YgZHx8XCIkXCIhPT1kLmNoYXJBdCgwKSkmJihjW2RdPWEoYikpfSksY31hbmd1bGFyLm1vZHVsZShcImZpcmViYXNlXCIpLmZhY3RvcnkoXCIkZmlyZWJhc2VDb25maWdcIixbXCIkZmlyZWJhc2VBcnJheVwiLFwiJGZpcmViYXNlT2JqZWN0XCIsXCIkaW5qZWN0b3JcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPWFuZ3VsYXIuZXh0ZW5kKHt9LGQpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlLm9iamVjdEZhY3RvcnkmJihlLm9iamVjdEZhY3Rvcnk9Yy5nZXQoZS5vYmplY3RGYWN0b3J5KSksXCJzdHJpbmdcIj09dHlwZW9mIGUuYXJyYXlGYWN0b3J5JiYoZS5hcnJheUZhY3Rvcnk9Yy5nZXQoZS5hcnJheUZhY3RvcnkpKSxhbmd1bGFyLmV4dGVuZCh7YXJyYXlGYWN0b3J5OmEsb2JqZWN0RmFjdG9yeTpifSxlKX19XSkuZmFjdG9yeShcIiRmaXJlYmFzZVV0aWxzXCIsW1wiJHFcIixcIiR0aW1lb3V0XCIsXCIkcm9vdFNjb3BlXCIsZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoYSl7ZnVuY3Rpb24gYyhhKXtlLnJlc29sdmUoYSl9ZnVuY3Rpb24gZChhKXtlLnJlamVjdChhKX1pZighYW5ndWxhci5pc0Z1bmN0aW9uKGEpKXRocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgcmVzb2x2ZXIgZnVuY3Rpb25cIik7dmFyIGU9Yi5kZWZlcigpO3JldHVybiBhKGMsZCksZS5wcm9taXNlfXZhciBmPXtiYXRjaDpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtmLmNvbXBpbGUoZnVuY3Rpb24oKXthLmFwcGx5KGIsYyl9KX19LGRlYm91bmNlOmZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIGUoKXtqJiYoaigpLGo9bnVsbCksaSYmRGF0ZS5ub3coKS1pPmQ/bHx8KGw9ITAsZi5jb21waWxlKGcpKTooaXx8KGk9RGF0ZS5ub3coKSksaj1mLndhaXQoZyxjKSl9ZnVuY3Rpb24gZygpe2o9bnVsbCxpPW51bGwsbD0hMSxhLmFwcGx5KGIsayl9ZnVuY3Rpb24gaCgpe2s9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLGUoKX12YXIgaSxqLGssbDtpZihcIm51bWJlclwiPT10eXBlb2YgYiYmKGQ9YyxjPWIsYj1udWxsKSxcIm51bWJlclwiIT10eXBlb2YgYyl0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHByb3ZpZGUgYSB2YWxpZCBpbnRlZ2VyIGZvciB3YWl0LiBUcnkgMCBmb3IgYSBkZWZhdWx0XCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGEpdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwcm92aWRlIGEgdmFsaWQgZnVuY3Rpb24gdG8gZGVib3VuY2VcIik7cmV0dXJuIGR8fChkPTEwKmN8fDEwMCksaC5ydW5uaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGk+MH0saH0sYXNzZXJ0VmFsaWRSZWY6ZnVuY3Rpb24oYSxiKXtpZighYW5ndWxhci5pc09iamVjdChhKXx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5yZWZ8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGEucmVmKCkudHJhbnNhY3Rpb24pdGhyb3cgbmV3IEVycm9yKGJ8fFwiSW52YWxpZCBGaXJlYmFzZSByZWZlcmVuY2VcIil9LGluaGVyaXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEucHJvdG90eXBlO3JldHVybiBhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxhLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hLGFuZ3VsYXIuZm9yRWFjaChPYmplY3Qua2V5cyhkKSxmdW5jdGlvbihiKXthLnByb3RvdHlwZVtiXT1kW2JdfSksYW5ndWxhci5pc09iamVjdChjKSYmYW5ndWxhci5leHRlbmQoYS5wcm90b3R5cGUsYyksYX0sZ2V0UHJvdG90eXBlTWV0aG9kczpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPXt9LGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHt9KSxmPWFuZ3VsYXIuaXNGdW5jdGlvbihhKSYmYW5ndWxhci5pc09iamVjdChhLnByb3RvdHlwZSk/YS5wcm90b3R5cGU6T2JqZWN0LmdldFByb3RvdHlwZU9mKGEpO2YmJmYhPT1lOyl7Zm9yKHZhciBnIGluIGYpZi5oYXNPd25Qcm9wZXJ0eShnKSYmIWQuaGFzT3duUHJvcGVydHkoZykmJihkW2ddPSEwLGIuY2FsbChjLGZbZ10sZyxmKSk7Zj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZil9fSxnZXRQdWJsaWNNZXRob2RzOmZ1bmN0aW9uKGEsYixjKXtmLmdldFByb3RvdHlwZU1ldGhvZHMoYSxmdW5jdGlvbihhLGQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGEmJlwiX1wiIT09ZC5jaGFyQXQoMCkmJmIuY2FsbChjLGEsZCl9KX0sZGVmZXI6Yi5kZWZlcixyZWplY3Q6Yi5yZWplY3QscmVzb2x2ZTpiLndoZW4sd2hlblVud3JhcHBlZDpmdW5jdGlvbihhLGIpe2EmJmYucmVzb2x2ZShhKS50aGVuKGZ1bmN0aW9uKGEpe2EmJmIoYSl9KX0scHJvbWlzZTphbmd1bGFyLmlzRnVuY3Rpb24oYik/YjplLG1ha2VOb2RlUmVzb2x2ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7bnVsbD09PWI/KGFyZ3VtZW50cy5sZW5ndGg+MiYmKGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSxhLnJlc29sdmUoYykpOmEucmVqZWN0KGIpfX0sd2FpdDpmdW5jdGlvbihhLGIpe3ZhciBkPWMoYSxifHwwKTtyZXR1cm4gZnVuY3Rpb24oKXtkJiYoYy5jYW5jZWwoZCksZD1udWxsKX19LGNvbXBpbGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGQuJGV2YWxBc3luYyhhfHxmdW5jdGlvbigpe30pfSxkZWVwQ29weTpmdW5jdGlvbihhKXtpZighYW5ndWxhci5pc09iamVjdChhKSlyZXR1cm4gYTt2YXIgYj1hbmd1bGFyLmlzQXJyYXkoYSk/YS5zbGljZSgpOmFuZ3VsYXIuZXh0ZW5kKHt9LGEpO2Zvcih2YXIgYyBpbiBiKWIuaGFzT3duUHJvcGVydHkoYykmJmFuZ3VsYXIuaXNPYmplY3QoYltjXSkmJihiW2NdPWYuZGVlcENvcHkoYltjXSkpO3JldHVybiBifSx0cmltS2V5czpmdW5jdGlvbihhLGIpe2YuZWFjaChhLGZ1bmN0aW9uKGMsZCl7Yi5oYXNPd25Qcm9wZXJ0eShkKXx8ZGVsZXRlIGFbZF19KX0sc2NvcGVEYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPXskaWQ6YS4kaWQsJHByaW9yaXR5OmEuJHByaW9yaXR5fSxjPSExO3JldHVybiBmLmVhY2goYSxmdW5jdGlvbihhLGQpe2M9ITAsYltkXT1mLmRlZXBDb3B5KGEpfSksIWMmJmEuaGFzT3duUHJvcGVydHkoXCIkdmFsdWVcIikmJihiLiR2YWx1ZT1hLiR2YWx1ZSksYn0sdXBkYXRlUmVjOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi52YWwoKSxkPWFuZ3VsYXIuZXh0ZW5kKHt9LGEpO3JldHVybiBhbmd1bGFyLmlzT2JqZWN0KGMpP2RlbGV0ZSBhLiR2YWx1ZTooYS4kdmFsdWU9YyxjPXt9KSxmLnRyaW1LZXlzKGEsYyksYW5ndWxhci5leHRlbmQoYSxjKSxhLiRwcmlvcml0eT1iLmdldFByaW9yaXR5KCksIWFuZ3VsYXIuZXF1YWxzKGQsYSl8fGQuJHZhbHVlIT09YS4kdmFsdWV8fGQuJHByaW9yaXR5IT09YS4kcHJpb3JpdHl9LGFwcGx5RGVmYXVsdHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYW5ndWxhci5pc09iamVjdChiKSYmYW5ndWxhci5mb3JFYWNoKGIsZnVuY3Rpb24oYixjKXthLmhhc093blByb3BlcnR5KGMpfHwoYVtjXT1iKX0pLGF9LGRhdGFLZXlzOmZ1bmN0aW9uKGEpe3ZhciBiPVtdO3JldHVybiBmLmVhY2goYSxmdW5jdGlvbihhLGMpe2IucHVzaChjKX0pLGJ9LGVhY2g6ZnVuY3Rpb24oYSxiLGMpe2lmKGFuZ3VsYXIuaXNPYmplY3QoYSkpe2Zvcih2YXIgZCBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoZCkpe3ZhciBlPWQuY2hhckF0KDApO1wiX1wiIT09ZSYmXCIkXCIhPT1lJiZcIi5cIiE9PWUmJmIuY2FsbChjLGFbZF0sZCxhKX19ZWxzZSBpZihhbmd1bGFyLmlzQXJyYXkoYSkpZm9yKHZhciBmPTAsZz1hLmxlbmd0aDtnPmY7ZisrKWIuY2FsbChjLGFbZl0sZixhKTtyZXR1cm4gYX0sZ2V0S2V5OmZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGEua2V5P2Eua2V5KCk6YS5uYW1lKCl9LHRvSlNPTjpmdW5jdGlvbihiKXt2YXIgYztyZXR1cm4gYW5ndWxhci5pc09iamVjdChiKXx8KGI9eyR2YWx1ZTpifSksYW5ndWxhci5pc0Z1bmN0aW9uKGIudG9KU09OKT9jPWIudG9KU09OKCk6KGM9e30sZi5lYWNoKGIsZnVuY3Rpb24oYixkKXtjW2RdPWEoYil9KSksYW5ndWxhci5pc0RlZmluZWQoYi4kdmFsdWUpJiYwPT09T2JqZWN0LmtleXMoYykubGVuZ3RoJiZudWxsIT09Yi4kdmFsdWUmJihjW1wiLnZhbHVlXCJdPWIuJHZhbHVlKSxhbmd1bGFyLmlzRGVmaW5lZChiLiRwcmlvcml0eSkmJk9iamVjdC5rZXlzKGMpLmxlbmd0aD4wJiZudWxsIT09Yi4kcHJpb3JpdHkmJihjW1wiLnByaW9yaXR5XCJdPWIuJHByaW9yaXR5KSxhbmd1bGFyLmZvckVhY2goYyxmdW5jdGlvbihhLGIpe2lmKGIubWF0Y2goL1suJFxcW1xcXSNcXC9dLykmJlwiLnZhbHVlXCIhPT1iJiZcIi5wcmlvcml0eVwiIT09Yil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGtleSBcIitiK1wiIChjYW5ub3QgY29udGFpbiAuJFtdIylcIik7aWYoYW5ndWxhci5pc1VuZGVmaW5lZChhKSl0aHJvdyBuZXcgRXJyb3IoXCJLZXkgXCIrYitcIiB3YXMgdW5kZWZpbmVkLiBDYW5ub3QgcGFzcyB1bmRlZmluZWQgaW4gSlNPTi4gVXNlIG51bGwgaW5zdGVhZC5cIil9KSxjfSxkb1NldDpmdW5jdGlvbihhLGIpe3ZhciBjPWYuZGVmZXIoKTtpZihhbmd1bGFyLmlzRnVuY3Rpb24oYS5zZXQpfHwhYW5ndWxhci5pc09iamVjdChiKSlhLnNldChiLGYubWFrZU5vZGVSZXNvbHZlcihjKSk7ZWxzZXt2YXIgZD1hbmd1bGFyLmV4dGVuZCh7fSxiKTthLm9uY2UoXCJ2YWx1ZVwiLGZ1bmN0aW9uKGIpe2IuZm9yRWFjaChmdW5jdGlvbihhKXtkLmhhc093blByb3BlcnR5KGYuZ2V0S2V5KGEpKXx8KGRbZi5nZXRLZXkoYSldPW51bGwpfSksYS5yZWYoKS51cGRhdGUoZCxmLm1ha2VOb2RlUmVzb2x2ZXIoYykpfSxmdW5jdGlvbihhKXtjLnJlamVjdChhKX0pfXJldHVybiBjLnByb21pc2V9LGRvUmVtb3ZlOmZ1bmN0aW9uKGEpe3ZhciBiPWYuZGVmZXIoKTtyZXR1cm4gYW5ndWxhci5pc0Z1bmN0aW9uKGEucmVtb3ZlKT9hLnJlbW92ZShmLm1ha2VOb2RlUmVzb2x2ZXIoYikpOmEub25jZShcInZhbHVlXCIsZnVuY3Rpb24oYyl7dmFyIGQ9W107Yy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBjPWYuZGVmZXIoKTtkLnB1c2goYy5wcm9taXNlKSxhLnJlZigpLnJlbW92ZShmLm1ha2VOb2RlUmVzb2x2ZXIoYikpfSksZi5hbGxQcm9taXNlcyhkKS50aGVuKGZ1bmN0aW9uKCl7Yi5yZXNvbHZlKGEpfSxmdW5jdGlvbihhKXtiLnJlamVjdChhKX0pfSxmdW5jdGlvbihhKXtiLnJlamVjdChhKX0pLGIucHJvbWlzZX0sVkVSU0lPTjpcIjEuMS4xXCIsYWxsUHJvbWlzZXM6Yi5hbGwuYmluZChiKX07cmV0dXJuIGZ9XSl9KCk7IiwiLypcbiBBbmd1bGFySlMgdjEuMy4xNVxuIChjKSAyMDEwLTIwMTQgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gTGljZW5zZTogTUlUXG4qL1xuKGZ1bmN0aW9uKE4sZixXKXsndXNlIHN0cmljdCc7Zi5tb2R1bGUoXCJuZ0FuaW1hdGVcIixbXCJuZ1wiXSkuZGlyZWN0aXZlKFwibmdBbmltYXRlQ2hpbGRyZW5cIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihYLEMsZyl7Zz1nLm5nQW5pbWF0ZUNoaWxkcmVuO2YuaXNTdHJpbmcoZykmJjA9PT1nLmxlbmd0aD9DLmRhdGEoXCIkJG5nQW5pbWF0ZUNoaWxkcmVuXCIsITApOlguJHdhdGNoKGcsZnVuY3Rpb24oZil7Qy5kYXRhKFwiJCRuZ0FuaW1hdGVDaGlsZHJlblwiLCEhZil9KX19KS5mYWN0b3J5KFwiJCRhbmltYXRlUmVmbG93XCIsW1wiJCRyQUZcIixcIiRkb2N1bWVudFwiLGZ1bmN0aW9uKGYsQyl7cmV0dXJuIGZ1bmN0aW9uKGcpe3JldHVybiBmKGZ1bmN0aW9uKCl7ZygpfSl9fV0pLmNvbmZpZyhbXCIkcHJvdmlkZVwiLFwiJGFuaW1hdGVQcm92aWRlclwiLGZ1bmN0aW9uKFgsQyl7ZnVuY3Rpb24gZyhmKXtmb3IodmFyIG49MDtuPGYubGVuZ3RoO24rKyl7dmFyIGc9ZltuXTtpZigxPT1nLm5vZGVUeXBlKXJldHVybiBnfX1cbmZ1bmN0aW9uIGJhKGYsbil7cmV0dXJuIGcoZik9PWcobil9dmFyIHQ9Zi5ub29wLG49Zi5mb3JFYWNoLGRhPUMuJCRzZWxlY3RvcnMsYWE9Zi5pc0FycmF5LGVhPWYuaXNTdHJpbmcsZ2E9Zi5pc09iamVjdCxyPXtydW5uaW5nOiEwfSx1O1guZGVjb3JhdG9yKFwiJGFuaW1hdGVcIixbXCIkZGVsZWdhdGVcIixcIiQkcVwiLFwiJGluamVjdG9yXCIsXCIkc25pZmZlclwiLFwiJHJvb3RFbGVtZW50XCIsXCIkJGFzeW5jQ2FsbGJhY2tcIixcIiRyb290U2NvcGVcIixcIiRkb2N1bWVudFwiLFwiJHRlbXBsYXRlUmVxdWVzdFwiLFwiJCRqcUxpdGVcIixmdW5jdGlvbihPLE4sTSxZLHksSCxQLFcsWixRKXtmdW5jdGlvbiBSKGEsYyl7dmFyIGI9YS5kYXRhKFwiJCRuZ0FuaW1hdGVTdGF0ZVwiKXx8e307YyYmKGIucnVubmluZz0hMCxiLnN0cnVjdHVyYWw9ITAsYS5kYXRhKFwiJCRuZ0FuaW1hdGVTdGF0ZVwiLGIpKTtyZXR1cm4gYi5kaXNhYmxlZHx8Yi5ydW5uaW5nJiZiLnN0cnVjdHVyYWx9ZnVuY3Rpb24gRChhKXt2YXIgYyxiPU4uZGVmZXIoKTtcbmIucHJvbWlzZS4kJGNhbmNlbEZuPWZ1bmN0aW9uKCl7YyYmYygpfTtQLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe2M9YShmdW5jdGlvbigpe2IucmVzb2x2ZSgpfSl9KTtyZXR1cm4gYi5wcm9taXNlfWZ1bmN0aW9uIEkoYSl7aWYoZ2EoYSkpcmV0dXJuIGEudGVtcENsYXNzZXMmJmVhKGEudGVtcENsYXNzZXMpJiYoYS50ZW1wQ2xhc3Nlcz1hLnRlbXBDbGFzc2VzLnNwbGl0KC9cXHMrLykpLGF9ZnVuY3Rpb24gUyhhLGMsYil7Yj1ifHx7fTt2YXIgZD17fTtuKGIsZnVuY3Rpb24oZSxhKXtuKGEuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe2RbYV09ZX0pfSk7dmFyIGg9T2JqZWN0LmNyZWF0ZShudWxsKTtuKChhLmF0dHIoXCJjbGFzc1wiKXx8XCJcIikuc3BsaXQoL1xccysvKSxmdW5jdGlvbihlKXtoW2VdPSEwfSk7dmFyIGY9W10sbD1bXTtuKGMmJmMuY2xhc3Nlc3x8W10sZnVuY3Rpb24oZSxhKXt2YXIgYj1oW2FdLGM9ZFthXXx8e307ITE9PT1lPyhifHxcImFkZENsYXNzXCI9PWMuZXZlbnQpJiZcbmwucHVzaChhKTohMD09PWUmJihiJiZcInJlbW92ZUNsYXNzXCIhPWMuZXZlbnR8fGYucHVzaChhKSl9KTtyZXR1cm4gMDxmLmxlbmd0aCtsLmxlbmd0aCYmW2Yuam9pbihcIiBcIiksbC5qb2luKFwiIFwiKV19ZnVuY3Rpb24gVChhKXtpZihhKXt2YXIgYz1bXSxiPXt9O2E9YS5zdWJzdHIoMSkuc3BsaXQoXCIuXCIpOyhZLnRyYW5zaXRpb25zfHxZLmFuaW1hdGlvbnMpJiZjLnB1c2goTS5nZXQoZGFbXCJcIl0pKTtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGY9YVtkXSxrPWRhW2ZdO2smJiFiW2ZdJiYoYy5wdXNoKE0uZ2V0KGspKSxiW2ZdPSEwKX1yZXR1cm4gY319ZnVuY3Rpb24gVShhLGMsYixkKXtmdW5jdGlvbiBoKGUsYSl7dmFyIGI9ZVthXSxjPWVbXCJiZWZvcmVcIithLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpXTtpZihifHxjKXJldHVyblwibGVhdmVcIj09YSYmKGM9YixiPW51bGwpLHUucHVzaCh7ZXZlbnQ6YSxmbjpifSksSi5wdXNoKHtldmVudDphLGZuOmN9KSxcbiEwfWZ1bmN0aW9uIGsoYyxsLHcpe3ZhciBFPVtdO24oYyxmdW5jdGlvbihhKXthLmZuJiZFLnB1c2goYSl9KTt2YXIgbT0wO24oRSxmdW5jdGlvbihjLGYpe3ZhciBwPWZ1bmN0aW9uKCl7YTp7aWYobCl7KGxbZl18fHQpKCk7aWYoKyttPEUubGVuZ3RoKWJyZWFrIGE7bD1udWxsfXcoKX19O3N3aXRjaChjLmV2ZW50KXtjYXNlIFwic2V0Q2xhc3NcIjpsLnB1c2goYy5mbihhLGUsQSxwLGQpKTticmVhaztjYXNlIFwiYW5pbWF0ZVwiOmwucHVzaChjLmZuKGEsYixkLmZyb20sZC50byxwKSk7YnJlYWs7Y2FzZSBcImFkZENsYXNzXCI6bC5wdXNoKGMuZm4oYSxlfHxiLHAsZCkpO2JyZWFrO2Nhc2UgXCJyZW1vdmVDbGFzc1wiOmwucHVzaChjLmZuKGEsQXx8YixwLGQpKTticmVhaztkZWZhdWx0OmwucHVzaChjLmZuKGEscCxkKSl9fSk7bCYmMD09PWwubGVuZ3RoJiZ3KCl9dmFyIGw9YVswXTtpZihsKXtkJiYoZC50bz1kLnRvfHx7fSxkLmZyb209ZC5mcm9tfHx7fSk7dmFyIGUsQTthYShiKSYmKGU9XG5iWzBdLEE9YlsxXSxlP0E/Yj1lK1wiIFwiK0E6KGI9ZSxjPVwiYWRkQ2xhc3NcIik6KGI9QSxjPVwicmVtb3ZlQ2xhc3NcIikpO3ZhciB3PVwic2V0Q2xhc3NcIj09YyxFPXd8fFwiYWRkQ2xhc3NcIj09Y3x8XCJyZW1vdmVDbGFzc1wiPT1jfHxcImFuaW1hdGVcIj09YyxwPWEuYXR0cihcImNsYXNzXCIpK1wiIFwiK2I7aWYoeChwKSl7dmFyIGNhPXQsbT1bXSxKPVtdLGc9dCxzPVtdLHU9W10scD0oXCIgXCIrcCkucmVwbGFjZSgvXFxzKy9nLFwiLlwiKTtuKFQocCksZnVuY3Rpb24oYSl7IWgoYSxjKSYmdyYmKGgoYSxcImFkZENsYXNzXCIpLGgoYSxcInJlbW92ZUNsYXNzXCIpKX0pO3JldHVybntub2RlOmwsZXZlbnQ6YyxjbGFzc05hbWU6Yixpc0NsYXNzQmFzZWQ6RSxpc1NldENsYXNzT3BlcmF0aW9uOncsYXBwbHlTdHlsZXM6ZnVuY3Rpb24oKXtkJiZhLmNzcyhmLmV4dGVuZChkLmZyb218fHt9LGQudG98fHt9KSl9LGJlZm9yZTpmdW5jdGlvbihhKXtjYT1hO2soSixtLGZ1bmN0aW9uKCl7Y2E9dDthKCl9KX0sYWZ0ZXI6ZnVuY3Rpb24oYSl7Zz1cbmE7ayh1LHMsZnVuY3Rpb24oKXtnPXQ7YSgpfSl9LGNhbmNlbDpmdW5jdGlvbigpe20mJihuKG0sZnVuY3Rpb24oYSl7KGF8fHQpKCEwKX0pLGNhKCEwKSk7cyYmKG4ocyxmdW5jdGlvbihhKXsoYXx8dCkoITApfSksZyghMCkpfX19fX1mdW5jdGlvbiBHKGEsYyxiLGQsaCxrLGwsZSl7ZnVuY3Rpb24gQShlKXt2YXIgbD1cIiRhbmltYXRlOlwiK2U7SiYmSltsXSYmMDxKW2xdLmxlbmd0aCYmSChmdW5jdGlvbigpe2IudHJpZ2dlckhhbmRsZXIobCx7ZXZlbnQ6YSxjbGFzc05hbWU6Y30pfSl9ZnVuY3Rpb24gdygpe0EoXCJiZWZvcmVcIil9ZnVuY3Rpb24gRSgpe0EoXCJhZnRlclwiKX1mdW5jdGlvbiBwKCl7cC5oYXNCZWVuUnVufHwocC5oYXNCZWVuUnVuPSEwLGsoKSl9ZnVuY3Rpb24gZygpe2lmKCFnLmhhc0JlZW5SdW4pe20mJm0uYXBwbHlTdHlsZXMoKTtnLmhhc0JlZW5SdW49ITA7bCYmbC50ZW1wQ2xhc3NlcyYmbihsLnRlbXBDbGFzc2VzLGZ1bmN0aW9uKGEpe3UucmVtb3ZlQ2xhc3MoYixcbmEpfSk7dmFyIHc9Yi5kYXRhKFwiJCRuZ0FuaW1hdGVTdGF0ZVwiKTt3JiYobSYmbS5pc0NsYXNzQmFzZWQ/QihiLGMpOihIKGZ1bmN0aW9uKCl7dmFyIGU9Yi5kYXRhKFwiJCRuZ0FuaW1hdGVTdGF0ZVwiKXx8e307ZmE9PWUuaW5kZXgmJkIoYixjLGEpfSksYi5kYXRhKFwiJCRuZ0FuaW1hdGVTdGF0ZVwiLHcpKSk7QShcImNsb3NlXCIpO2UoKX19dmFyIG09VShiLGEsYyxsKTtpZighbSlyZXR1cm4gcCgpLHcoKSxFKCksZygpLHQ7YT1tLmV2ZW50O2M9bS5jbGFzc05hbWU7dmFyIEo9Zi5lbGVtZW50Ll9kYXRhKG0ubm9kZSksSj1KJiZKLmV2ZW50cztkfHwoZD1oP2gucGFyZW50KCk6Yi5wYXJlbnQoKSk7aWYoeihiLGQpKXJldHVybiBwKCksdygpLEUoKSxnKCksdDtkPWIuZGF0YShcIiQkbmdBbmltYXRlU3RhdGVcIil8fHt9O3ZhciBMPWQuYWN0aXZlfHx7fSxzPWQudG90YWxBY3RpdmV8fDAscT1kLmxhc3Q7aD0hMTtpZigwPHMpe3M9W107aWYobS5pc0NsYXNzQmFzZWQpXCJzZXRDbGFzc1wiPT1xLmV2ZW50P1xuKHMucHVzaChxKSxCKGIsYykpOkxbY10mJih2PUxbY10sdi5ldmVudD09YT9oPSEwOihzLnB1c2godiksQihiLGMpKSk7ZWxzZSBpZihcImxlYXZlXCI9PWEmJkxbXCJuZy1sZWF2ZVwiXSloPSEwO2Vsc2V7Zm9yKHZhciB2IGluIEwpcy5wdXNoKExbdl0pO2Q9e307QihiLCEwKX0wPHMubGVuZ3RoJiZuKHMsZnVuY3Rpb24oYSl7YS5jYW5jZWwoKX0pfSFtLmlzQ2xhc3NCYXNlZHx8bS5pc1NldENsYXNzT3BlcmF0aW9ufHxcImFuaW1hdGVcIj09YXx8aHx8KGg9XCJhZGRDbGFzc1wiPT1hPT1iLmhhc0NsYXNzKGMpKTtpZihoKXJldHVybiBwKCksdygpLEUoKSxBKFwiY2xvc2VcIiksZSgpLHQ7TD1kLmFjdGl2ZXx8e307cz1kLnRvdGFsQWN0aXZlfHwwO2lmKFwibGVhdmVcIj09YSliLm9uZShcIiRkZXN0cm95XCIsZnVuY3Rpb24oYSl7YT1mLmVsZW1lbnQodGhpcyk7dmFyIGU9YS5kYXRhKFwiJCRuZ0FuaW1hdGVTdGF0ZVwiKTtlJiYoZT1lLmFjdGl2ZVtcIm5nLWxlYXZlXCJdKSYmKGUuY2FuY2VsKCksQihhLFwibmctbGVhdmVcIikpfSk7XG51LmFkZENsYXNzKGIsXCJuZy1hbmltYXRlXCIpO2wmJmwudGVtcENsYXNzZXMmJm4obC50ZW1wQ2xhc3NlcyxmdW5jdGlvbihhKXt1LmFkZENsYXNzKGIsYSl9KTt2YXIgZmE9SysrO3MrKztMW2NdPW07Yi5kYXRhKFwiJCRuZ0FuaW1hdGVTdGF0ZVwiLHtsYXN0Om0sYWN0aXZlOkwsaW5kZXg6ZmEsdG90YWxBY3RpdmU6c30pO3coKTttLmJlZm9yZShmdW5jdGlvbihlKXt2YXIgbD1iLmRhdGEoXCIkJG5nQW5pbWF0ZVN0YXRlXCIpO2U9ZXx8IWx8fCFsLmFjdGl2ZVtjXXx8bS5pc0NsYXNzQmFzZWQmJmwuYWN0aXZlW2NdLmV2ZW50IT1hO3AoKTshMD09PWU/ZygpOihFKCksbS5hZnRlcihnKSl9KTtyZXR1cm4gbS5jYW5jZWx9ZnVuY3Rpb24gcShhKXtpZihhPWcoYSkpYT1mLmlzRnVuY3Rpb24oYS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKT9hLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJuZy1hbmltYXRlXCIpOmEucXVlcnlTZWxlY3RvckFsbChcIi5uZy1hbmltYXRlXCIpLG4oYSxmdW5jdGlvbihhKXthPVxuZi5lbGVtZW50KGEpOyhhPWEuZGF0YShcIiQkbmdBbmltYXRlU3RhdGVcIikpJiZhLmFjdGl2ZSYmbihhLmFjdGl2ZSxmdW5jdGlvbihhKXthLmNhbmNlbCgpfSl9KX1mdW5jdGlvbiBCKGEsYyl7aWYoYmEoYSx5KSlyLmRpc2FibGVkfHwoci5ydW5uaW5nPSExLHIuc3RydWN0dXJhbD0hMSk7ZWxzZSBpZihjKXt2YXIgYj1hLmRhdGEoXCIkJG5nQW5pbWF0ZVN0YXRlXCIpfHx7fSxkPSEwPT09YzshZCYmYi5hY3RpdmUmJmIuYWN0aXZlW2NdJiYoYi50b3RhbEFjdGl2ZS0tLGRlbGV0ZSBiLmFjdGl2ZVtjXSk7aWYoZHx8IWIudG90YWxBY3RpdmUpdS5yZW1vdmVDbGFzcyhhLFwibmctYW5pbWF0ZVwiKSxhLnJlbW92ZURhdGEoXCIkJG5nQW5pbWF0ZVN0YXRlXCIpfX1mdW5jdGlvbiB6KGEsYyl7aWYoci5kaXNhYmxlZClyZXR1cm4hMDtpZihiYShhLHkpKXJldHVybiByLnJ1bm5pbmc7dmFyIGIsZCxnO2Rve2lmKDA9PT1jLmxlbmd0aClicmVhazt2YXIgaz1iYShjLHkpLGw9az9yOmMuZGF0YShcIiQkbmdBbmltYXRlU3RhdGVcIil8fFxue307aWYobC5kaXNhYmxlZClyZXR1cm4hMDtrJiYoZz0hMCk7ITEhPT1iJiYoaz1jLmRhdGEoXCIkJG5nQW5pbWF0ZUNoaWxkcmVuXCIpLGYuaXNEZWZpbmVkKGspJiYoYj1rKSk7ZD1kfHxsLnJ1bm5pbmd8fGwubGFzdCYmIWwubGFzdC5pc0NsYXNzQmFzZWR9d2hpbGUoYz1jLnBhcmVudCgpKTtyZXR1cm4hZ3x8IWImJmR9dT1RO3kuZGF0YShcIiQkbmdBbmltYXRlU3RhdGVcIixyKTt2YXIgJD1QLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiBaLnRvdGFsUGVuZGluZ1JlcXVlc3RzfSxmdW5jdGlvbihhLGMpezA9PT1hJiYoJCgpLFAuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7UC4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXtyLnJ1bm5pbmc9ITF9KX0pKX0pLEs9MCxWPUMuY2xhc3NOYW1lRmlsdGVyKCkseD1WP2Z1bmN0aW9uKGEpe3JldHVybiBWLnRlc3QoYSl9OmZ1bmN0aW9uKCl7cmV0dXJuITB9O3JldHVybnthbmltYXRlOmZ1bmN0aW9uKGEsYyxiLGQsaCl7ZD1kfHxcIm5nLWlubGluZS1hbmltYXRlXCI7XG5oPUkoaCl8fHt9O2guZnJvbT1iP2M6bnVsbDtoLnRvPWI/YjpjO3JldHVybiBEKGZ1bmN0aW9uKGIpe3JldHVybiBHKFwiYW5pbWF0ZVwiLGQsZi5lbGVtZW50KGcoYSkpLG51bGwsbnVsbCx0LGgsYil9KX0sZW50ZXI6ZnVuY3Rpb24oYSxjLGIsZCl7ZD1JKGQpO2E9Zi5lbGVtZW50KGEpO2M9YyYmZi5lbGVtZW50KGMpO2I9YiYmZi5lbGVtZW50KGIpO1IoYSwhMCk7Ty5lbnRlcihhLGMsYik7cmV0dXJuIEQoZnVuY3Rpb24oaCl7cmV0dXJuIEcoXCJlbnRlclwiLFwibmctZW50ZXJcIixmLmVsZW1lbnQoZyhhKSksYyxiLHQsZCxoKX0pfSxsZWF2ZTpmdW5jdGlvbihhLGMpe2M9SShjKTthPWYuZWxlbWVudChhKTtxKGEpO1IoYSwhMCk7cmV0dXJuIEQoZnVuY3Rpb24oYil7cmV0dXJuIEcoXCJsZWF2ZVwiLFwibmctbGVhdmVcIixmLmVsZW1lbnQoZyhhKSksbnVsbCxudWxsLGZ1bmN0aW9uKCl7Ty5sZWF2ZShhKX0sYyxiKX0pfSxtb3ZlOmZ1bmN0aW9uKGEsYyxiLGQpe2Q9SShkKTthPWYuZWxlbWVudChhKTtcbmM9YyYmZi5lbGVtZW50KGMpO2I9YiYmZi5lbGVtZW50KGIpO3EoYSk7UihhLCEwKTtPLm1vdmUoYSxjLGIpO3JldHVybiBEKGZ1bmN0aW9uKGgpe3JldHVybiBHKFwibW92ZVwiLFwibmctbW92ZVwiLGYuZWxlbWVudChnKGEpKSxjLGIsdCxkLGgpfSl9LGFkZENsYXNzOmZ1bmN0aW9uKGEsYyxiKXtyZXR1cm4gdGhpcy5zZXRDbGFzcyhhLGMsW10sYil9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEsYyxiKXtyZXR1cm4gdGhpcy5zZXRDbGFzcyhhLFtdLGMsYil9LHNldENsYXNzOmZ1bmN0aW9uKGEsYyxiLGQpe2Q9SShkKTthPWYuZWxlbWVudChhKTthPWYuZWxlbWVudChnKGEpKTtpZihSKGEpKXJldHVybiBPLiQkc2V0Q2xhc3NJbW1lZGlhdGVseShhLGMsYixkKTt2YXIgaCxrPWEuZGF0YShcIiQkYW5pbWF0ZUNsYXNzZXNcIiksbD0hIWs7a3x8KGs9e2NsYXNzZXM6e319KTtoPWsuY2xhc3NlcztjPWFhKGMpP2M6Yy5zcGxpdChcIiBcIik7bihjLGZ1bmN0aW9uKGEpe2EmJmEubGVuZ3RoJiYoaFthXT1cbiEwKX0pO2I9YWEoYik/YjpiLnNwbGl0KFwiIFwiKTtuKGIsZnVuY3Rpb24oYSl7YSYmYS5sZW5ndGgmJihoW2FdPSExKX0pO2lmKGwpcmV0dXJuIGQmJmsub3B0aW9ucyYmKGsub3B0aW9ucz1mLmV4dGVuZChrLm9wdGlvbnN8fHt9LGQpKSxrLnByb21pc2U7YS5kYXRhKFwiJCRhbmltYXRlQ2xhc3Nlc1wiLGs9e2NsYXNzZXM6aCxvcHRpb25zOmR9KTtyZXR1cm4gay5wcm9taXNlPUQoZnVuY3Rpb24oZSl7dmFyIGw9YS5wYXJlbnQoKSxiPWcoYSksYz1iLnBhcmVudE5vZGU7aWYoIWN8fGMuJCROR19SRU1PVkVEfHxiLiQkTkdfUkVNT1ZFRCllKCk7ZWxzZXtiPWEuZGF0YShcIiQkYW5pbWF0ZUNsYXNzZXNcIik7YS5yZW1vdmVEYXRhKFwiJCRhbmltYXRlQ2xhc3Nlc1wiKTt2YXIgYz1hLmRhdGEoXCIkJG5nQW5pbWF0ZVN0YXRlXCIpfHx7fSxkPVMoYSxiLGMuYWN0aXZlKTtyZXR1cm4gZD9HKFwic2V0Q2xhc3NcIixkLGEsbCxudWxsLGZ1bmN0aW9uKCl7ZFswXSYmTy4kJGFkZENsYXNzSW1tZWRpYXRlbHkoYSxcbmRbMF0pO2RbMV0mJk8uJCRyZW1vdmVDbGFzc0ltbWVkaWF0ZWx5KGEsZFsxXSl9LGIub3B0aW9ucyxlKTplKCl9fSl9LGNhbmNlbDpmdW5jdGlvbihhKXthLiQkY2FuY2VsRm4oKX0sZW5hYmxlZDpmdW5jdGlvbihhLGMpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDI6aWYoYSlCKGMpO2Vsc2V7dmFyIGI9Yy5kYXRhKFwiJCRuZ0FuaW1hdGVTdGF0ZVwiKXx8e307Yi5kaXNhYmxlZD0hMDtjLmRhdGEoXCIkJG5nQW5pbWF0ZVN0YXRlXCIsYil9YnJlYWs7Y2FzZSAxOnIuZGlzYWJsZWQ9IWE7YnJlYWs7ZGVmYXVsdDphPSFyLmRpc2FibGVkfXJldHVybiEhYX19fV0pO0MucmVnaXN0ZXIoXCJcIixbXCIkd2luZG93XCIsXCIkc25pZmZlclwiLFwiJHRpbWVvdXRcIixcIiQkYW5pbWF0ZVJlZmxvd1wiLGZ1bmN0aW9uKHIsQyxNLFkpe2Z1bmN0aW9uIHkoKXtifHwoYj1ZKGZ1bmN0aW9uKCl7Yz1bXTtiPW51bGw7eD17fX0pKX1mdW5jdGlvbiBIKGEsZSl7YiYmYigpO2MucHVzaChlKTtiPVkoZnVuY3Rpb24oKXtuKGMsXG5mdW5jdGlvbihhKXthKCl9KTtjPVtdO2I9bnVsbDt4PXt9fSl9ZnVuY3Rpb24gUChhLGUpe3ZhciBiPWcoYSk7YT1mLmVsZW1lbnQoYik7ay5wdXNoKGEpO2I9RGF0ZS5ub3coKStlO2I8PWh8fChNLmNhbmNlbChkKSxoPWIsZD1NKGZ1bmN0aW9uKCl7WChrKTtrPVtdfSxlLCExKSl9ZnVuY3Rpb24gWChhKXtuKGEsZnVuY3Rpb24oYSl7KGE9YS5kYXRhKFwiJCRuZ0FuaW1hdGVDU1MzRGF0YVwiKSkmJm4oYS5jbG9zZUFuaW1hdGlvbkZucyxmdW5jdGlvbihhKXthKCl9KX0pfWZ1bmN0aW9uIFooYSxlKXt2YXIgYj1lP3hbZV06bnVsbDtpZighYil7dmFyIGM9MCxkPTAsZj0wLGc9MDtuKGEsZnVuY3Rpb24oYSl7aWYoMT09YS5ub2RlVHlwZSl7YT1yLmdldENvbXB1dGVkU3R5bGUoYSl8fHt9O2M9TWF0aC5tYXgoUShhW3orXCJEdXJhdGlvblwiXSksYyk7ZD1NYXRoLm1heChRKGFbeitcIkRlbGF5XCJdKSxkKTtnPU1hdGgubWF4KFEoYVtLK1wiRGVsYXlcIl0pLGcpO3ZhciBlPVEoYVtLK1wiRHVyYXRpb25cIl0pO1xuMDxlJiYoZSo9cGFyc2VJbnQoYVtLK1wiSXRlcmF0aW9uQ291bnRcIl0sMTApfHwxKTtmPU1hdGgubWF4KGUsZil9fSk7Yj17dG90YWw6MCx0cmFuc2l0aW9uRGVsYXk6ZCx0cmFuc2l0aW9uRHVyYXRpb246YyxhbmltYXRpb25EZWxheTpnLGFuaW1hdGlvbkR1cmF0aW9uOmZ9O2UmJih4W2VdPWIpfXJldHVybiBifWZ1bmN0aW9uIFEoYSl7dmFyIGU9MDthPWVhKGEpP2Euc3BsaXQoL1xccyosXFxzKi8pOltdO24oYSxmdW5jdGlvbihhKXtlPU1hdGgubWF4KHBhcnNlRmxvYXQoYSl8fDAsZSl9KTtyZXR1cm4gZX1mdW5jdGlvbiBSKGIsZSxjLGQpe2I9MDw9W1wibmctZW50ZXJcIixcIm5nLWxlYXZlXCIsXCJuZy1tb3ZlXCJdLmluZGV4T2YoYyk7dmFyIGYscD1lLnBhcmVudCgpLGg9cC5kYXRhKFwiJCRuZ0FuaW1hdGVLZXlcIik7aHx8KHAuZGF0YShcIiQkbmdBbmltYXRlS2V5XCIsKythKSxoPWEpO2Y9aCtcIi1cIitnKGUpLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO3ZhciBwPWYrXCIgXCIrYyxoPXhbcF0/Kyt4W3BdLnRvdGFsOlxuMCxtPXt9O2lmKDA8aCl7dmFyIG49YytcIi1zdGFnZ2VyXCIsbT1mK1wiIFwiK247KGY9IXhbbV0pJiZ1LmFkZENsYXNzKGUsbik7bT1aKGUsbSk7ZiYmdS5yZW1vdmVDbGFzcyhlLG4pfXUuYWRkQ2xhc3MoZSxjKTt2YXIgbj1lLmRhdGEoXCIkJG5nQW5pbWF0ZUNTUzNEYXRhXCIpfHx7fSxrPVooZSxwKTtmPWsudHJhbnNpdGlvbkR1cmF0aW9uO2s9ay5hbmltYXRpb25EdXJhdGlvbjtpZihiJiYwPT09ZiYmMD09PWspcmV0dXJuIHUucmVtb3ZlQ2xhc3MoZSxjKSwhMTtjPWR8fGImJjA8ZjtiPTA8ayYmMDxtLmFuaW1hdGlvbkRlbGF5JiYwPT09bS5hbmltYXRpb25EdXJhdGlvbjtlLmRhdGEoXCIkJG5nQW5pbWF0ZUNTUzNEYXRhXCIse3N0YWdnZXI6bSxjYWNoZUtleTpwLHJ1bm5pbmc6bi5ydW5uaW5nfHwwLGl0ZW1JbmRleDpoLGJsb2NrVHJhbnNpdGlvbjpjLGNsb3NlQW5pbWF0aW9uRm5zOm4uY2xvc2VBbmltYXRpb25GbnN8fFtdfSk7cD1nKGUpO2MmJihJKHAsITApLGQmJmUuY3NzKGQpKTtcbmImJihwLnN0eWxlW0srXCJQbGF5U3RhdGVcIl09XCJwYXVzZWRcIik7cmV0dXJuITB9ZnVuY3Rpb24gRChhLGUsYixjLGQpe2Z1bmN0aW9uIGYoKXtlLm9mZihELGgpO3UucmVtb3ZlQ2xhc3MoZSxrKTt1LnJlbW92ZUNsYXNzKGUsdCk7eiYmTS5jYW5jZWwoeik7RyhlLGIpO3ZhciBhPWcoZSksYztmb3IoYyBpbiBzKWEuc3R5bGUucmVtb3ZlUHJvcGVydHkoc1tjXSl9ZnVuY3Rpb24gaChhKXthLnN0b3BQcm9wYWdhdGlvbigpO3ZhciBiPWEub3JpZ2luYWxFdmVudHx8YTthPWIuJG1hbnVhbFRpbWVTdGFtcHx8Yi50aW1lU3RhbXB8fERhdGUubm93KCk7Yj1wYXJzZUZsb2F0KGIuZWxhcHNlZFRpbWUudG9GaXhlZCgzKSk7TWF0aC5tYXgoYS1ILDApPj1DJiZiPj14JiZjKCl9dmFyIG09ZyhlKTthPWUuZGF0YShcIiQkbmdBbmltYXRlQ1NTM0RhdGFcIik7aWYoLTEhPW0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikuaW5kZXhPZihiKSYmYSl7dmFyIGs9XCJcIix0PVwiXCI7bihiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLFxuYil7dmFyIGU9KDA8Yj9cIiBcIjpcIlwiKSthO2srPWUrXCItYWN0aXZlXCI7dCs9ZStcIi1wZW5kaW5nXCJ9KTt2YXIgcz1bXSxxPWEuaXRlbUluZGV4LHY9YS5zdGFnZ2VyLHI9MDtpZigwPHEpe3I9MDswPHYudHJhbnNpdGlvbkRlbGF5JiYwPT09di50cmFuc2l0aW9uRHVyYXRpb24mJihyPXYudHJhbnNpdGlvbkRlbGF5KnEpO3ZhciB5PTA7MDx2LmFuaW1hdGlvbkRlbGF5JiYwPT09di5hbmltYXRpb25EdXJhdGlvbiYmKHk9di5hbmltYXRpb25EZWxheSpxLHMucHVzaChCK1wiYW5pbWF0aW9uLXBsYXktc3RhdGVcIikpO3I9TWF0aC5yb3VuZCgxMDAqTWF0aC5tYXgocix5KSkvMTAwfXJ8fCh1LmFkZENsYXNzKGUsayksYS5ibG9ja1RyYW5zaXRpb24mJkkobSwhMSkpO3ZhciBGPVooZSxhLmNhY2hlS2V5K1wiIFwiK2spLHg9TWF0aC5tYXgoRi50cmFuc2l0aW9uRHVyYXRpb24sRi5hbmltYXRpb25EdXJhdGlvbik7aWYoMD09PXgpdS5yZW1vdmVDbGFzcyhlLGspLEcoZSxiKSxjKCk7ZWxzZXshciYmXG5kJiYwPE9iamVjdC5rZXlzKGQpLmxlbmd0aCYmKEYudHJhbnNpdGlvbkR1cmF0aW9ufHwoZS5jc3MoXCJ0cmFuc2l0aW9uXCIsRi5hbmltYXRpb25EdXJhdGlvbitcInMgbGluZWFyIGFsbFwiKSxzLnB1c2goXCJ0cmFuc2l0aW9uXCIpKSxlLmNzcyhkKSk7dmFyIHE9TWF0aC5tYXgoRi50cmFuc2l0aW9uRGVsYXksRi5hbmltYXRpb25EZWxheSksQz0xRTMqcTswPHMubGVuZ3RoJiYodj1tLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpfHxcIlwiLFwiO1wiIT09di5jaGFyQXQodi5sZW5ndGgtMSkmJih2Kz1cIjtcIiksbS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLHYrXCIgXCIpKTt2YXIgSD1EYXRlLm5vdygpLEQ9VitcIiBcIiskLHE9MUUzKihyKzEuNSoocSt4KSksejswPHImJih1LmFkZENsYXNzKGUsdCksej1NKGZ1bmN0aW9uKCl7ej1udWxsOzA8Ri50cmFuc2l0aW9uRHVyYXRpb24mJkkobSwhMSk7MDxGLmFuaW1hdGlvbkR1cmF0aW9uJiYobS5zdHlsZVtLK1wiUGxheVN0YXRlXCJdPVwiXCIpO3UuYWRkQ2xhc3MoZSxrKTtcbnUucmVtb3ZlQ2xhc3MoZSx0KTtkJiYoMD09PUYudHJhbnNpdGlvbkR1cmF0aW9uJiZlLmNzcyhcInRyYW5zaXRpb25cIixGLmFuaW1hdGlvbkR1cmF0aW9uK1wicyBsaW5lYXIgYWxsXCIpLGUuY3NzKGQpLHMucHVzaChcInRyYW5zaXRpb25cIikpfSwxRTMqciwhMSkpO2Uub24oRCxoKTthLmNsb3NlQW5pbWF0aW9uRm5zLnB1c2goZnVuY3Rpb24oKXtmKCk7YygpfSk7YS5ydW5uaW5nKys7UChlLHEpO3JldHVybiBmfX1lbHNlIGMoKX1mdW5jdGlvbiBJKGEsYil7YS5zdHlsZVt6K1wiUHJvcGVydHlcIl09Yj9cIm5vbmVcIjpcIlwifWZ1bmN0aW9uIFMoYSxiLGMsZCl7aWYoUihhLGIsYyxkKSlyZXR1cm4gZnVuY3Rpb24oYSl7YSYmRyhiLGMpfX1mdW5jdGlvbiBUKGEsYixjLGQsZil7aWYoYi5kYXRhKFwiJCRuZ0FuaW1hdGVDU1MzRGF0YVwiKSlyZXR1cm4gRChhLGIsYyxkLGYpO0coYixjKTtkKCl9ZnVuY3Rpb24gVShhLGIsYyxkLGYpe3ZhciBnPVMoYSxiLGMsZi5mcm9tKTtpZihnKXt2YXIgaD1nO0goYixcbmZ1bmN0aW9uKCl7aD1UKGEsYixjLGQsZi50byl9KTtyZXR1cm4gZnVuY3Rpb24oYSl7KGh8fHQpKGEpfX15KCk7ZCgpfWZ1bmN0aW9uIEcoYSxiKXt1LnJlbW92ZUNsYXNzKGEsYik7dmFyIGM9YS5kYXRhKFwiJCRuZ0FuaW1hdGVDU1MzRGF0YVwiKTtjJiYoYy5ydW5uaW5nJiZjLnJ1bm5pbmctLSxjLnJ1bm5pbmcmJjAhPT1jLnJ1bm5pbmd8fGEucmVtb3ZlRGF0YShcIiQkbmdBbmltYXRlQ1NTM0RhdGFcIikpfWZ1bmN0aW9uIHEoYSxiKXt2YXIgYz1cIlwiO2E9YWEoYSk/YTphLnNwbGl0KC9cXHMrLyk7bihhLGZ1bmN0aW9uKGEsZCl7YSYmMDxhLmxlbmd0aCYmKGMrPSgwPGQ/XCIgXCI6XCJcIikrYStiKX0pO3JldHVybiBjfXZhciBCPVwiXCIseiwkLEssVjtOLm9udHJhbnNpdGlvbmVuZD09PVcmJk4ub253ZWJraXR0cmFuc2l0aW9uZW5kIT09Vz8oQj1cIi13ZWJraXQtXCIsej1cIldlYmtpdFRyYW5zaXRpb25cIiwkPVwid2Via2l0VHJhbnNpdGlvbkVuZCB0cmFuc2l0aW9uZW5kXCIpOih6PVwidHJhbnNpdGlvblwiLFxuJD1cInRyYW5zaXRpb25lbmRcIik7Ti5vbmFuaW1hdGlvbmVuZD09PVcmJk4ub253ZWJraXRhbmltYXRpb25lbmQhPT1XPyhCPVwiLXdlYmtpdC1cIixLPVwiV2Via2l0QW5pbWF0aW9uXCIsVj1cIndlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmRcIik6KEs9XCJhbmltYXRpb25cIixWPVwiYW5pbWF0aW9uZW5kXCIpO3ZhciB4PXt9LGE9MCxjPVtdLGIsZD1udWxsLGg9MCxrPVtdO3JldHVybnthbmltYXRlOmZ1bmN0aW9uKGEsYixjLGQsZixnKXtnPWd8fHt9O2cuZnJvbT1jO2cudG89ZDtyZXR1cm4gVShcImFuaW1hdGVcIixhLGIsZixnKX0sZW50ZXI6ZnVuY3Rpb24oYSxiLGMpe2M9Y3x8e307cmV0dXJuIFUoXCJlbnRlclwiLGEsXCJuZy1lbnRlclwiLGIsYyl9LGxlYXZlOmZ1bmN0aW9uKGEsYixjKXtjPWN8fHt9O3JldHVybiBVKFwibGVhdmVcIixhLFwibmctbGVhdmVcIixiLGMpfSxtb3ZlOmZ1bmN0aW9uKGEsYixjKXtjPWN8fHt9O3JldHVybiBVKFwibW92ZVwiLGEsXCJuZy1tb3ZlXCIsYixjKX0sYmVmb3JlU2V0Q2xhc3M6ZnVuY3Rpb24oYSxcbmIsYyxkLGYpe2Y9Znx8e307Yj1xKGMsXCItcmVtb3ZlXCIpK1wiIFwiK3EoYixcIi1hZGRcIik7aWYoZj1TKFwic2V0Q2xhc3NcIixhLGIsZi5mcm9tKSlyZXR1cm4gSChhLGQpLGY7eSgpO2QoKX0sYmVmb3JlQWRkQ2xhc3M6ZnVuY3Rpb24oYSxiLGMsZCl7ZD1kfHx7fTtpZihiPVMoXCJhZGRDbGFzc1wiLGEscShiLFwiLWFkZFwiKSxkLmZyb20pKXJldHVybiBIKGEsYyksYjt5KCk7YygpfSxiZWZvcmVSZW1vdmVDbGFzczpmdW5jdGlvbihhLGIsYyxkKXtkPWR8fHt9O2lmKGI9UyhcInJlbW92ZUNsYXNzXCIsYSxxKGIsXCItcmVtb3ZlXCIpLGQuZnJvbSkpcmV0dXJuIEgoYSxjKSxiO3koKTtjKCl9LHNldENsYXNzOmZ1bmN0aW9uKGEsYixjLGQsZil7Zj1mfHx7fTtjPXEoYyxcIi1yZW1vdmVcIik7Yj1xKGIsXCItYWRkXCIpO3JldHVybiBUKFwic2V0Q2xhc3NcIixhLGMrXCIgXCIrYixkLGYudG8pfSxhZGRDbGFzczpmdW5jdGlvbihhLGIsYyxkKXtkPWR8fHt9O3JldHVybiBUKFwiYWRkQ2xhc3NcIixhLHEoYixcIi1hZGRcIiksXG5jLGQudG8pfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhLGIsYyxkKXtkPWR8fHt9O3JldHVybiBUKFwicmVtb3ZlQ2xhc3NcIixhLHEoYixcIi1yZW1vdmVcIiksYyxkLnRvKX19fV0pfV0pfSkod2luZG93LHdpbmRvdy5hbmd1bGFyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuZ3VsYXItYW5pbWF0ZS5taW4uanMubWFwXG4iLCIvKipcbiAqIFN0YXRlLWJhc2VkIHJvdXRpbmcgZm9yIEFuZ3VsYXJKU1xuICogQHZlcnNpb24gdjAuMi4xNFxuICogQGxpbmsgaHR0cDovL2FuZ3VsYXItdWkuZ2l0aHViLmNvbS9cbiAqIEBsaWNlbnNlIE1JVCBMaWNlbnNlLCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICovXG5cInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cyYmbW9kdWxlLmV4cG9ydHM9PT1leHBvcnRzJiYobW9kdWxlLmV4cG9ydHM9XCJ1aS5yb3V0ZXJcIiksZnVuY3Rpb24oYSxiLGMpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGQoYSxiKXtyZXR1cm4gTShuZXcoTShmdW5jdGlvbigpe30se3Byb3RvdHlwZTphfSkpLGIpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIEwoYXJndW1lbnRzLGZ1bmN0aW9uKGIpe2IhPT1hJiZMKGIsZnVuY3Rpb24oYixjKXthLmhhc093blByb3BlcnR5KGMpfHwoYVtjXT1iKX0pfSksYX1mdW5jdGlvbiBmKGEsYil7dmFyIGM9W107Zm9yKHZhciBkIGluIGEucGF0aCl7aWYoYS5wYXRoW2RdIT09Yi5wYXRoW2RdKWJyZWFrO2MucHVzaChhLnBhdGhbZF0pfXJldHVybiBjfWZ1bmN0aW9uIGcoYSl7aWYoT2JqZWN0LmtleXMpcmV0dXJuIE9iamVjdC5rZXlzKGEpO3ZhciBiPVtdO3JldHVybiBMKGEsZnVuY3Rpb24oYSxjKXtiLnB1c2goYyl9KSxifWZ1bmN0aW9uIGgoYSxiKXtpZihBcnJheS5wcm90b3R5cGUuaW5kZXhPZilyZXR1cm4gYS5pbmRleE9mKGIsTnVtYmVyKGFyZ3VtZW50c1syXSl8fDApO3ZhciBjPWEubGVuZ3RoPj4+MCxkPU51bWJlcihhcmd1bWVudHNbMl0pfHwwO2ZvcihkPTA+ZD9NYXRoLmNlaWwoZCk6TWF0aC5mbG9vcihkKSwwPmQmJihkKz1jKTtjPmQ7ZCsrKWlmKGQgaW4gYSYmYVtkXT09PWIpcmV0dXJuIGQ7cmV0dXJuLTF9ZnVuY3Rpb24gaShhLGIsYyxkKXt2YXIgZSxpPWYoYyxkKSxqPXt9LGs9W107Zm9yKHZhciBsIGluIGkpaWYoaVtsXS5wYXJhbXMmJihlPWcoaVtsXS5wYXJhbXMpLGUubGVuZ3RoKSlmb3IodmFyIG0gaW4gZSloKGssZVttXSk+PTB8fChrLnB1c2goZVttXSksaltlW21dXT1hW2VbbV1dKTtyZXR1cm4gTSh7fSxqLGIpfWZ1bmN0aW9uIGooYSxiLGMpe2lmKCFjKXtjPVtdO2Zvcih2YXIgZCBpbiBhKWMucHVzaChkKX1mb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGY9Y1tlXTtpZihhW2ZdIT1iW2ZdKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGsoYSxiKXt2YXIgYz17fTtyZXR1cm4gTChhLGZ1bmN0aW9uKGEpe2NbYV09YlthXX0pLGN9ZnVuY3Rpb24gbChhKXt2YXIgYj17fSxjPUFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoQXJyYXkucHJvdG90eXBlLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSk7Zm9yKHZhciBkIGluIGEpLTE9PWgoYyxkKSYmKGJbZF09YVtkXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gbShhLGIpe3ZhciBjPUsoYSksZD1jP1tdOnt9O3JldHVybiBMKGEsZnVuY3Rpb24oYSxlKXtiKGEsZSkmJihkW2M/ZC5sZW5ndGg6ZV09YSl9KSxkfWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1LKGEpP1tdOnt9O3JldHVybiBMKGEsZnVuY3Rpb24oYSxkKXtjW2RdPWIoYSxkKX0pLGN9ZnVuY3Rpb24gbyhhLGIpe3ZhciBkPTEsZj0yLGk9e30saj1bXSxrPWksbT1NKGEud2hlbihpKSx7JCRwcm9taXNlczppLCQkdmFsdWVzOml9KTt0aGlzLnN0dWR5PWZ1bmN0aW9uKGkpe2Z1bmN0aW9uIG4oYSxjKXtpZihzW2NdIT09Zil7aWYoci5wdXNoKGMpLHNbY109PT1kKXRocm93IHIuc3BsaWNlKDAsaChyLGMpKSxuZXcgRXJyb3IoXCJDeWNsaWMgZGVwZW5kZW5jeTogXCIrci5qb2luKFwiIC0+IFwiKSk7aWYoc1tjXT1kLEkoYSkpcS5wdXNoKGMsW2Z1bmN0aW9uKCl7cmV0dXJuIGIuZ2V0KGEpfV0saik7ZWxzZXt2YXIgZT1iLmFubm90YXRlKGEpO0woZSxmdW5jdGlvbihhKXthIT09YyYmaS5oYXNPd25Qcm9wZXJ0eShhKSYmbihpW2FdLGEpfSkscS5wdXNoKGMsYSxlKX1yLnBvcCgpLHNbY109Zn19ZnVuY3Rpb24gbyhhKXtyZXR1cm4gSihhKSYmYS50aGVuJiZhLiQkcHJvbWlzZXN9aWYoIUooaSkpdGhyb3cgbmV3IEVycm9yKFwiJ2ludm9jYWJsZXMnIG11c3QgYmUgYW4gb2JqZWN0XCIpO3ZhciBwPWcoaXx8e30pLHE9W10scj1bXSxzPXt9O3JldHVybiBMKGksbiksaT1yPXM9bnVsbCxmdW5jdGlvbihkLGYsZyl7ZnVuY3Rpb24gaCgpey0tdXx8KHZ8fGUodCxmLiQkdmFsdWVzKSxyLiQkdmFsdWVzPXQsci4kJHByb21pc2VzPXIuJCRwcm9taXNlc3x8ITAsZGVsZXRlIHIuJCRpbmhlcml0ZWRWYWx1ZXMsbi5yZXNvbHZlKHQpKX1mdW5jdGlvbiBpKGEpe3IuJCRmYWlsdXJlPWEsbi5yZWplY3QoYSl9ZnVuY3Rpb24gaihjLGUsZil7ZnVuY3Rpb24gaihhKXtsLnJlamVjdChhKSxpKGEpfWZ1bmN0aW9uIGsoKXtpZighRyhyLiQkZmFpbHVyZSkpdHJ5e2wucmVzb2x2ZShiLmludm9rZShlLGcsdCkpLGwucHJvbWlzZS50aGVuKGZ1bmN0aW9uKGEpe3RbY109YSxoKCl9LGopfWNhdGNoKGEpe2ooYSl9fXZhciBsPWEuZGVmZXIoKSxtPTA7TChmLGZ1bmN0aW9uKGEpe3MuaGFzT3duUHJvcGVydHkoYSkmJiFkLmhhc093blByb3BlcnR5KGEpJiYobSsrLHNbYV0udGhlbihmdW5jdGlvbihiKXt0W2FdPWIsLS1tfHxrKCl9LGopKX0pLG18fGsoKSxzW2NdPWwucHJvbWlzZX1pZihvKGQpJiZnPT09YyYmKGc9ZixmPWQsZD1udWxsKSxkKXtpZighSihkKSl0aHJvdyBuZXcgRXJyb3IoXCInbG9jYWxzJyBtdXN0IGJlIGFuIG9iamVjdFwiKX1lbHNlIGQ9aztpZihmKXtpZighbyhmKSl0aHJvdyBuZXcgRXJyb3IoXCIncGFyZW50JyBtdXN0IGJlIGEgcHJvbWlzZSByZXR1cm5lZCBieSAkcmVzb2x2ZS5yZXNvbHZlKClcIil9ZWxzZSBmPW07dmFyIG49YS5kZWZlcigpLHI9bi5wcm9taXNlLHM9ci4kJHByb21pc2VzPXt9LHQ9TSh7fSxkKSx1PTErcS5sZW5ndGgvMyx2PSExO2lmKEcoZi4kJGZhaWx1cmUpKXJldHVybiBpKGYuJCRmYWlsdXJlKSxyO2YuJCRpbmhlcml0ZWRWYWx1ZXMmJmUodCxsKGYuJCRpbmhlcml0ZWRWYWx1ZXMscCkpLE0ocyxmLiQkcHJvbWlzZXMpLGYuJCR2YWx1ZXM/KHY9ZSh0LGwoZi4kJHZhbHVlcyxwKSksci4kJGluaGVyaXRlZFZhbHVlcz1sKGYuJCR2YWx1ZXMscCksaCgpKTooZi4kJGluaGVyaXRlZFZhbHVlcyYmKHIuJCRpbmhlcml0ZWRWYWx1ZXM9bChmLiQkaW5oZXJpdGVkVmFsdWVzLHApKSxmLnRoZW4oaCxpKSk7Zm9yKHZhciB3PTAseD1xLmxlbmd0aDt4Pnc7dys9MylkLmhhc093blByb3BlcnR5KHFbd10pP2goKTpqKHFbd10scVt3KzFdLHFbdysyXSk7cmV0dXJuIHJ9fSx0aGlzLnJlc29sdmU9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuc3R1ZHkoYSkoYixjLGQpfX1mdW5jdGlvbiBwKGEsYixjKXt0aGlzLmZyb21Db25maWc9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBHKGEudGVtcGxhdGUpP3RoaXMuZnJvbVN0cmluZyhhLnRlbXBsYXRlLGIpOkcoYS50ZW1wbGF0ZVVybCk/dGhpcy5mcm9tVXJsKGEudGVtcGxhdGVVcmwsYik6RyhhLnRlbXBsYXRlUHJvdmlkZXIpP3RoaXMuZnJvbVByb3ZpZGVyKGEudGVtcGxhdGVQcm92aWRlcixiLGMpOm51bGx9LHRoaXMuZnJvbVN0cmluZz1mdW5jdGlvbihhLGIpe3JldHVybiBIKGEpP2EoYik6YX0sdGhpcy5mcm9tVXJsPWZ1bmN0aW9uKGMsZCl7cmV0dXJuIEgoYykmJihjPWMoZCkpLG51bGw9PWM/bnVsbDphLmdldChjLHtjYWNoZTpiLGhlYWRlcnM6e0FjY2VwdDpcInRleHQvaHRtbFwifX0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGF0YX0pfSx0aGlzLmZyb21Qcm92aWRlcj1mdW5jdGlvbihhLGIsZCl7cmV0dXJuIGMuaW52b2tlKGEsbnVsbCxkfHx7cGFyYW1zOmJ9KX19ZnVuY3Rpb24gcShhLGIsZSl7ZnVuY3Rpb24gZihiLGMsZCxlKXtpZihxLnB1c2goYiksb1tiXSlyZXR1cm4gb1tiXTtpZighL15cXHcrKC0rXFx3KykqKD86XFxbXFxdKT8kLy50ZXN0KGIpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyYW1ldGVyIG5hbWUgJ1wiK2IrXCInIGluIHBhdHRlcm4gJ1wiK2ErXCInXCIpO2lmKHBbYl0pdGhyb3cgbmV3IEVycm9yKFwiRHVwbGljYXRlIHBhcmFtZXRlciBuYW1lICdcIitiK1wiJyBpbiBwYXR0ZXJuICdcIithK1wiJ1wiKTtyZXR1cm4gcFtiXT1uZXcgTy5QYXJhbShiLGMsZCxlKSxwW2JdfWZ1bmN0aW9uIGcoYSxiLGMsZCl7dmFyIGU9W1wiXCIsXCJcIl0sZj1hLnJlcGxhY2UoL1tcXFxcXFxbXFxdXFxeJCorPy4oKXx7fV0vZyxcIlxcXFwkJlwiKTtpZighYilyZXR1cm4gZjtzd2l0Y2goYyl7Y2FzZSExOmU9W1wiKFwiLFwiKVwiKyhkP1wiP1wiOlwiXCIpXTticmVhaztjYXNlITA6ZT1bXCI/KFwiLFwiKT9cIl07YnJlYWs7ZGVmYXVsdDplPVtcIihcIitjK1wifFwiLFwiKT9cIl19cmV0dXJuIGYrZVswXStiK2VbMV19ZnVuY3Rpb24gaChlLGYpe3ZhciBnLGgsaSxqLGs7cmV0dXJuIGc9ZVsyXXx8ZVszXSxrPWIucGFyYW1zW2ddLGk9YS5zdWJzdHJpbmcobSxlLmluZGV4KSxoPWY/ZVs0XTplWzRdfHwoXCIqXCI9PWVbMV0/XCIuKlwiOm51bGwpLGo9Ty50eXBlKGh8fFwic3RyaW5nXCIpfHxkKE8udHlwZShcInN0cmluZ1wiKSx7cGF0dGVybjpuZXcgUmVnRXhwKGgsYi5jYXNlSW5zZW5zaXRpdmU/XCJpXCI6Yyl9KSx7aWQ6ZyxyZWdleHA6aCxzZWdtZW50OmksdHlwZTpqLGNmZzprfX1iPU0oe3BhcmFtczp7fX0sSihiKT9iOnt9KTt2YXIgaSxqPS8oWzoqXSkoW1xcd1xcW1xcXV0rKXxcXHsoW1xcd1xcW1xcXV0rKSg/OlxcOigoPzpbXnt9XFxcXF0rfFxcXFwufFxceyg/Oltee31cXFxcXSt8XFxcXC4pKlxcfSkrKSk/XFx9L2csaz0vKFs6XT8pKFtcXHdcXFtcXF0tXSspfFxceyhbXFx3XFxbXFxdLV0rKSg/OlxcOigoPzpbXnt9XFxcXF0rfFxcXFwufFxceyg/Oltee31cXFxcXSt8XFxcXC4pKlxcfSkrKSk/XFx9L2csbD1cIl5cIixtPTAsbj10aGlzLnNlZ21lbnRzPVtdLG89ZT9lLnBhcmFtczp7fSxwPXRoaXMucGFyYW1zPWU/ZS5wYXJhbXMuJCRuZXcoKTpuZXcgTy5QYXJhbVNldCxxPVtdO3RoaXMuc291cmNlPWE7Zm9yKHZhciByLHMsdDsoaT1qLmV4ZWMoYSkpJiYocj1oKGksITEpLCEoci5zZWdtZW50LmluZGV4T2YoXCI/XCIpPj0wKSk7KXM9ZihyLmlkLHIudHlwZSxyLmNmZyxcInBhdGhcIiksbCs9ZyhyLnNlZ21lbnQscy50eXBlLnBhdHRlcm4uc291cmNlLHMuc3F1YXNoLHMuaXNPcHRpb25hbCksbi5wdXNoKHIuc2VnbWVudCksbT1qLmxhc3RJbmRleDt0PWEuc3Vic3RyaW5nKG0pO3ZhciB1PXQuaW5kZXhPZihcIj9cIik7aWYodT49MCl7dmFyIHY9dGhpcy5zb3VyY2VTZWFyY2g9dC5zdWJzdHJpbmcodSk7aWYodD10LnN1YnN0cmluZygwLHUpLHRoaXMuc291cmNlUGF0aD1hLnN1YnN0cmluZygwLG0rdSksdi5sZW5ndGg+MClmb3IobT0wO2k9ay5leGVjKHYpOylyPWgoaSwhMCkscz1mKHIuaWQsci50eXBlLHIuY2ZnLFwic2VhcmNoXCIpLG09ai5sYXN0SW5kZXh9ZWxzZSB0aGlzLnNvdXJjZVBhdGg9YSx0aGlzLnNvdXJjZVNlYXJjaD1cIlwiO2wrPWcodCkrKGIuc3RyaWN0PT09ITE/XCIvP1wiOlwiXCIpK1wiJFwiLG4ucHVzaCh0KSx0aGlzLnJlZ2V4cD1uZXcgUmVnRXhwKGwsYi5jYXNlSW5zZW5zaXRpdmU/XCJpXCI6YyksdGhpcy5wcmVmaXg9blswXSx0aGlzLiQkcGFyYW1OYW1lcz1xfWZ1bmN0aW9uIHIoYSl7TSh0aGlzLGEpfWZ1bmN0aW9uIHMoKXtmdW5jdGlvbiBhKGEpe3JldHVybiBudWxsIT1hP2EudG9TdHJpbmcoKS5yZXBsYWNlKC9cXC8vZyxcIiUyRlwiKTphfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIG51bGwhPWE/YS50b1N0cmluZygpLnJlcGxhY2UoLyUyRi9nLFwiL1wiKTphfWZ1bmN0aW9uIGYoKXtyZXR1cm57c3RyaWN0OnAsY2FzZUluc2Vuc2l0aXZlOm99fWZ1bmN0aW9uIGkoYSl7cmV0dXJuIEgoYSl8fEsoYSkmJkgoYVthLmxlbmd0aC0xXSl9ZnVuY3Rpb24gaigpe2Zvcig7dy5sZW5ndGg7KXt2YXIgYT13LnNoaWZ0KCk7aWYoYS5wYXR0ZXJuKXRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3Qgb3ZlcnJpZGUgYSB0eXBlJ3MgLnBhdHRlcm4gYXQgcnVudGltZS5cIik7Yi5leHRlbmQodVthLm5hbWVdLGwuaW52b2tlKGEuZGVmKSl9fWZ1bmN0aW9uIGsoYSl7TSh0aGlzLGF8fHt9KX1PPXRoaXM7dmFyIGwsbz0hMSxwPSEwLHQ9ITEsdT17fSx2PSEwLHc9W10seD17c3RyaW5nOntlbmNvZGU6YSxkZWNvZGU6ZSxpczpmdW5jdGlvbihhKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYX0scGF0dGVybjovW15cXC9dKi99LFwiaW50XCI6e2VuY29kZTphLGRlY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gcGFyc2VJbnQoYSwxMCl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiBHKGEpJiZ0aGlzLmRlY29kZShhLnRvU3RyaW5nKCkpPT09YX0scGF0dGVybjovXFxkKy99LGJvb2w6e2VuY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gYT8xOjB9LGRlY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gMCE9PXBhcnNlSW50KGEsMTApfSxpczpmdW5jdGlvbihhKXtyZXR1cm4gYT09PSEwfHxhPT09ITF9LHBhdHRlcm46LzB8MS99LGRhdGU6e2VuY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pcyhhKT9bYS5nZXRGdWxsWWVhcigpLChcIjBcIisoYS5nZXRNb250aCgpKzEpKS5zbGljZSgtMiksKFwiMFwiK2EuZ2V0RGF0ZSgpKS5zbGljZSgtMildLmpvaW4oXCItXCIpOmN9LGRlY29kZTpmdW5jdGlvbihhKXtpZih0aGlzLmlzKGEpKXJldHVybiBhO3ZhciBiPXRoaXMuY2FwdHVyZS5leGVjKGEpO3JldHVybiBiP25ldyBEYXRlKGJbMV0sYlsyXS0xLGJbM10pOmN9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgRGF0ZSYmIWlzTmFOKGEudmFsdWVPZigpKX0sZXF1YWxzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaXMoYSkmJnRoaXMuaXMoYikmJmEudG9JU09TdHJpbmcoKT09PWIudG9JU09TdHJpbmcoKX0scGF0dGVybjovWzAtOV17NH0tKD86MFsxLTldfDFbMC0yXSktKD86MFsxLTldfFsxLTJdWzAtOV18M1swLTFdKS8sY2FwdHVyZTovKFswLTldezR9KS0oMFsxLTldfDFbMC0yXSktKDBbMS05XXxbMS0yXVswLTldfDNbMC0xXSkvfSxqc29uOntlbmNvZGU6Yi50b0pzb24sZGVjb2RlOmIuZnJvbUpzb24saXM6Yi5pc09iamVjdCxlcXVhbHM6Yi5lcXVhbHMscGF0dGVybjovW15cXC9dKi99LGFueTp7ZW5jb2RlOmIuaWRlbnRpdHksZGVjb2RlOmIuaWRlbnRpdHksaXM6Yi5pZGVudGl0eSxlcXVhbHM6Yi5lcXVhbHMscGF0dGVybjovLiovfX07cy4kJGdldERlZmF1bHRWYWx1ZT1mdW5jdGlvbihhKXtpZighaShhLnZhbHVlKSlyZXR1cm4gYS52YWx1ZTtpZighbCl0aHJvdyBuZXcgRXJyb3IoXCJJbmplY3RhYmxlIGZ1bmN0aW9ucyBjYW5ub3QgYmUgY2FsbGVkIGF0IGNvbmZpZ3VyYXRpb24gdGltZVwiKTtyZXR1cm4gbC5pbnZva2UoYS52YWx1ZSl9LHRoaXMuY2FzZUluc2Vuc2l0aXZlPWZ1bmN0aW9uKGEpe3JldHVybiBHKGEpJiYobz1hKSxvfSx0aGlzLnN0cmljdE1vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIEcoYSkmJihwPWEpLHB9LHRoaXMuZGVmYXVsdFNxdWFzaFBvbGljeT1mdW5jdGlvbihhKXtpZighRyhhKSlyZXR1cm4gdDtpZihhIT09ITAmJmEhPT0hMSYmIUkoYSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzcXVhc2ggcG9saWN5OiBcIithK1wiLiBWYWxpZCBwb2xpY2llczogZmFsc2UsIHRydWUsIGFyYml0cmFyeS1zdHJpbmdcIik7cmV0dXJuIHQ9YSxhfSx0aGlzLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IHEoYSxNKGYoKSxiKSl9LHRoaXMuaXNNYXRjaGVyPWZ1bmN0aW9uKGEpe2lmKCFKKGEpKXJldHVybiExO3ZhciBiPSEwO3JldHVybiBMKHEucHJvdG90eXBlLGZ1bmN0aW9uKGMsZCl7SChjKSYmKGI9YiYmRyhhW2RdKSYmSChhW2RdKSl9KSxifSx0aGlzLnR5cGU9ZnVuY3Rpb24oYSxiLGMpe2lmKCFHKGIpKXJldHVybiB1W2FdO2lmKHUuaGFzT3duUHJvcGVydHkoYSkpdGhyb3cgbmV3IEVycm9yKFwiQSB0eXBlIG5hbWVkICdcIithK1wiJyBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWQuXCIpO3JldHVybiB1W2FdPW5ldyByKE0oe25hbWU6YX0sYikpLGMmJih3LnB1c2goe25hbWU6YSxkZWY6Y30pLHZ8fGooKSksdGhpc30sTCh4LGZ1bmN0aW9uKGEsYil7dVtiXT1uZXcgcihNKHtuYW1lOmJ9LGEpKX0pLHU9ZCh1LHt9KSx0aGlzLiRnZXQ9W1wiJGluamVjdG9yXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGw9YSx2PSExLGooKSxMKHgsZnVuY3Rpb24oYSxiKXt1W2JdfHwodVtiXT1uZXcgcihhKSl9KSx0aGlzfV0sdGhpcy5QYXJhbT1mdW5jdGlvbihhLGIsZCxlKXtmdW5jdGlvbiBmKGEpe3ZhciBiPUooYSk/ZyhhKTpbXSxjPS0xPT09aChiLFwidmFsdWVcIikmJi0xPT09aChiLFwidHlwZVwiKSYmLTE9PT1oKGIsXCJzcXVhc2hcIikmJi0xPT09aChiLFwiYXJyYXlcIik7cmV0dXJuIGMmJihhPXt2YWx1ZTphfSksYS4kJGZuPWkoYS52YWx1ZSk/YS52YWx1ZTpmdW5jdGlvbigpe3JldHVybiBhLnZhbHVlfSxhfWZ1bmN0aW9uIGooYixjLGQpe2lmKGIudHlwZSYmYyl0aHJvdyBuZXcgRXJyb3IoXCJQYXJhbSAnXCIrYStcIicgaGFzIHR3byB0eXBlIGNvbmZpZ3VyYXRpb25zLlwiKTtyZXR1cm4gYz9jOmIudHlwZT9iLnR5cGUgaW5zdGFuY2VvZiByP2IudHlwZTpuZXcgcihiLnR5cGUpOlwiY29uZmlnXCI9PT1kP3UuYW55OnUuc3RyaW5nfWZ1bmN0aW9uIGsoKXt2YXIgYj17YXJyYXk6XCJzZWFyY2hcIj09PWU/XCJhdXRvXCI6ITF9LGM9YS5tYXRjaCgvXFxbXFxdJC8pP3thcnJheTohMH06e307cmV0dXJuIE0oYixjLGQpLmFycmF5fWZ1bmN0aW9uIG8oYSxiKXt2YXIgYz1hLnNxdWFzaDtpZighYnx8Yz09PSExKXJldHVybiExO2lmKCFHKGMpfHxudWxsPT1jKXJldHVybiB0O2lmKGM9PT0hMHx8SShjKSlyZXR1cm4gYzt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNxdWFzaCBwb2xpY3k6ICdcIitjK1wiJy4gVmFsaWQgcG9saWNpZXM6IGZhbHNlLCB0cnVlLCBvciBhcmJpdHJhcnkgc3RyaW5nXCIpfWZ1bmN0aW9uIHAoYSxiLGQsZSl7dmFyIGYsZyxpPVt7ZnJvbTpcIlwiLHRvOmR8fGI/YzpcIlwifSx7ZnJvbTpudWxsLHRvOmR8fGI/YzpcIlwifV07cmV0dXJuIGY9SyhhLnJlcGxhY2UpP2EucmVwbGFjZTpbXSxJKGUpJiZmLnB1c2goe2Zyb206ZSx0bzpjfSksZz1uKGYsZnVuY3Rpb24oYSl7cmV0dXJuIGEuZnJvbX0pLG0oaSxmdW5jdGlvbihhKXtyZXR1cm4tMT09PWgoZyxhLmZyb20pfSkuY29uY2F0KGYpfWZ1bmN0aW9uIHEoKXtpZighbCl0aHJvdyBuZXcgRXJyb3IoXCJJbmplY3RhYmxlIGZ1bmN0aW9ucyBjYW5ub3QgYmUgY2FsbGVkIGF0IGNvbmZpZ3VyYXRpb24gdGltZVwiKTt2YXIgYT1sLmludm9rZShkLiQkZm4pO2lmKG51bGwhPT1hJiZhIT09YyYmIXcudHlwZS5pcyhhKSl0aHJvdyBuZXcgRXJyb3IoXCJEZWZhdWx0IHZhbHVlIChcIithK1wiKSBmb3IgcGFyYW1ldGVyICdcIit3LmlkK1wiJyBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgVHlwZSAoXCIrdy50eXBlLm5hbWUrXCIpXCIpO3JldHVybiBhfWZ1bmN0aW9uIHMoYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGIuZnJvbT09PWF9fWZ1bmN0aW9uIGMoYSl7dmFyIGM9bihtKHcucmVwbGFjZSxiKGEpKSxmdW5jdGlvbihhKXtyZXR1cm4gYS50b30pO3JldHVybiBjLmxlbmd0aD9jWzBdOmF9cmV0dXJuIGE9YyhhKSxHKGEpP3cudHlwZS4kbm9ybWFsaXplKGEpOnEoKX1mdW5jdGlvbiB2KCl7cmV0dXJuXCJ7UGFyYW06XCIrYStcIiBcIitiK1wiIHNxdWFzaDogJ1wiK3orXCInIG9wdGlvbmFsOiBcIit5K1wifVwifXZhciB3PXRoaXM7ZD1mKGQpLGI9aihkLGIsZSk7dmFyIHg9aygpO2I9eD9iLiRhc0FycmF5KHgsXCJzZWFyY2hcIj09PWUpOmIsXCJzdHJpbmdcIiE9PWIubmFtZXx8eHx8XCJwYXRoXCIhPT1lfHxkLnZhbHVlIT09Y3x8KGQudmFsdWU9XCJcIik7dmFyIHk9ZC52YWx1ZSE9PWMsej1vKGQseSksQT1wKGQseCx5LHopO00odGhpcyx7aWQ6YSx0eXBlOmIsbG9jYXRpb246ZSxhcnJheTp4LHNxdWFzaDp6LHJlcGxhY2U6QSxpc09wdGlvbmFsOnksdmFsdWU6cyxkeW5hbWljOmMsY29uZmlnOmQsdG9TdHJpbmc6dn0pfSxrLnByb3RvdHlwZT17JCRuZXc6ZnVuY3Rpb24oKXtyZXR1cm4gZCh0aGlzLE0obmV3IGsseyQkcGFyZW50OnRoaXN9KSl9LCQka2V5czpmdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxiPVtdLGM9dGhpcyxkPWcoay5wcm90b3R5cGUpO2M7KWIucHVzaChjKSxjPWMuJCRwYXJlbnQ7cmV0dXJuIGIucmV2ZXJzZSgpLEwoYixmdW5jdGlvbihiKXtMKGcoYiksZnVuY3Rpb24oYil7LTE9PT1oKGEsYikmJi0xPT09aChkLGIpJiZhLnB1c2goYil9KX0pLGF9LCQkdmFsdWVzOmZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9dGhpcztyZXR1cm4gTChjLiQka2V5cygpLGZ1bmN0aW9uKGQpe2JbZF09Y1tkXS52YWx1ZShhJiZhW2RdKX0pLGJ9LCQkZXF1YWxzOmZ1bmN0aW9uKGEsYil7dmFyIGM9ITAsZD10aGlzO3JldHVybiBMKGQuJCRrZXlzKCksZnVuY3Rpb24oZSl7dmFyIGY9YSYmYVtlXSxnPWImJmJbZV07ZFtlXS50eXBlLmVxdWFscyhmLGcpfHwoYz0hMSl9KSxjfSwkJHZhbGlkYXRlczpmdW5jdGlvbihhKXt2YXIgZCxlLGYsZyxoLGk9dGhpcy4kJGtleXMoKTtmb3IoZD0wO2Q8aS5sZW5ndGgmJihlPXRoaXNbaVtkXV0sZj1hW2lbZF1dLGYhPT1jJiZudWxsIT09Znx8IWUuaXNPcHRpb25hbCk7ZCsrKXtpZihnPWUudHlwZS4kbm9ybWFsaXplKGYpLCFlLnR5cGUuaXMoZykpcmV0dXJuITE7aWYoaD1lLnR5cGUuZW5jb2RlKGcpLGIuaXNTdHJpbmcoaCkmJiFlLnR5cGUucGF0dGVybi5leGVjKGgpKXJldHVybiExfXJldHVybiEwfSwkJHBhcmVudDpjfSx0aGlzLlBhcmFtU2V0PWt9ZnVuY3Rpb24gdChhLGQpe2Z1bmN0aW9uIGUoYSl7dmFyIGI9L15cXF4oKD86XFxcXFteYS16QS1aMC05XXxbXlxcXFxcXFtcXF1cXF4kKis/LigpfHt9XSspKikvLmV4ZWMoYS5zb3VyY2UpO3JldHVybiBudWxsIT1iP2JbMV0ucmVwbGFjZSgvXFxcXCguKS9nLFwiJDFcIik6XCJcIn1mdW5jdGlvbiBmKGEsYil7cmV0dXJuIGEucmVwbGFjZSgvXFwkKFxcJHxcXGR7MSwyfSkvLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGJbXCIkXCI9PT1jPzA6TnVtYmVyKGMpXX0pfWZ1bmN0aW9uIGcoYSxiLGMpe2lmKCFjKXJldHVybiExO3ZhciBkPWEuaW52b2tlKGIsYix7JG1hdGNoOmN9KTtyZXR1cm4gRyhkKT9kOiEwfWZ1bmN0aW9uIGgoZCxlLGYsZyl7ZnVuY3Rpb24gaChhLGIsYyl7cmV0dXJuXCIvXCI9PT1wP2E6Yj9wLnNsaWNlKDAsLTEpK2E6Yz9wLnNsaWNlKDEpK2E6YX1mdW5jdGlvbiBtKGEpe2Z1bmN0aW9uIGIoYSl7dmFyIGI9YShmLGQpO3JldHVybiBiPyhJKGIpJiZkLnJlcGxhY2UoKS51cmwoYiksITApOiExfWlmKCFhfHwhYS5kZWZhdWx0UHJldmVudGVkKXt2YXIgZT1vJiZkLnVybCgpPT09bztpZihvPWMsZSlyZXR1cm4hMDt2YXIgZyxoPWoubGVuZ3RoO2ZvcihnPTA7aD5nO2crKylpZihiKGpbZ10pKXJldHVybjtrJiZiKGspfX1mdW5jdGlvbiBuKCl7cmV0dXJuIGk9aXx8ZS4kb24oXCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzXCIsbSl9dmFyIG8scD1nLmJhc2VIcmVmKCkscT1kLnVybCgpO3JldHVybiBsfHxuKCkse3N5bmM6ZnVuY3Rpb24oKXttKCl9LGxpc3RlbjpmdW5jdGlvbigpe3JldHVybiBuKCl9LHVwZGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gYT92b2lkKHE9ZC51cmwoKSk6dm9pZChkLnVybCgpIT09cSYmKGQudXJsKHEpLGQucmVwbGFjZSgpKSl9LHB1c2g6ZnVuY3Rpb24oYSxiLGUpe3ZhciBmPWEuZm9ybWF0KGJ8fHt9KTtudWxsIT09ZiYmYiYmYltcIiNcIl0mJihmKz1cIiNcIitiW1wiI1wiXSksZC51cmwoZiksbz1lJiZlLiQkYXZvaWRSZXN5bmM/ZC51cmwoKTpjLGUmJmUucmVwbGFjZSYmZC5yZXBsYWNlKCl9LGhyZWY6ZnVuY3Rpb24oYyxlLGYpe2lmKCFjLnZhbGlkYXRlcyhlKSlyZXR1cm4gbnVsbDt2YXIgZz1hLmh0bWw1TW9kZSgpO2IuaXNPYmplY3QoZykmJihnPWcuZW5hYmxlZCk7dmFyIGk9Yy5mb3JtYXQoZSk7aWYoZj1mfHx7fSxnfHxudWxsPT09aXx8KGk9XCIjXCIrYS5oYXNoUHJlZml4KCkraSksbnVsbCE9PWkmJmUmJmVbXCIjXCJdJiYoaSs9XCIjXCIrZVtcIiNcIl0pLGk9aChpLGcsZi5hYnNvbHV0ZSksIWYuYWJzb2x1dGV8fCFpKXJldHVybiBpO3ZhciBqPSFnJiZpP1wiL1wiOlwiXCIsaz1kLnBvcnQoKTtyZXR1cm4gaz04MD09PWt8fDQ0Mz09PWs/XCJcIjpcIjpcIitrLFtkLnByb3RvY29sKCksXCI6Ly9cIixkLmhvc3QoKSxrLGosaV0uam9pbihcIlwiKX19fXZhciBpLGo9W10saz1udWxsLGw9ITE7dGhpcy5ydWxlPWZ1bmN0aW9uKGEpe2lmKCFIKGEpKXRocm93IG5ldyBFcnJvcihcIidydWxlJyBtdXN0IGJlIGEgZnVuY3Rpb25cIik7cmV0dXJuIGoucHVzaChhKSx0aGlzfSx0aGlzLm90aGVyd2lzZT1mdW5jdGlvbihhKXtpZihJKGEpKXt2YXIgYj1hO2E9ZnVuY3Rpb24oKXtyZXR1cm4gYn19ZWxzZSBpZighSChhKSl0aHJvdyBuZXcgRXJyb3IoXCIncnVsZScgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiBrPWEsdGhpc30sdGhpcy53aGVuPWZ1bmN0aW9uKGEsYil7dmFyIGMsaD1JKGIpO2lmKEkoYSkmJihhPWQuY29tcGlsZShhKSksIWgmJiFIKGIpJiYhSyhiKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkICdoYW5kbGVyJyBpbiB3aGVuKClcIik7dmFyIGk9e21hdGNoZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gaCYmKGM9ZC5jb21waWxlKGIpLGI9W1wiJG1hdGNoXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGMuZm9ybWF0KGEpfV0pLE0oZnVuY3Rpb24oYyxkKXtyZXR1cm4gZyhjLGIsYS5leGVjKGQucGF0aCgpLGQuc2VhcmNoKCkpKX0se3ByZWZpeDpJKGEucHJlZml4KT9hLnByZWZpeDpcIlwifSl9LHJlZ2V4OmZ1bmN0aW9uKGEsYil7aWYoYS5nbG9iYWx8fGEuc3RpY2t5KXRocm93IG5ldyBFcnJvcihcIndoZW4oKSBSZWdFeHAgbXVzdCBub3QgYmUgZ2xvYmFsIG9yIHN0aWNreVwiKTtyZXR1cm4gaCYmKGM9YixiPVtcIiRtYXRjaFwiLGZ1bmN0aW9uKGEpe3JldHVybiBmKGMsYSl9XSksTShmdW5jdGlvbihjLGQpe3JldHVybiBnKGMsYixhLmV4ZWMoZC5wYXRoKCkpKX0se3ByZWZpeDplKGEpfSl9fSxqPXttYXRjaGVyOmQuaXNNYXRjaGVyKGEpLHJlZ2V4OmEgaW5zdGFuY2VvZiBSZWdFeHB9O2Zvcih2YXIgayBpbiBqKWlmKGpba10pcmV0dXJuIHRoaXMucnVsZShpW2tdKGEsYikpO3Rocm93IG5ldyBFcnJvcihcImludmFsaWQgJ3doYXQnIGluIHdoZW4oKVwiKX0sdGhpcy5kZWZlckludGVyY2VwdD1mdW5jdGlvbihhKXthPT09YyYmKGE9ITApLGw9YX0sdGhpcy4kZ2V0PWgsaC4kaW5qZWN0PVtcIiRsb2NhdGlvblwiLFwiJHJvb3RTY29wZVwiLFwiJGluamVjdG9yXCIsXCIkYnJvd3NlclwiXX1mdW5jdGlvbiB1KGEsZSl7ZnVuY3Rpb24gZihhKXtyZXR1cm4gMD09PWEuaW5kZXhPZihcIi5cIil8fDA9PT1hLmluZGV4T2YoXCJeXCIpfWZ1bmN0aW9uIGwoYSxiKXtpZighYSlyZXR1cm4gYzt2YXIgZD1JKGEpLGU9ZD9hOmEubmFtZSxnPWYoZSk7aWYoZyl7aWYoIWIpdGhyb3cgbmV3IEVycm9yKFwiTm8gcmVmZXJlbmNlIHBvaW50IGdpdmVuIGZvciBwYXRoICdcIitlK1wiJ1wiKTtiPWwoYik7Zm9yKHZhciBoPWUuc3BsaXQoXCIuXCIpLGk9MCxqPWgubGVuZ3RoLGs9YjtqPmk7aSsrKWlmKFwiXCIhPT1oW2ldfHwwIT09aSl7aWYoXCJeXCIhPT1oW2ldKWJyZWFrO2lmKCFrLnBhcmVudCl0aHJvdyBuZXcgRXJyb3IoXCJQYXRoICdcIitlK1wiJyBub3QgdmFsaWQgZm9yIHN0YXRlICdcIitiLm5hbWUrXCInXCIpO2s9ay5wYXJlbnR9ZWxzZSBrPWI7aD1oLnNsaWNlKGkpLmpvaW4oXCIuXCIpLGU9ay5uYW1lKyhrLm5hbWUmJmg/XCIuXCI6XCJcIikraH12YXIgbT15W2VdO3JldHVybiFtfHwhZCYmKGR8fG0hPT1hJiZtLnNlbGYhPT1hKT9jOm19ZnVuY3Rpb24gbShhLGIpe3pbYV18fCh6W2FdPVtdKSx6W2FdLnB1c2goYil9ZnVuY3Rpb24gbyhhKXtmb3IodmFyIGI9elthXXx8W107Yi5sZW5ndGg7KXAoYi5zaGlmdCgpKX1mdW5jdGlvbiBwKGIpe2I9ZChiLHtzZWxmOmIscmVzb2x2ZTpiLnJlc29sdmV8fHt9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX19KTt2YXIgYz1iLm5hbWU7aWYoIUkoYyl8fGMuaW5kZXhPZihcIkBcIik+PTApdGhyb3cgbmV3IEVycm9yKFwiU3RhdGUgbXVzdCBoYXZlIGEgdmFsaWQgbmFtZVwiKTtpZih5Lmhhc093blByb3BlcnR5KGMpKXRocm93IG5ldyBFcnJvcihcIlN0YXRlICdcIitjK1wiJycgaXMgYWxyZWFkeSBkZWZpbmVkXCIpO3ZhciBlPS0xIT09Yy5pbmRleE9mKFwiLlwiKT9jLnN1YnN0cmluZygwLGMubGFzdEluZGV4T2YoXCIuXCIpKTpJKGIucGFyZW50KT9iLnBhcmVudDpKKGIucGFyZW50KSYmSShiLnBhcmVudC5uYW1lKT9iLnBhcmVudC5uYW1lOlwiXCI7aWYoZSYmIXlbZV0pcmV0dXJuIG0oZSxiLnNlbGYpO2Zvcih2YXIgZiBpbiBCKUgoQltmXSkmJihiW2ZdPUJbZl0oYixCLiRkZWxlZ2F0ZXNbZl0pKTtyZXR1cm4geVtjXT1iLCFiW0FdJiZiLnVybCYmYS53aGVuKGIudXJsLFtcIiRtYXRjaFwiLFwiJHN0YXRlUGFyYW1zXCIsZnVuY3Rpb24oYSxjKXt4LiRjdXJyZW50Lm5hdmlnYWJsZT09YiYmaihhLGMpfHx4LnRyYW5zaXRpb25UbyhiLGEse2luaGVyaXQ6ITAsbG9jYXRpb246ITF9KX1dKSxvKGMpLGJ9ZnVuY3Rpb24gcShhKXtyZXR1cm4gYS5pbmRleE9mKFwiKlwiKT4tMX1mdW5jdGlvbiByKGEpe2Zvcih2YXIgYj1hLnNwbGl0KFwiLlwiKSxjPXguJGN1cnJlbnQubmFtZS5zcGxpdChcIi5cIiksZD0wLGU9Yi5sZW5ndGg7ZT5kO2QrKylcIipcIj09PWJbZF0mJihjW2RdPVwiKlwiKTtyZXR1cm5cIioqXCI9PT1iWzBdJiYoYz1jLnNsaWNlKGgoYyxiWzFdKSksYy51bnNoaWZ0KFwiKipcIikpLFwiKipcIj09PWJbYi5sZW5ndGgtMV0mJihjLnNwbGljZShoKGMsYltiLmxlbmd0aC0yXSkrMSxOdW1iZXIuTUFYX1ZBTFVFKSxjLnB1c2goXCIqKlwiKSksYi5sZW5ndGghPWMubGVuZ3RoPyExOmMuam9pbihcIlwiKT09PWIuam9pbihcIlwiKX1mdW5jdGlvbiBzKGEsYil7cmV0dXJuIEkoYSkmJiFHKGIpP0JbYV06SChiKSYmSShhKT8oQlthXSYmIUIuJGRlbGVnYXRlc1thXSYmKEIuJGRlbGVnYXRlc1thXT1CW2FdKSxCW2FdPWIsdGhpcyk6dGhpc31mdW5jdGlvbiB0KGEsYil7cmV0dXJuIEooYSk/Yj1hOmIubmFtZT1hLHAoYiksdGhpc31mdW5jdGlvbiB1KGEsZSxmLGgsbSxvLHApe2Z1bmN0aW9uIHMoYixjLGQsZil7dmFyIGc9YS4kYnJvYWRjYXN0KFwiJHN0YXRlTm90Rm91bmRcIixiLGMsZCk7aWYoZy5kZWZhdWx0UHJldmVudGVkKXJldHVybiBwLnVwZGF0ZSgpLEI7aWYoIWcucmV0cnkpcmV0dXJuIG51bGw7aWYoZi4kcmV0cnkpcmV0dXJuIHAudXBkYXRlKCksQzt2YXIgaD14LnRyYW5zaXRpb249ZS53aGVuKGcucmV0cnkpO3JldHVybiBoLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gaCE9PXgudHJhbnNpdGlvbj91OihiLm9wdGlvbnMuJHJldHJ5PSEwLHgudHJhbnNpdGlvblRvKGIudG8sYi50b1BhcmFtcyxiLm9wdGlvbnMpKX0sZnVuY3Rpb24oKXtyZXR1cm4gQn0pLHAudXBkYXRlKCksaH1mdW5jdGlvbiB0KGEsYyxkLGcsaSxqKXt2YXIgbD1kP2M6ayhhLnBhcmFtcy4kJGtleXMoKSxjKSxuPXskc3RhdGVQYXJhbXM6bH07aS5yZXNvbHZlPW0ucmVzb2x2ZShhLnJlc29sdmUsbixpLnJlc29sdmUsYSk7dmFyIG89W2kucmVzb2x2ZS50aGVuKGZ1bmN0aW9uKGEpe2kuZ2xvYmFscz1hfSldO3JldHVybiBnJiZvLnB1c2goZyksTChhLnZpZXdzLGZ1bmN0aW9uKGMsZCl7dmFyIGU9Yy5yZXNvbHZlJiZjLnJlc29sdmUhPT1hLnJlc29sdmU/Yy5yZXNvbHZlOnt9O2UuJHRlbXBsYXRlPVtmdW5jdGlvbigpe3JldHVybiBmLmxvYWQoZCx7dmlldzpjLGxvY2FsczpuLHBhcmFtczpsLG5vdGlmeTpqLm5vdGlmeX0pfHxcIlwifV0sby5wdXNoKG0ucmVzb2x2ZShlLG4saS5yZXNvbHZlLGEpLnRoZW4oZnVuY3Rpb24oZil7aWYoSChjLmNvbnRyb2xsZXJQcm92aWRlcil8fEsoYy5jb250cm9sbGVyUHJvdmlkZXIpKXt2YXIgZz1iLmV4dGVuZCh7fSxlLG4sZik7Zi4kJGNvbnRyb2xsZXI9aC5pbnZva2UoYy5jb250cm9sbGVyUHJvdmlkZXIsbnVsbCxnKX1lbHNlIGYuJCRjb250cm9sbGVyPWMuY29udHJvbGxlcjtmLiQkc3RhdGU9YSxmLiQkY29udHJvbGxlckFzPWMuY29udHJvbGxlckFzLGlbZF09Zn0pKX0pLGUuYWxsKG8pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gaX0pfXZhciB1PWUucmVqZWN0KG5ldyBFcnJvcihcInRyYW5zaXRpb24gc3VwZXJzZWRlZFwiKSksej1lLnJlamVjdChuZXcgRXJyb3IoXCJ0cmFuc2l0aW9uIHByZXZlbnRlZFwiKSksQj1lLnJlamVjdChuZXcgRXJyb3IoXCJ0cmFuc2l0aW9uIGFib3J0ZWRcIikpLEM9ZS5yZWplY3QobmV3IEVycm9yKFwidHJhbnNpdGlvbiBmYWlsZWRcIikpO3JldHVybiB3LmxvY2Fscz17cmVzb2x2ZTpudWxsLGdsb2JhbHM6eyRzdGF0ZVBhcmFtczp7fX19LHg9e3BhcmFtczp7fSxjdXJyZW50Oncuc2VsZiwkY3VycmVudDp3LHRyYW5zaXRpb246bnVsbH0seC5yZWxvYWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHgudHJhbnNpdGlvblRvKHguY3VycmVudCxvLHtyZWxvYWQ6YXx8ITAsaW5oZXJpdDohMSxub3RpZnk6ITB9KX0seC5nbz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHgudHJhbnNpdGlvblRvKGEsYixNKHtpbmhlcml0OiEwLHJlbGF0aXZlOnguJGN1cnJlbnR9LGMpKX0seC50cmFuc2l0aW9uVG89ZnVuY3Rpb24oYixjLGYpe2M9Y3x8e30sZj1NKHtsb2NhdGlvbjohMCxpbmhlcml0OiExLHJlbGF0aXZlOm51bGwsbm90aWZ5OiEwLHJlbG9hZDohMSwkcmV0cnk6ITF9LGZ8fHt9KTt2YXIgZyxqPXguJGN1cnJlbnQsbT14LnBhcmFtcyxuPWoucGF0aCxxPWwoYixmLnJlbGF0aXZlKSxyPWNbXCIjXCJdO2lmKCFHKHEpKXt2YXIgeT17dG86Yix0b1BhcmFtczpjLG9wdGlvbnM6Zn0sQj1zKHksai5zZWxmLG0sZik7aWYoQilyZXR1cm4gQjtpZihiPXkudG8sYz15LnRvUGFyYW1zLGY9eS5vcHRpb25zLHE9bChiLGYucmVsYXRpdmUpLCFHKHEpKXtpZighZi5yZWxhdGl2ZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBzdWNoIHN0YXRlICdcIitiK1wiJ1wiKTt0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgcmVzb2x2ZSAnXCIrYitcIicgZnJvbSBzdGF0ZSAnXCIrZi5yZWxhdGl2ZStcIidcIil9fWlmKHFbQV0pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHRyYW5zaXRpb24gdG8gYWJzdHJhY3Qgc3RhdGUgJ1wiK2IrXCInXCIpO2lmKGYuaW5oZXJpdCYmKGM9aShvLGN8fHt9LHguJGN1cnJlbnQscSkpLCFxLnBhcmFtcy4kJHZhbGlkYXRlcyhjKSlyZXR1cm4gQztjPXEucGFyYW1zLiQkdmFsdWVzKGMpLGI9cTt2YXIgRD1iLnBhdGgsRT0wLEY9RFtFXSxIPXcubG9jYWxzLEs9W10sTD0hMTtpZihmLnJlbG9hZCl7aWYoSShmLnJlbG9hZCl8fEooZi5yZWxvYWQpKXtpZihKKGYucmVsb2FkKSYmIWYucmVsb2FkLm5hbWUpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCByZWxvYWQgc3RhdGUgb2JqZWN0XCIpO3ZhciBPPWYucmVsb2FkPT09ITA/blswXTpsKGYucmVsb2FkKTtpZihmLnJlbG9hZCYmIU8pdGhyb3cgbmV3IEVycm9yKFwiTm8gc3VjaCByZWxvYWQgc3RhdGUgJ1wiKyhJKGYucmVsb2FkKT9mLnJlbG9hZDpmLnJlbG9hZC5uYW1lKStcIidcIik7Zm9yKEw9ITA7RiYmRj09PW5bRV0mJkYhPT1POylIPUtbRV09Ri5sb2NhbHMsRSsrLEY9RFtFXX19ZWxzZSBmb3IoO0YmJkY9PT1uW0VdJiZGLm93blBhcmFtcy4kJGVxdWFscyhjLG0pOylIPUtbRV09Ri5sb2NhbHMsRSsrLEY9RFtFXTtpZighTCYmdihiLGosSCxmKSlyZXR1cm4gYi5zZWxmLnJlbG9hZE9uU2VhcmNoIT09ITEmJnAudXBkYXRlKCkseC50cmFuc2l0aW9uPW51bGwsZS53aGVuKHguY3VycmVudCk7aWYoYz1rKGIucGFyYW1zLiQka2V5cygpLGN8fHt9KSxmLm5vdGlmeSYmYS4kYnJvYWRjYXN0KFwiJHN0YXRlQ2hhbmdlU3RhcnRcIixiLnNlbGYsYyxqLnNlbGYsbSkuZGVmYXVsdFByZXZlbnRlZClyZXR1cm4gYS4kYnJvYWRjYXN0KFwiJHN0YXRlQ2hhbmdlQ2FuY2VsXCIsYi5zZWxmLGMsai5zZWxmLG0pLHAudXBkYXRlKCksejtmb3IodmFyIFA9ZS53aGVuKEgpLFE9RTtRPEQubGVuZ3RoO1ErKyxGPURbUV0pSD1LW1FdPWQoSCksUD10KEYsYyxGPT09YixQLEgsZik7dmFyIFI9eC50cmFuc2l0aW9uPVAudGhlbihmdW5jdGlvbigpe3ZhciBkLGUsZztpZih4LnRyYW5zaXRpb24hPT1SKXJldHVybiB1O2ZvcihkPW4ubGVuZ3RoLTE7ZD49RTtkLS0pZz1uW2RdLGcuc2VsZi5vbkV4aXQmJmguaW52b2tlKGcuc2VsZi5vbkV4aXQsZy5zZWxmLGcubG9jYWxzLmdsb2JhbHMpLGcubG9jYWxzPW51bGw7Zm9yKGQ9RTtkPEQubGVuZ3RoO2QrKyllPURbZF0sZS5sb2NhbHM9S1tkXSxlLnNlbGYub25FbnRlciYmaC5pbnZva2UoZS5zZWxmLm9uRW50ZXIsZS5zZWxmLGUubG9jYWxzLmdsb2JhbHMpO3JldHVybiByJiYoY1tcIiNcIl09cikseC50cmFuc2l0aW9uIT09Uj91Oih4LiRjdXJyZW50PWIseC5jdXJyZW50PWIuc2VsZix4LnBhcmFtcz1jLE4oeC5wYXJhbXMsbykseC50cmFuc2l0aW9uPW51bGwsZi5sb2NhdGlvbiYmYi5uYXZpZ2FibGUmJnAucHVzaChiLm5hdmlnYWJsZS51cmwsYi5uYXZpZ2FibGUubG9jYWxzLmdsb2JhbHMuJHN0YXRlUGFyYW1zLHskJGF2b2lkUmVzeW5jOiEwLHJlcGxhY2U6XCJyZXBsYWNlXCI9PT1mLmxvY2F0aW9ufSksZi5ub3RpZnkmJmEuJGJyb2FkY2FzdChcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIixiLnNlbGYsYyxqLnNlbGYsbSkscC51cGRhdGUoITApLHguY3VycmVudCl9LGZ1bmN0aW9uKGQpe3JldHVybiB4LnRyYW5zaXRpb24hPT1SP3U6KHgudHJhbnNpdGlvbj1udWxsLGc9YS4kYnJvYWRjYXN0KFwiJHN0YXRlQ2hhbmdlRXJyb3JcIixiLnNlbGYsYyxqLnNlbGYsbSxkKSxnLmRlZmF1bHRQcmV2ZW50ZWR8fHAudXBkYXRlKCksZS5yZWplY3QoZCkpfSk7cmV0dXJuIFJ9LHguaXM9ZnVuY3Rpb24oYSxiLGQpe2Q9TSh7cmVsYXRpdmU6eC4kY3VycmVudH0sZHx8e30pO3ZhciBlPWwoYSxkLnJlbGF0aXZlKTtyZXR1cm4gRyhlKT94LiRjdXJyZW50IT09ZT8hMTpiP2ooZS5wYXJhbXMuJCR2YWx1ZXMoYiksbyk6ITA6Y30seC5pbmNsdWRlcz1mdW5jdGlvbihhLGIsZCl7aWYoZD1NKHtyZWxhdGl2ZTp4LiRjdXJyZW50fSxkfHx7fSksSShhKSYmcShhKSl7aWYoIXIoYSkpcmV0dXJuITE7YT14LiRjdXJyZW50Lm5hbWV9dmFyIGU9bChhLGQucmVsYXRpdmUpO3JldHVybiBHKGUpP0coeC4kY3VycmVudC5pbmNsdWRlc1tlLm5hbWVdKT9iP2ooZS5wYXJhbXMuJCR2YWx1ZXMoYiksbyxnKGIpKTohMDohMTpjfSx4LmhyZWY9ZnVuY3Rpb24oYSxiLGQpe2Q9TSh7bG9zc3k6ITAsaW5oZXJpdDohMCxhYnNvbHV0ZTohMSxyZWxhdGl2ZTp4LiRjdXJyZW50fSxkfHx7fSk7dmFyIGU9bChhLGQucmVsYXRpdmUpO2lmKCFHKGUpKXJldHVybiBudWxsO2QuaW5oZXJpdCYmKGI9aShvLGJ8fHt9LHguJGN1cnJlbnQsZSkpO3ZhciBmPWUmJmQubG9zc3k/ZS5uYXZpZ2FibGU6ZTtyZXR1cm4gZiYmZi51cmwhPT1jJiZudWxsIT09Zi51cmw/cC5ocmVmKGYudXJsLGsoZS5wYXJhbXMuJCRrZXlzKCkuY29uY2F0KFwiI1wiKSxifHx7fSkse2Fic29sdXRlOmQuYWJzb2x1dGV9KTpudWxsfSx4LmdldD1mdW5jdGlvbihhLGIpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuKGcoeSksZnVuY3Rpb24oYSl7cmV0dXJuIHlbYV0uc2VsZn0pO3ZhciBjPWwoYSxifHx4LiRjdXJyZW50KTtyZXR1cm4gYyYmYy5zZWxmP2Muc2VsZjpudWxsfSx4fWZ1bmN0aW9uIHYoYSxiLGMsZCl7cmV0dXJuIGEhPT1ifHwoYyE9PWIubG9jYWxzfHxkLnJlbG9hZCkmJmEuc2VsZi5yZWxvYWRPblNlYXJjaCE9PSExP3ZvaWQgMDohMH12YXIgdyx4LHk9e30sej17fSxBPVwiYWJzdHJhY3RcIixCPXtwYXJlbnQ6ZnVuY3Rpb24oYSl7aWYoRyhhLnBhcmVudCkmJmEucGFyZW50KXJldHVybiBsKGEucGFyZW50KTt2YXIgYj0vXiguKylcXC5bXi5dKyQvLmV4ZWMoYS5uYW1lKTtyZXR1cm4gYj9sKGJbMV0pOnd9LGRhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50JiZhLnBhcmVudC5kYXRhJiYoYS5kYXRhPWEuc2VsZi5kYXRhPU0oe30sYS5wYXJlbnQuZGF0YSxhLmRhdGEpKSxhLmRhdGF9LHVybDpmdW5jdGlvbihhKXt2YXIgYj1hLnVybCxjPXtwYXJhbXM6YS5wYXJhbXN8fHt9fTtpZihJKGIpKXJldHVyblwiXlwiPT1iLmNoYXJBdCgwKT9lLmNvbXBpbGUoYi5zdWJzdHJpbmcoMSksYyk6KGEucGFyZW50Lm5hdmlnYWJsZXx8dykudXJsLmNvbmNhdChiLGMpO2lmKCFifHxlLmlzTWF0Y2hlcihiKSlyZXR1cm4gYjt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHVybCAnXCIrYitcIicgaW4gc3RhdGUgJ1wiK2ErXCInXCIpfSxuYXZpZ2FibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEudXJsP2E6YS5wYXJlbnQ/YS5wYXJlbnQubmF2aWdhYmxlOm51bGx9LG93blBhcmFtczpmdW5jdGlvbihhKXt2YXIgYj1hLnVybCYmYS51cmwucGFyYW1zfHxuZXcgTy5QYXJhbVNldDtyZXR1cm4gTChhLnBhcmFtc3x8e30sZnVuY3Rpb24oYSxjKXtiW2NdfHwoYltjXT1uZXcgTy5QYXJhbShjLG51bGwsYSxcImNvbmZpZ1wiKSl9KSxifSxwYXJhbXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50JiZhLnBhcmVudC5wYXJhbXM/TShhLnBhcmVudC5wYXJhbXMuJCRuZXcoKSxhLm93blBhcmFtcyk6bmV3IE8uUGFyYW1TZXR9LHZpZXdzOmZ1bmN0aW9uKGEpe3ZhciBiPXt9O3JldHVybiBMKEcoYS52aWV3cyk/YS52aWV3czp7XCJcIjphfSxmdW5jdGlvbihjLGQpe2QuaW5kZXhPZihcIkBcIik8MCYmKGQrPVwiQFwiK2EucGFyZW50Lm5hbWUpLGJbZF09Y30pLGJ9LHBhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50P2EucGFyZW50LnBhdGguY29uY2F0KGEpOltdfSxpbmNsdWRlczpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudD9NKHt9LGEucGFyZW50LmluY2x1ZGVzKTp7fTtyZXR1cm4gYlthLm5hbWVdPSEwLGJ9LCRkZWxlZ2F0ZXM6e319O3c9cCh7bmFtZTpcIlwiLHVybDpcIl5cIix2aWV3czpudWxsLFwiYWJzdHJhY3RcIjohMH0pLHcubmF2aWdhYmxlPW51bGwsdGhpcy5kZWNvcmF0b3I9cyx0aGlzLnN0YXRlPXQsdGhpcy4kZ2V0PXUsdS4kaW5qZWN0PVtcIiRyb290U2NvcGVcIixcIiRxXCIsXCIkdmlld1wiLFwiJGluamVjdG9yXCIsXCIkcmVzb2x2ZVwiLFwiJHN0YXRlUGFyYW1zXCIsXCIkdXJsUm91dGVyXCIsXCIkbG9jYXRpb25cIixcIiR1cmxNYXRjaGVyRmFjdG9yeVwiXX1mdW5jdGlvbiB2KCl7ZnVuY3Rpb24gYShhLGIpe3JldHVybntsb2FkOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZj17dGVtcGxhdGU6bnVsbCxjb250cm9sbGVyOm51bGwsdmlldzpudWxsLGxvY2FsczpudWxsLG5vdGlmeTohMCxhc3luYzohMCxwYXJhbXM6e319O3JldHVybiBkPU0oZixkKSxkLnZpZXcmJihlPWIuZnJvbUNvbmZpZyhkLnZpZXcsZC5wYXJhbXMsZC5sb2NhbHMpKSxlJiZkLm5vdGlmeSYmYS4kYnJvYWRjYXN0KFwiJHZpZXdDb250ZW50TG9hZGluZ1wiLGQpLGV9fX10aGlzLiRnZXQ9YSxhLiRpbmplY3Q9W1wiJHJvb3RTY29wZVwiLFwiJHRlbXBsYXRlRmFjdG9yeVwiXX1mdW5jdGlvbiB3KCl7dmFyIGE9ITE7dGhpcy51c2VBbmNob3JTY3JvbGw9ZnVuY3Rpb24oKXthPSEwfSx0aGlzLiRnZXQ9W1wiJGFuY2hvclNjcm9sbFwiLFwiJHRpbWVvdXRcIixmdW5jdGlvbihiLGMpe3JldHVybiBhP2I6ZnVuY3Rpb24oYSl7cmV0dXJuIGMoZnVuY3Rpb24oKXthWzBdLnNjcm9sbEludG9WaWV3KCl9LDAsITEpfX1dfWZ1bmN0aW9uIHgoYSxjLGQsZSl7ZnVuY3Rpb24gZigpe3JldHVybiBjLmhhcz9mdW5jdGlvbihhKXtyZXR1cm4gYy5oYXMoYSk/Yy5nZXQoYSk6bnVsbH06ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiBjLmdldChhKX1jYXRjaChiKXtyZXR1cm4gbnVsbH19fWZ1bmN0aW9uIGcoYSxiKXt2YXIgYz1mdW5jdGlvbigpe3JldHVybntlbnRlcjpmdW5jdGlvbihhLGIsYyl7Yi5hZnRlcihhKSxjKCl9LGxlYXZlOmZ1bmN0aW9uKGEsYil7YS5yZW1vdmUoKSxiKCl9fX07aWYoailyZXR1cm57ZW50ZXI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWouZW50ZXIoYSxudWxsLGIsYyk7ZCYmZC50aGVuJiZkLnRoZW4oYyl9LGxlYXZlOmZ1bmN0aW9uKGEsYil7dmFyIGM9ai5sZWF2ZShhLGIpO2MmJmMudGhlbiYmYy50aGVuKGIpfX07aWYoaSl7dmFyIGQ9aSYmaShiLGEpO3JldHVybntlbnRlcjpmdW5jdGlvbihhLGIsYyl7ZC5lbnRlcihhLG51bGwsYiksYygpfSxsZWF2ZTpmdW5jdGlvbihhLGIpe2QubGVhdmUoYSksYigpfX19cmV0dXJuIGMoKX12YXIgaD1mKCksaT1oKFwiJGFuaW1hdG9yXCIpLGo9aChcIiRhbmltYXRlXCIpLGs9e3Jlc3RyaWN0OlwiRUNBXCIsdGVybWluYWw6ITAscHJpb3JpdHk6NDAwLHRyYW5zY2x1ZGU6XCJlbGVtZW50XCIsY29tcGlsZTpmdW5jdGlvbihjLGYsaCl7cmV0dXJuIGZ1bmN0aW9uKGMsZixpKXtmdW5jdGlvbiBqKCl7bCYmKGwucmVtb3ZlKCksbD1udWxsKSxuJiYobi4kZGVzdHJveSgpLG49bnVsbCksbSYmKHIubGVhdmUobSxmdW5jdGlvbigpe2w9bnVsbH0pLGw9bSxtPW51bGwpfWZ1bmN0aW9uIGsoZyl7dmFyIGssbD16KGMsaSxmLGUpLHM9bCYmYS4kY3VycmVudCYmYS4kY3VycmVudC5sb2NhbHNbbF07aWYoZ3x8cyE9PW8pe2s9Yy4kbmV3KCksbz1hLiRjdXJyZW50LmxvY2Fsc1tsXTt2YXIgdD1oKGssZnVuY3Rpb24oYSl7ci5lbnRlcihhLGYsZnVuY3Rpb24oKXtuJiZuLiRlbWl0KFwiJHZpZXdDb250ZW50QW5pbWF0aW9uRW5kZWRcIiksKGIuaXNEZWZpbmVkKHEpJiYhcXx8Yy4kZXZhbChxKSkmJmQoYSl9KSxqKCl9KTttPXQsbj1rLG4uJGVtaXQoXCIkdmlld0NvbnRlbnRMb2FkZWRcIiksbi4kZXZhbChwKX19dmFyIGwsbSxuLG8scD1pLm9ubG9hZHx8XCJcIixxPWkuYXV0b3Njcm9sbCxyPWcoaSxjKTtjLiRvbihcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIixmdW5jdGlvbigpe2soITEpfSksYy4kb24oXCIkdmlld0NvbnRlbnRMb2FkaW5nXCIsZnVuY3Rpb24oKXtrKCExKX0pLGsoITApfX19O3JldHVybiBrfWZ1bmN0aW9uIHkoYSxiLGMsZCl7cmV0dXJue3Jlc3RyaWN0OlwiRUNBXCIscHJpb3JpdHk6LTQwMCxjb21waWxlOmZ1bmN0aW9uKGUpe3ZhciBmPWUuaHRtbCgpO3JldHVybiBmdW5jdGlvbihlLGcsaCl7dmFyIGk9Yy4kY3VycmVudCxqPXooZSxoLGcsZCksaz1pJiZpLmxvY2Fsc1tqXTtpZihrKXtnLmRhdGEoXCIkdWlWaWV3XCIse25hbWU6aixzdGF0ZTprLiQkc3RhdGV9KSxnLmh0bWwoay4kdGVtcGxhdGU/ay4kdGVtcGxhdGU6Zik7dmFyIGw9YShnLmNvbnRlbnRzKCkpO2lmKGsuJCRjb250cm9sbGVyKXtrLiRzY29wZT1lLGsuJGVsZW1lbnQ9Zzt2YXIgbT1iKGsuJCRjb250cm9sbGVyLGspO2suJCRjb250cm9sbGVyQXMmJihlW2suJCRjb250cm9sbGVyQXNdPW0pLGcuZGF0YShcIiRuZ0NvbnRyb2xsZXJDb250cm9sbGVyXCIsbSksZy5jaGlsZHJlbigpLmRhdGEoXCIkbmdDb250cm9sbGVyQ29udHJvbGxlclwiLG0pfWwoZSl9fX19fWZ1bmN0aW9uIHooYSxiLGMsZCl7dmFyIGU9ZChiLnVpVmlld3x8Yi5uYW1lfHxcIlwiKShhKSxmPWMuaW5oZXJpdGVkRGF0YShcIiR1aVZpZXdcIik7cmV0dXJuIGUuaW5kZXhPZihcIkBcIik+PTA/ZTplK1wiQFwiKyhmP2Yuc3RhdGUubmFtZTpcIlwiKX1mdW5jdGlvbiBBKGEsYil7dmFyIGMsZD1hLm1hdGNoKC9eXFxzKih7W159XSp9KVxccyokLyk7aWYoZCYmKGE9YitcIihcIitkWzFdK1wiKVwiKSxjPWEucmVwbGFjZSgvXFxuL2csXCIgXCIpLm1hdGNoKC9eKFteKF0rPylcXHMqKFxcKCguKilcXCkpPyQvKSwhY3x8NCE9PWMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgcmVmICdcIithK1wiJ1wiKTtyZXR1cm57c3RhdGU6Y1sxXSxwYXJhbUV4cHI6Y1szXXx8bnVsbH19ZnVuY3Rpb24gQihhKXt2YXIgYj1hLnBhcmVudCgpLmluaGVyaXRlZERhdGEoXCIkdWlWaWV3XCIpO3JldHVybiBiJiZiLnN0YXRlJiZiLnN0YXRlLm5hbWU/Yi5zdGF0ZTp2b2lkIDB9ZnVuY3Rpb24gQyhhLGMpe3ZhciBkPVtcImxvY2F0aW9uXCIsXCJpbmhlcml0XCIsXCJyZWxvYWRcIixcImFic29sdXRlXCJdO3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOltcIj9edWlTcmVmQWN0aXZlXCIsXCI/XnVpU3JlZkFjdGl2ZUVxXCJdLGxpbms6ZnVuY3Rpb24oZSxmLGcsaCl7dmFyIGk9QShnLnVpU3JlZixhLmN1cnJlbnQubmFtZSksaj1udWxsLGs9QihmKXx8YS4kY3VycmVudCxsPVwiW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChmLnByb3AoXCJocmVmXCIpKT9cInhsaW5rOmhyZWZcIjpcImhyZWZcIixtPW51bGwsbj1cIkFcIj09PWYucHJvcChcInRhZ05hbWVcIikudG9VcHBlckNhc2UoKSxvPVwiRk9STVwiPT09ZlswXS5ub2RlTmFtZSxwPW8/XCJhY3Rpb25cIjpsLHE9ITAscj17cmVsYXRpdmU6ayxpbmhlcml0OiEwfSxzPWUuJGV2YWwoZy51aVNyZWZPcHRzKXx8e307Yi5mb3JFYWNoKGQsZnVuY3Rpb24oYSl7YSBpbiBzJiYoclthXT1zW2FdKX0pO3ZhciB0PWZ1bmN0aW9uKGMpe2lmKGMmJihqPWIuY29weShjKSkscSl7bT1hLmhyZWYoaS5zdGF0ZSxqLHIpO3ZhciBkPWhbMV18fGhbMF07cmV0dXJuIGQmJmQuJCRhZGRTdGF0ZUluZm8oaS5zdGF0ZSxqKSxudWxsPT09bT8ocT0hMSwhMSk6dm9pZCBnLiRzZXQocCxtKX19O2kucGFyYW1FeHByJiYoZS4kd2F0Y2goaS5wYXJhbUV4cHIsZnVuY3Rpb24oYSl7YSE9PWomJnQoYSl9LCEwKSxqPWIuY29weShlLiRldmFsKGkucGFyYW1FeHByKSkpLHQoKSxvfHxmLmJpbmQoXCJjbGlja1wiLGZ1bmN0aW9uKGIpe3ZhciBkPWIud2hpY2h8fGIuYnV0dG9uO2lmKCEoZD4xfHxiLmN0cmxLZXl8fGIubWV0YUtleXx8Yi5zaGlmdEtleXx8Zi5hdHRyKFwidGFyZ2V0XCIpKSl7dmFyIGU9YyhmdW5jdGlvbigpe2EuZ28oaS5zdGF0ZSxqLHIpfSk7Yi5wcmV2ZW50RGVmYXVsdCgpO3ZhciBnPW4mJiFtPzE6MDtiLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7Zy0tPD0wJiZjLmNhbmNlbChlKX19fSl9fX1mdW5jdGlvbiBEKGEsYixjKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsY29udHJvbGxlcjpbXCIkc2NvcGVcIixcIiRlbGVtZW50XCIsXCIkYXR0cnNcIixmdW5jdGlvbihiLGQsZSl7ZnVuY3Rpb24gZigpe2coKT9kLmFkZENsYXNzKGkpOmQucmVtb3ZlQ2xhc3MoaSl9ZnVuY3Rpb24gZygpe2Zvcih2YXIgYT0wO2E8ai5sZW5ndGg7YSsrKWlmKGgoalthXS5zdGF0ZSxqW2FdLnBhcmFtcykpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gaChiLGMpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLnVpU3JlZkFjdGl2ZUVxP2EuaXMoYi5uYW1lLGMpOmEuaW5jbHVkZXMoYi5uYW1lLGMpfXZhciBpLGo9W107aT1jKGUudWlTcmVmQWN0aXZlRXF8fGUudWlTcmVmQWN0aXZlfHxcIlwiLCExKShiKSx0aGlzLiQkYWRkU3RhdGVJbmZvPWZ1bmN0aW9uKGIsYyl7dmFyIGU9YS5nZXQoYixCKGQpKTtqLnB1c2goe3N0YXRlOmV8fHtuYW1lOmJ9LHBhcmFtczpjfSksZigpfSxiLiRvbihcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIixmKX1dfX1mdW5jdGlvbiBFKGEpe3ZhciBiPWZ1bmN0aW9uKGIpe3JldHVybiBhLmlzKGIpfTtyZXR1cm4gYi4kc3RhdGVmdWw9ITAsYn1mdW5jdGlvbiBGKGEpe3ZhciBiPWZ1bmN0aW9uKGIpe3JldHVybiBhLmluY2x1ZGVzKGIpfTtyZXR1cm4gYi4kc3RhdGVmdWw9ITAsYn12YXIgRz1iLmlzRGVmaW5lZCxIPWIuaXNGdW5jdGlvbixJPWIuaXNTdHJpbmcsSj1iLmlzT2JqZWN0LEs9Yi5pc0FycmF5LEw9Yi5mb3JFYWNoLE09Yi5leHRlbmQsTj1iLmNvcHk7Yi5tb2R1bGUoXCJ1aS5yb3V0ZXIudXRpbFwiLFtcIm5nXCJdKSxiLm1vZHVsZShcInVpLnJvdXRlci5yb3V0ZXJcIixbXCJ1aS5yb3V0ZXIudXRpbFwiXSksYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIixbXCJ1aS5yb3V0ZXIucm91dGVyXCIsXCJ1aS5yb3V0ZXIudXRpbFwiXSksYi5tb2R1bGUoXCJ1aS5yb3V0ZXJcIixbXCJ1aS5yb3V0ZXIuc3RhdGVcIl0pLGIubW9kdWxlKFwidWkucm91dGVyLmNvbXBhdFwiLFtcInVpLnJvdXRlclwiXSksby4kaW5qZWN0PVtcIiRxXCIsXCIkaW5qZWN0b3JcIl0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIudXRpbFwiKS5zZXJ2aWNlKFwiJHJlc29sdmVcIixvKSxwLiRpbmplY3Q9W1wiJGh0dHBcIixcIiR0ZW1wbGF0ZUNhY2hlXCIsXCIkaW5qZWN0b3JcIl0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIudXRpbFwiKS5zZXJ2aWNlKFwiJHRlbXBsYXRlRmFjdG9yeVwiLHApO3ZhciBPO3EucHJvdG90eXBlLmNvbmNhdD1mdW5jdGlvbihhLGIpe3ZhciBjPXtjYXNlSW5zZW5zaXRpdmU6Ty5jYXNlSW5zZW5zaXRpdmUoKSxzdHJpY3Q6Ty5zdHJpY3RNb2RlKCksc3F1YXNoOk8uZGVmYXVsdFNxdWFzaFBvbGljeSgpfTtyZXR1cm4gbmV3IHEodGhpcy5zb3VyY2VQYXRoK2ErdGhpcy5zb3VyY2VTZWFyY2gsTShjLGIpLHRoaXMpfSxxLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZX0scS5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYS5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKX1mdW5jdGlvbiBjKGEpe3JldHVybiBhLnJlcGxhY2UoL1xcXFwtL2csXCItXCIpfXZhciBkPWIoYSkuc3BsaXQoLy0oPyFcXFxcKS8pLGU9bihkLGIpO3JldHVybiBuKGUsYykucmV2ZXJzZSgpfXZhciBkPXRoaXMucmVnZXhwLmV4ZWMoYSk7aWYoIWQpcmV0dXJuIG51bGw7Yj1ifHx7fTt2YXIgZSxmLGcsaD10aGlzLnBhcmFtZXRlcnMoKSxpPWgubGVuZ3RoLGo9dGhpcy5zZWdtZW50cy5sZW5ndGgtMSxrPXt9O2lmKGohPT1kLmxlbmd0aC0xKXRocm93IG5ldyBFcnJvcihcIlVuYmFsYW5jZWQgY2FwdHVyZSBncm91cCBpbiByb3V0ZSAnXCIrdGhpcy5zb3VyY2UrXCInXCIpO2ZvcihlPTA7aj5lO2UrKyl7Zz1oW2VdO3ZhciBsPXRoaXMucGFyYW1zW2ddLG09ZFtlKzFdO2ZvcihmPTA7ZjxsLnJlcGxhY2U7ZisrKWwucmVwbGFjZVtmXS5mcm9tPT09bSYmKG09bC5yZXBsYWNlW2ZdLnRvKTttJiZsLmFycmF5PT09ITAmJihtPWMobSkpLGtbZ109bC52YWx1ZShtKX1mb3IoO2k+ZTtlKyspZz1oW2VdLGtbZ109dGhpcy5wYXJhbXNbZ10udmFsdWUoYltnXSk7cmV0dXJuIGt9LHEucHJvdG90eXBlLnBhcmFtZXRlcnM9ZnVuY3Rpb24oYSl7cmV0dXJuIEcoYSk/dGhpcy5wYXJhbXNbYV18fG51bGw6dGhpcy4kJHBhcmFtTmFtZXN9LHEucHJvdG90eXBlLnZhbGlkYXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wYXJhbXMuJCR2YWxpZGF0ZXMoYSl9LHEucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoYSkucmVwbGFjZSgvLS9nLGZ1bmN0aW9uKGEpe3JldHVyblwiJTVDJVwiK2EuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX0pfWE9YXx8e307dmFyIGM9dGhpcy5zZWdtZW50cyxkPXRoaXMucGFyYW1ldGVycygpLGU9dGhpcy5wYXJhbXM7aWYoIXRoaXMudmFsaWRhdGVzKGEpKXJldHVybiBudWxsO3ZhciBmLGc9ITEsaD1jLmxlbmd0aC0xLGk9ZC5sZW5ndGgsaj1jWzBdO2ZvcihmPTA7aT5mO2YrKyl7dmFyIGs9aD5mLGw9ZFtmXSxtPWVbbF0sbz1tLnZhbHVlKGFbbF0pLHA9bS5pc09wdGlvbmFsJiZtLnR5cGUuZXF1YWxzKG0udmFsdWUoKSxvKSxxPXA/bS5zcXVhc2g6ITEscj1tLnR5cGUuZW5jb2RlKG8pO2lmKGspe3ZhciBzPWNbZisxXTtpZihxPT09ITEpbnVsbCE9ciYmKGorPUsocik/bihyLGIpLmpvaW4oXCItXCIpOmVuY29kZVVSSUNvbXBvbmVudChyKSksais9cztlbHNlIGlmKHE9PT0hMCl7dmFyIHQ9ai5tYXRjaCgvXFwvJC8pPy9cXC8/KC4qKS86LyguKikvO2orPXMubWF0Y2godClbMV19ZWxzZSBJKHEpJiYoais9cStzKX1lbHNle2lmKG51bGw9PXJ8fHAmJnEhPT0hMSljb250aW51ZTtLKHIpfHwocj1bcl0pLHI9bihyLGVuY29kZVVSSUNvbXBvbmVudCkuam9pbihcIiZcIitsK1wiPVwiKSxqKz0oZz9cIiZcIjpcIj9cIikrKGwrXCI9XCIrciksZz0hMH19cmV0dXJuIGp9LHIucHJvdG90eXBlLmlzPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHIucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbihhKXtyZXR1cm4gYX0sci5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxyLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09Yn0sci5wcm90b3R5cGUuJHN1YlBhdHRlcm49ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhdHRlcm4udG9TdHJpbmcoKTtyZXR1cm4gYS5zdWJzdHIoMSxhLmxlbmd0aC0yKX0sci5wcm90b3R5cGUucGF0dGVybj0vLiovLHIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJ7VHlwZTpcIit0aGlzLm5hbWUrXCJ9XCJ9LHIucHJvdG90eXBlLiRub3JtYWxpemU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXMoYSk/YTp0aGlzLmRlY29kZShhKX0sci5wcm90b3R5cGUuJGFzQXJyYXk9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGEsYil7ZnVuY3Rpb24gZChhLGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhW2JdLmFwcGx5KGEsYXJndW1lbnRzKX19ZnVuY3Rpb24gZShhKXtyZXR1cm4gSyhhKT9hOkcoYSk/W2FdOltdfWZ1bmN0aW9uIGYoYSl7c3dpdGNoKGEubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIGM7Y2FzZSAxOnJldHVyblwiYXV0b1wiPT09Yj9hWzBdOmE7ZGVmYXVsdDpyZXR1cm4gYX19ZnVuY3Rpb24gZyhhKXtyZXR1cm4hYX1mdW5jdGlvbiBoKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2M9ZShjKTt2YXIgZD1uKGMsYSk7cmV0dXJuIGI9PT0hMD8wPT09bShkLGcpLmxlbmd0aDpmKGQpfX1mdW5jdGlvbiBpKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3ZhciBkPWUoYiksZj1lKGMpO2lmKGQubGVuZ3RoIT09Zi5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBnPTA7ZzxkLmxlbmd0aDtnKyspaWYoIWEoZFtnXSxmW2ddKSlyZXR1cm4hMTtyZXR1cm4hMH19dGhpcy5lbmNvZGU9aChkKGEsXCJlbmNvZGVcIikpLHRoaXMuZGVjb2RlPWgoZChhLFwiZGVjb2RlXCIpKSx0aGlzLmlzPWgoZChhLFwiaXNcIiksITApLHRoaXMuZXF1YWxzPWkoZChhLFwiZXF1YWxzXCIpKSx0aGlzLnBhdHRlcm49YS5wYXR0ZXJuLHRoaXMuJG5vcm1hbGl6ZT1oKGQoYSxcIiRub3JtYWxpemVcIikpLHRoaXMubmFtZT1hLm5hbWUsdGhpcy4kYXJyYXlNb2RlPWJ9aWYoIWEpcmV0dXJuIHRoaXM7aWYoXCJhdXRvXCI9PT1hJiYhYil0aHJvdyBuZXcgRXJyb3IoXCInYXV0bycgYXJyYXkgbW9kZSBpcyBmb3IgcXVlcnkgcGFyYW1ldGVycyBvbmx5XCIpO3JldHVybiBuZXcgZCh0aGlzLGEpfSxiLm1vZHVsZShcInVpLnJvdXRlci51dGlsXCIpLnByb3ZpZGVyKFwiJHVybE1hdGNoZXJGYWN0b3J5XCIscyksYi5tb2R1bGUoXCJ1aS5yb3V0ZXIudXRpbFwiKS5ydW4oW1wiJHVybE1hdGNoZXJGYWN0b3J5XCIsZnVuY3Rpb24oKXt9XSksdC4kaW5qZWN0PVtcIiRsb2NhdGlvblByb3ZpZGVyXCIsXCIkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlclwiXSxiLm1vZHVsZShcInVpLnJvdXRlci5yb3V0ZXJcIikucHJvdmlkZXIoXCIkdXJsUm91dGVyXCIsdCksdS4kaW5qZWN0PVtcIiR1cmxSb3V0ZXJQcm92aWRlclwiLFwiJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXJcIl0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikudmFsdWUoXCIkc3RhdGVQYXJhbXNcIix7fSkucHJvdmlkZXIoXCIkc3RhdGVcIix1KSx2LiRpbmplY3Q9W10sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikucHJvdmlkZXIoXCIkdmlld1wiLHYpLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLnByb3ZpZGVyKFwiJHVpVmlld1Njcm9sbFwiLHcpLHguJGluamVjdD1bXCIkc3RhdGVcIixcIiRpbmplY3RvclwiLFwiJHVpVmlld1Njcm9sbFwiLFwiJGludGVycG9sYXRlXCJdLHkuJGluamVjdD1bXCIkY29tcGlsZVwiLFwiJGNvbnRyb2xsZXJcIixcIiRzdGF0ZVwiLFwiJGludGVycG9sYXRlXCJdLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLmRpcmVjdGl2ZShcInVpVmlld1wiLHgpLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLmRpcmVjdGl2ZShcInVpVmlld1wiLHkpLEMuJGluamVjdD1bXCIkc3RhdGVcIixcIiR0aW1lb3V0XCJdLEQuJGluamVjdD1bXCIkc3RhdGVcIixcIiRzdGF0ZVBhcmFtc1wiLFwiJGludGVycG9sYXRlXCJdLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLmRpcmVjdGl2ZShcInVpU3JlZlwiLEMpLmRpcmVjdGl2ZShcInVpU3JlZkFjdGl2ZVwiLEQpLmRpcmVjdGl2ZShcInVpU3JlZkFjdGl2ZUVxXCIsRCksRS4kaW5qZWN0PVtcIiRzdGF0ZVwiXSxGLiRpbmplY3Q9W1wiJHN0YXRlXCJdLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLmZpbHRlcihcImlzU3RhdGVcIixFKS5maWx0ZXIoXCJpbmNsdWRlZEJ5U3RhdGVcIixGKX0od2luZG93LHdpbmRvdy5hbmd1bGFyKTsiLCIhZnVuY3Rpb24oYSxiKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjKGEpe3JldHVybntyZXF1aXJlOlwiP25nTW9kZWxcIixyZXN0cmljdDpcIkFcIixsaW5rOmZ1bmN0aW9uKGMsZCxlLGYpe2Z1bmN0aW9uIGcoKXt2YXIgYT1oKGMpO3JldHVybiBiLmlzT2JqZWN0KGEpJiZhLmhhc093blByb3BlcnR5KFwiJHZpZXdWYWx1ZVwiKSYmKGE9YS4kdmlld1ZhbHVlKSxhfWlmKCFmKXJldHVybiB2b2lkKGNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKFwiTWF0Y2ggdmFsaWRhdGlvbiByZXF1aXJlcyBuZ01vZGVsIHRvIGJlIG9uIHRoZSBlbGVtZW50XCIpKTt2YXIgaD1hKGUubWF0Y2gpO2MuJHdhdGNoKGcsZnVuY3Rpb24oKXtmLiQkcGFyc2VBbmRWYWxpZGF0ZSgpfSksZi4kdmFsaWRhdG9ycy5tYXRjaD1mdW5jdGlvbigpe3JldHVybiBmLiR2aWV3VmFsdWU9PT1nKCl9fX19Yi5tb2R1bGUoXCJ2YWxpZGF0aW9uLm1hdGNoXCIsW10pLGIubW9kdWxlKFwidmFsaWRhdGlvbi5tYXRjaFwiKS5kaXJlY3RpdmUoXCJtYXRjaFwiLGMpLGMuJGluamVjdD1bXCIkcGFyc2VcIl19KHdpbmRvdyx3aW5kb3cuYW5ndWxhcik7IiwiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgb3JkaW5hbCA9IHJlcXVpcmUoJ29yZGluYWwnKTtcblxuYW5ndWxhclxuICAubW9kdWxlKCdvcmRpbmFsJywgW10pXG5cbiAgLy8gVGFrZSBhIG51bWJlciBhbmQgcmV0dXJucyBpdHMgb3JkaW5hbCB2YWx1ZVxuICAvLyBpLmUuIDEgLT4gMXN0LCAyIC0+IDJuZCwgZXRjLlxuICAuZmlsdGVyKCdvcmRpbmFsJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICB2YXIgbnVtID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbiAgICAgIHJldHVybiBpc05hTihudW0pID8gaW5wdXQgOiBvcmRpbmFsLmVuZ2xpc2gobnVtKTtcbiAgICB9O1xuICB9KTtcblxufSx7XCJvcmRpbmFsXCI6Mn1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuZXhwb3J0cy5lbmdsaXNoID0gcmVxdWlyZSgnLi9saWIvZW5nbGlzaCcpO1xuXG59LHtcIi4vbGliL2VuZ2xpc2hcIjozfV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5mdW5jdGlvbiB0ZWVucygpIHtcbiAgcmV0dXJuIFsxMSwgMTIsIDEzLCAxNCwgMTUsIDE2LCAxNywgMTgsIDE5XTtcbn07XG5cbmZ1bmN0aW9uIGJsYW5rKG4pIHtcbiAgcmV0dXJuICdzdHJpbmcnID09PSB0eXBlb2YgbiAmJiAwID09PSBuLnRyaW0oKS5sZW5ndGg7XG59XG5cbmZ1bmN0aW9uIG51bWVyaWMobikge1xuICByZXR1cm4gJ251bWJlcicgPT09IHR5cGVvZiArbiAmJiAhTnVtYmVyLmlzTmFOKCtuKTtcbn1cblxuZnVuY3Rpb24gdmFsaWQobikge1xuICByZXR1cm4gbnVtZXJpYyhuKSAmJiAhYmxhbmsobikgJiYgJ29iamVjdCcgIT09IHR5cGVvZiBuO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZShuKSB7XG4gIGlmKCF2YWxpZChuKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignTXVzdCBiZSBhIG51bWJlciBvciBudW1lcmljIHN0cmluZycpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluZGljYXRvcihuKSB7XG4gIHZhbGlkYXRlKG4pO1xuXG4gIHZhciByZW1haW5kZXIgPSBuICUgMTA7XG4gIGlmKH50ZWVucygpLmluZGV4T2YobikpIHtcbiAgICByZXR1cm4gJ3RoJztcbiAgfVxuICBzd2l0Y2gobiAlIDEwKSB7XG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuICdzdCc7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDI6XG4gICAgICByZXR1cm4gJ25kJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMzpcbiAgICAgIHJldHVybiAncmQnO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAndGgnO1xuICB9XG59O1xuXG5mdW5jdGlvbiBlbmdsaXNoKG4pIHtcbiAgcmV0dXJuIG4gKyBpbmRpY2F0b3Iobik7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVuZ2xpc2g7XG5tb2R1bGUuZXhwb3J0cy5pbmRpY2F0b3IgPSBpbmRpY2F0b3I7XG5cbn0se31dfSx7fSxbMV0pO1xuIiwiLyohIDQuMi4xICovXG4hZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7d2luZG93LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZVthXT1iKHdpbmRvdy5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGVbYV0pfWZ1bmN0aW9uIGIoYSxiLGMsZCxnLGgsaSl7ZnVuY3Rpb24gaigpe3JldHVyblwiaW5wdXRcIj09PWJbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZiLmF0dHIoXCJ0eXBlXCIpJiZcImZpbGVcIj09PWIuYXR0cihcInR5cGVcIikudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBrKGIpe2lmKCFwKXtwPSEwO3RyeXtmb3IodmFyIGk9Yi5fX2ZpbGVzX3x8Yi50YXJnZXQmJmIudGFyZ2V0LmZpbGVzLGo9W10saz1bXSxsPTA7bDxpLmxlbmd0aDtsKyspe3ZhciBtPWkuaXRlbShsKTtmKGEsZyxjLG0sYik/ai5wdXNoKG0pOmsucHVzaChtKX1lKGcsaCxhLGQsYyxjLm5nZkNoYW5nZXx8Yy5uZ2ZTZWxlY3QsaixrLGIpLDA9PWoubGVuZ3RoJiYoYi50YXJnZXQudmFsdWU9ail9ZmluYWxseXtwPSExfX19ZnVuY3Rpb24gbChkKXtjLm5nZk11bHRpcGxlJiZkLmF0dHIoXCJtdWx0aXBsZVwiLGcoYy5uZ2ZNdWx0aXBsZSkoYSkpLGcoYy5uZ2ZNdWx0aXBsZSkoYSl8fGQuYXR0cihcIm11bHRpcGxlXCIsdm9pZCAwKSxjLmFjY2VwdCYmZC5hdHRyKFwiYWNjZXB0XCIsYy5hY2NlcHQpLGMubmdmQ2FwdHVyZSYmZC5hdHRyKFwiY2FwdHVyZVwiLGcoYy5uZ2ZDYXB0dXJlKShhKSk7Zm9yKHZhciBlPTA7ZTxiWzBdLmF0dHJpYnV0ZXMubGVuZ3RoO2UrKyl7dmFyIGY9YlswXS5hdHRyaWJ1dGVzW2VdOyhqKCkmJlwidHlwZVwiIT09Zi5uYW1lfHxcInR5cGVcIiE9PWYubmFtZSYmXCJjbGFzc1wiIT09Zi5uYW1lJiZcImlkXCIhPT1mLm5hbWUmJlwic3R5bGVcIiE9PWYubmFtZSkmJmQuYXR0cihmLm5hbWUsZi52YWx1ZSl9fWZ1bmN0aW9uIG0oKXtpZighYi5hdHRyKFwiZGlzYWJsZWRcIikpe3ZhciBjPWFuZ3VsYXIuZWxlbWVudCgnPGlucHV0IHR5cGU9XCJmaWxlXCI+Jyk7cmV0dXJuIGwoYyksaigpPyhiLnJlcGxhY2VXaXRoKGMpLGI9YyxjLmF0dHIoXCJfX25nZl9nZW5fX1wiLCEwKSxpKGIpKGEpKTooYy5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIikuY3NzKFwicG9zaXRpb25cIixcImFic29sdXRlXCIpLmNzcyhcIndpZHRoXCIsXCIxXCIpLmNzcyhcImhlaWdodFwiLFwiMVwiKS5jc3MoXCJ6LWluZGV4XCIsXCItMTAwMDAwXCIpLmF0dHIoXCJ0YWJpbmRleFwiLFwiLTFcIiksYi5fX25nZl9yZWZfZWxlbV9fJiZiLl9fbmdmX3JlZl9lbGVtX18ucmVtb3ZlKCksYi5fX25nZl9yZWZfZWxlbV9fPWMsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjWzBdKSksY319ZnVuY3Rpb24gbihiKXtlKGcsaCxhLGQsYyxjLm5nZkNoYW5nZXx8Yy5uZ2ZTZWxlY3QsW10sW10sYiwhMCl9ZnVuY3Rpb24gbyhhKXtmdW5jdGlvbiBjKCl7ZFswXS5jbGljaygpLGooKSYmKGIuYmluZChcImNsaWNrIHRvdWNoZW5kXCIsbyksYS5wcmV2ZW50RGVmYXVsdCgpKX1hLnByZXZlbnREZWZhdWx0KCk7dmFyIGQ9bShhKTtkJiYoZC5iaW5kKFwiY2hhbmdlXCIsayksbihhKSxuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FuZHJvaWQvKT9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YygpfSwwKTpjKCkpfWlmKCFiLmF0dHIoXCJfX25nZl9nZW5fX1wiKSl7dmFyIHA9ITE7d2luZG93LkZpbGVBUEkmJndpbmRvdy5GaWxlQVBJLm5nZkZpeElFP3dpbmRvdy5GaWxlQVBJLm5nZkZpeElFKGIsbSxsLGssbik6Yi5iaW5kKFwiY2xpY2sgdG91Y2hlbmRcIixvKX19ZnVuY3Rpb24gYyhhLGIsYyxnLGgsaSxqKXtmdW5jdGlvbiBrKGEsYixjKXt2YXIgZD0hMCxlPWMuZGF0YVRyYW5zZmVyLml0ZW1zO2lmKG51bGwhPWUpZm9yKHZhciBnPTA7ZzxlLmxlbmd0aCYmZDtnKyspZD1kJiYoXCJmaWxlXCI9PWVbZ10ua2luZHx8XCJcIj09ZVtnXS5raW5kKSYmZihhLGgsYixlW2ddLGMpO3ZhciBpPWgoYi5uZ2ZEcmFnT3ZlckNsYXNzKShhLHskZXZlbnQ6Y30pO3JldHVybiBpJiYoaS5kZWxheSYmKHE9aS5kZWxheSksaS5hY2NlcHQmJihpPWQ/aS5hY2NlcHQ6aS5yZWplY3QpKSxpfHxiLm5nZkRyYWdPdmVyQ2xhc3N8fFwiZHJhZ292ZXJcIn1mdW5jdGlvbiBsKGIsZCxlLGcpe2Z1bmN0aW9uIGsoZCl7ZihhLGgsYyxkLGIpP20ucHVzaChkKTpuLnB1c2goZCl9ZnVuY3Rpb24gbChhLGIsYyl7aWYobnVsbCE9YilpZihiLmlzRGlyZWN0b3J5KXt2YXIgZD0oY3x8XCJcIikrYi5uYW1lO2soe25hbWU6Yi5uYW1lLHR5cGU6XCJkaXJlY3RvcnlcIixwYXRoOmR9KTt2YXIgZT1iLmNyZWF0ZVJlYWRlcigpLGY9W107cCsrO3ZhciBnPWZ1bmN0aW9uKCl7ZS5yZWFkRW50cmllcyhmdW5jdGlvbihkKXt0cnl7aWYoZC5sZW5ndGgpZj1mLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkfHxbXSwwKSksZygpO2Vsc2V7Zm9yKHZhciBlPTA7ZTxmLmxlbmd0aDtlKyspbChhLGZbZV0sKGM/YzpcIlwiKStiLm5hbWUrXCIvXCIpO3AtLX19Y2F0Y2goaCl7cC0tLGNvbnNvbGUuZXJyb3IoaCl9fSxmdW5jdGlvbigpe3AtLX0pfTtnKCl9ZWxzZSBwKyssYi5maWxlKGZ1bmN0aW9uKGEpe3RyeXtwLS0sYS5wYXRoPShjP2M6XCJcIikrYS5uYW1lLGsoYSl9Y2F0Y2goYil7cC0tLGNvbnNvbGUuZXJyb3IoYil9fSxmdW5jdGlvbigpe3AtLX0pfXZhciBtPVtdLG49W10sbz1iLmRhdGFUcmFuc2Zlci5pdGVtcyxwPTA7aWYobyYmby5sZW5ndGg+MCYmXCJmaWxlXCIhPWoucHJvdG9jb2woKSlmb3IodmFyIHE9MDtxPG8ubGVuZ3RoO3ErKyl7aWYob1txXS53ZWJraXRHZXRBc0VudHJ5JiZvW3FdLndlYmtpdEdldEFzRW50cnkoKSYmb1txXS53ZWJraXRHZXRBc0VudHJ5KCkuaXNEaXJlY3Rvcnkpe3ZhciByPW9bcV0ud2Via2l0R2V0QXNFbnRyeSgpO2lmKHIuaXNEaXJlY3RvcnkmJiFlKWNvbnRpbnVlO251bGwhPXImJmwobSxyKX1lbHNle3ZhciBzPW9bcV0uZ2V0QXNGaWxlKCk7bnVsbCE9cyYmayhzKX1pZighZyYmbS5sZW5ndGg+MClicmVha31lbHNle3ZhciB0PWIuZGF0YVRyYW5zZmVyLmZpbGVzO2lmKG51bGwhPXQpZm9yKHZhciBxPTA7cTx0Lmxlbmd0aCYmKGsodC5pdGVtKHEpKSxnfHwhKG0ubGVuZ3RoPjApKTtxKyspO312YXIgdT0wOyFmdW5jdGlvbiB2KGEpe2koZnVuY3Rpb24oKXtpZihwKTEwKnUrKzwyZTQmJnYoMTApO2Vsc2V7aWYoIWcmJm0ubGVuZ3RoPjEpe2ZvcihxPTA7XCJkaXJlY3RvcnlcIj09bVtxXS50eXBlOylxKys7bT1bbVtxXV19ZChtLG4pfX0sYXx8MCl9KCl9dmFyIG09ZCgpO2lmKGMuZHJvcEF2YWlsYWJsZSYmaShmdW5jdGlvbigpe2FbYy5kcm9wQXZhaWxhYmxlXT9hW2MuZHJvcEF2YWlsYWJsZV0udmFsdWU9bTphW2MuZHJvcEF2YWlsYWJsZV09bX0pLCFtKXJldHVybiAxPT1oKGMubmdmSGlkZU9uRHJvcE5vdEF2YWlsYWJsZSkoYSkmJmIuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKSx2b2lkIDA7e3ZhciBuLG89bnVsbCxwPWgoYy5uZ2ZTdG9wUHJvcGFnYXRpb24pLHE9MTtoKGMubmdmQWNjZXB0KX1iWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLGZ1bmN0aW9uKGQpe2lmKCFiLmF0dHIoXCJkaXNhYmxlZFwiKSl7aWYoZC5wcmV2ZW50RGVmYXVsdCgpLHAoYSkmJmQuc3RvcFByb3BhZ2F0aW9uKCksbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQ2hyb21lXCIpPi0xKXt2YXIgZT1kLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkO2QuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9XCJtb3ZlXCI9PT1lfHxcImxpbmtNb3ZlXCI9PT1lP1wibW92ZVwiOlwiY29weVwifWkuY2FuY2VsKG8pLGEuYWN0dWFsRHJhZ092ZXJDbGFzc3x8KG49ayhhLGMsZCkpLGIuYWRkQ2xhc3Mobil9fSwhMSksYlswXS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VudGVyXCIsZnVuY3Rpb24oYyl7Yi5hdHRyKFwiZGlzYWJsZWRcIil8fChjLnByZXZlbnREZWZhdWx0KCkscChhKSYmYy5zdG9wUHJvcGFnYXRpb24oKSl9LCExKSxiWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnbGVhdmVcIixmdW5jdGlvbigpe2IuYXR0cihcImRpc2FibGVkXCIpfHwobz1pKGZ1bmN0aW9uKCl7Yi5yZW1vdmVDbGFzcyhuKSxuPW51bGx9LHF8fDEpKX0sITEpLGJbMF0uYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIixmdW5jdGlvbihkKXtiLmF0dHIoXCJkaXNhYmxlZFwiKXx8KGQucHJldmVudERlZmF1bHQoKSxwKGEpJiZkLnN0b3BQcm9wYWdhdGlvbigpLGIucmVtb3ZlQ2xhc3Mobiksbj1udWxsLGwoZCxmdW5jdGlvbihiLGYpe2UoaCxpLGEsZyxjLGMubmdmQ2hhbmdlfHxjLm5nZkRyb3AsYixmLGQpfSwwIT1oKGMubmdmQWxsb3dEaXIpKGEpLGMubXVsdGlwbGV8fGgoYy5uZ2ZNdWx0aXBsZSkoYSkpKX0sITEpfWZ1bmN0aW9uIGQoKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVyblwiZHJhZ2dhYmxlXCJpbiBhJiZcIm9uZHJvcFwiaW4gYX1mdW5jdGlvbiBlKGEsYixjLGQsZSxmLGcsaCxpLGope2Z1bmN0aW9uIGsoKXtkJiYoYShlLm5nTW9kZWwpLmFzc2lnbihjLGcpLGIoZnVuY3Rpb24oKXtkJiZkLiRzZXRWaWV3VmFsdWUobnVsbCE9ZyYmMD09Zy5sZW5ndGg/bnVsbDpnKX0pKSxlLm5nTW9kZWxSZWplY3RlZCYmYShlLm5nTW9kZWxSZWplY3RlZCkuYXNzaWduKGMsaCksZiYmYShmKShjLHskZmlsZXM6ZywkcmVqZWN0ZWRGaWxlczpoLCRldmVudDppfSl9aj9rKCk6YihmdW5jdGlvbigpe2soKX0pfWZ1bmN0aW9uIGYoYSxiLGMsZCxlKXt2YXIgZj1iKGMubmdmQWNjZXB0KShhLHskZmlsZTpkLCRldmVudDplfSksaD1iKGMubmdmTWF4U2l6ZSkoYSx7JGZpbGU6ZCwkZXZlbnQ6ZX0pfHw5MDA3MTk5MjU0NzQwOTkxLGk9YihjLm5nZk1pblNpemUpKGEseyRmaWxlOmQsJGV2ZW50OmV9KXx8LTE7aWYobnVsbCE9ZiYmYW5ndWxhci5pc1N0cmluZyhmKSl7dmFyIGo9bmV3IFJlZ0V4cChnKGYpLFwiZ2lcIik7Zj1udWxsIT1kLnR5cGUmJmoudGVzdChkLnR5cGUudG9Mb3dlckNhc2UoKSl8fG51bGwhPWQubmFtZSYmai50ZXN0KGQubmFtZS50b0xvd2VyQ2FzZSgpKX1yZXR1cm4obnVsbD09Znx8ZikmJihudWxsPT1kLnNpemV8fGQuc2l6ZTxoJiZkLnNpemU+aSl9ZnVuY3Rpb24gZyhhKXtpZihhLmxlbmd0aD4yJiZcIi9cIj09PWFbMF0mJlwiL1wiPT09YVthLmxlbmd0aC0xXSlyZXR1cm4gYS5zdWJzdHJpbmcoMSxhLmxlbmd0aC0xKTt2YXIgYj1hLnNwbGl0KFwiLFwiKSxjPVwiXCI7aWYoYi5sZW5ndGg+MSlmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyljKz1cIihcIitnKGJbZF0pK1wiKVwiLGQ8Yi5sZW5ndGgtMSYmKGMrPVwifFwiKTtlbHNlIDA9PWEuaW5kZXhPZihcIi5cIikmJihhPVwiKlwiK2EpLGM9XCJeXCIrYS5yZXBsYWNlKG5ldyBSZWdFeHAoXCJbLlxcXFxcXFxcKyo/XFxcXFtcXFxcXlxcXFxdJCgpe309ITw+fDpcXFxcLV1cIixcImdcIiksXCJcXFxcJCZcIikrXCIkXCIsYz1jLnJlcGxhY2UoL1xcXFxcXCovZyxcIi4qXCIpLnJlcGxhY2UoL1xcXFxcXD8vZyxcIi5cIik7cmV0dXJuIGN9dmFyIGg7d2luZG93LlhNTEh0dHBSZXF1ZXN0JiYhd2luZG93LlhNTEh0dHBSZXF1ZXN0Ll9faXNGaWxlQVBJU2hpbSYmYShcInNldFJlcXVlc3RIZWFkZXJcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtpZihcIl9fc2V0WEhSX1wiPT09Yil7dmFyIGQ9Yyh0aGlzKTtkIGluc3RhbmNlb2YgRnVuY3Rpb24mJmQodGhpcyl9ZWxzZSBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KTt2YXIgaT1hbmd1bGFyLm1vZHVsZShcIm5nRmlsZVVwbG9hZFwiLFtdKTtpLnZlcnNpb249XCI0LjIuMVwiLGkuc2VydmljZShcIlVwbG9hZFwiLFtcIiRodHRwXCIsXCIkcVwiLFwiJHRpbWVvdXRcIixmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChkKXtkLm1ldGhvZD1kLm1ldGhvZHx8XCJQT1NUXCIsZC5oZWFkZXJzPWQuaGVhZGVyc3x8e30sZC50cmFuc2Zvcm1SZXF1ZXN0PWQudHJhbnNmb3JtUmVxdWVzdHx8ZnVuY3Rpb24oYixjKXtyZXR1cm4gd2luZG93LkFycmF5QnVmZmVyJiZiIGluc3RhbmNlb2Ygd2luZG93LkFycmF5QnVmZmVyP2I6YS5kZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0WzBdKGIsYyl9O3ZhciBlPWIuZGVmZXIoKSxmPWUucHJvbWlzZTtyZXR1cm4gZC5oZWFkZXJzLl9fc2V0WEhSXz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXthJiYoZC5fX1hIUj1hLGQueGhyRm4mJmQueGhyRm4oYSksYS51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsZnVuY3Rpb24oYSl7YS5jb25maWc9ZCxlLm5vdGlmeT9lLm5vdGlmeShhKTpmLnByb2dyZXNzX2ZuJiZjKGZ1bmN0aW9uKCl7Zi5wcm9ncmVzc19mbihhKX0pfSwhMSksYS51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbihhKXthLmxlbmd0aENvbXB1dGFibGUmJihhLmNvbmZpZz1kLGUubm90aWZ5P2Uubm90aWZ5KGEpOmYucHJvZ3Jlc3NfZm4mJmMoZnVuY3Rpb24oKXtmLnByb2dyZXNzX2ZuKGEpfSkpfSwhMSkpfX0sYShkKS50aGVuKGZ1bmN0aW9uKGEpe2UucmVzb2x2ZShhKX0sZnVuY3Rpb24oYSl7ZS5yZWplY3QoYSl9LGZ1bmN0aW9uKGEpe2Uubm90aWZ5KGEpfSksZi5zdWNjZXNzPWZ1bmN0aW9uKGEpe3JldHVybiBmLnRoZW4oZnVuY3Rpb24oYil7YShiLmRhdGEsYi5zdGF0dXMsYi5oZWFkZXJzLGQpfSksZn0sZi5lcnJvcj1mdW5jdGlvbihhKXtyZXR1cm4gZi50aGVuKG51bGwsZnVuY3Rpb24oYil7YShiLmRhdGEsYi5zdGF0dXMsYi5oZWFkZXJzLGQpfSksZn0sZi5wcm9ncmVzcz1mdW5jdGlvbihhKXtyZXR1cm4gZi5wcm9ncmVzc19mbj1hLGYudGhlbihudWxsLG51bGwsZnVuY3Rpb24oYil7YShiKX0pLGZ9LGYuYWJvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gZC5fX1hIUiYmYyhmdW5jdGlvbigpe2QuX19YSFIuYWJvcnQoKX0pLGZ9LGYueGhyPWZ1bmN0aW9uKGEpe3JldHVybiBkLnhockZuPWZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbigpe2ImJmIuYXBwbHkoZixhcmd1bWVudHMpLGEuYXBwbHkoZixhcmd1bWVudHMpfX0oZC54aHJGbiksZn0sZn10aGlzLnVwbG9hZD1mdW5jdGlvbihhKXtyZXR1cm4gYS5oZWFkZXJzPWEuaGVhZGVyc3x8e30sYS5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdPXZvaWQgMCxhLnRyYW5zZm9ybVJlcXVlc3Q9YS50cmFuc2Zvcm1SZXF1ZXN0P2FuZ3VsYXIuaXNBcnJheShhLnRyYW5zZm9ybVJlcXVlc3QpP2EudHJhbnNmb3JtUmVxdWVzdDpbYS50cmFuc2Zvcm1SZXF1ZXN0XTpbXSxhLnRyYW5zZm9ybVJlcXVlc3QucHVzaChmdW5jdGlvbihiKXt2YXIgYz1uZXcgRm9ybURhdGEsZD17fTtmb3IoaCBpbiBhLmZpZWxkcylhLmZpZWxkcy5oYXNPd25Qcm9wZXJ0eShoKSYmKGRbaF09YS5maWVsZHNbaF0pO2lmKGImJihkLmRhdGE9YiksYS5mb3JtRGF0YUFwcGVuZGVyKWZvcihoIGluIGQpZC5oYXNPd25Qcm9wZXJ0eShoKSYmYS5mb3JtRGF0YUFwcGVuZGVyKGMsaCxkW2hdKTtlbHNlIGZvcihoIGluIGQpaWYoZC5oYXNPd25Qcm9wZXJ0eShoKSl7dmFyIGU9ZFtoXTt2b2lkIDAhPT1lJiYoYW5ndWxhci5pc0RhdGUoZSkmJihlPWUudG9JU09TdHJpbmcoKSksYW5ndWxhci5pc1N0cmluZyhlKT9jLmFwcGVuZChoLGUpOmEuc2VuZE9iamVjdHNBc0pzb25CbG9iJiZhbmd1bGFyLmlzT2JqZWN0KGUpP2MuYXBwZW5kKGgsbmV3IEJsb2IoW2VdLHt0eXBlOlwiYXBwbGljYXRpb24vanNvblwifSkpOmMuYXBwZW5kKGgsSlNPTi5zdHJpbmdpZnkoZSkpKX1pZihudWxsIT1hLmZpbGUpe3ZhciBmPWEuZmlsZUZvcm1EYXRhTmFtZXx8XCJmaWxlXCI7aWYoYW5ndWxhci5pc0FycmF5KGEuZmlsZSkpZm9yKHZhciBnPWFuZ3VsYXIuaXNTdHJpbmcoZiksaT0wO2k8YS5maWxlLmxlbmd0aDtpKyspYy5hcHBlbmQoZz9mOmZbaV0sYS5maWxlW2ldLGEuZmlsZU5hbWUmJmEuZmlsZU5hbWVbaV18fGEuZmlsZVtpXS5uYW1lKTtlbHNlIGMuYXBwZW5kKGYsYS5maWxlLGEuZmlsZU5hbWV8fGEuZmlsZS5uYW1lKX1yZXR1cm4gY30pLGQoYSl9LHRoaXMuaHR0cD1mdW5jdGlvbihhKXtyZXR1cm4gZChhKX19XSksaS5kaXJlY3RpdmUoXCJuZ2ZTZWxlY3RcIixbXCIkcGFyc2VcIixcIiR0aW1lb3V0XCIsXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEsYyxkKXtyZXR1cm57cmVzdHJpY3Q6XCJBRUNcIixyZXF1aXJlOlwiP25nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGUsZixnLGgpe2IoZSxmLGcsaCxhLGMsZCl9fX1dKSxpLmRpcmVjdGl2ZShcIm5nZkRyb3BcIixbXCIkcGFyc2VcIixcIiR0aW1lb3V0XCIsXCIkbG9jYXRpb25cIixmdW5jdGlvbihhLGIsZCl7cmV0dXJue3Jlc3RyaWN0OlwiQUVDXCIscmVxdWlyZTpcIj9uZ01vZGVsXCIsbGluazpmdW5jdGlvbihlLGYsZyxoKXtjKGUsZixnLGgsYSxiLGQpfX19XSksaS5kaXJlY3RpdmUoXCJuZ2ZOb0ZpbGVEcm9wXCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXtkKCkmJmIuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKX19KSxpLmRpcmVjdGl2ZShcIm5nZkRyb3BBdmFpbGFibGVcIixbXCIkcGFyc2VcIixcIiR0aW1lb3V0XCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYpe2lmKGQoKSl7dmFyIGc9YShmLm5nZkRyb3BBdmFpbGFibGUpO2IoZnVuY3Rpb24oKXtnKGMpLGcuYXNzaWduJiZnLmFzc2lnbihjLCEwKX0pfX19XSksaS5kaXJlY3RpdmUoXCJuZ2ZTcmNcIixbXCIkcGFyc2VcIixcIiR0aW1lb3V0XCIsZnVuY3Rpb24oYSxiKXtyZXR1cm57cmVzdHJpY3Q6XCJBRVwiLGxpbms6ZnVuY3Rpb24oYyxkLGUpe3dpbmRvdy5GaWxlUmVhZGVyJiZjLiR3YXRjaChlLm5nZlNyYyxmdW5jdGlvbihnKXtnJiZmKGMsYSxlLGcsbnVsbCkmJighd2luZG93LkZpbGVBUEl8fC0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRSA4XCIpfHxnLnNpemU8MmU0KSYmKCF3aW5kb3cuRmlsZUFQSXx8LTE9PT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFIDlcIil8fGcuc2l6ZTw0ZTYpP2IoZnVuY3Rpb24oKXt2YXIgYT1uZXcgRmlsZVJlYWRlcjthLnJlYWRBc0RhdGFVUkwoZyksYS5vbmxvYWQ9ZnVuY3Rpb24oYSl7YihmdW5jdGlvbigpe2QuYXR0cihcInNyY1wiLGEudGFyZ2V0LnJlc3VsdCl9KX19KTpkLmF0dHIoXCJzcmNcIixlLm5nZkRlZmF1bHRTcmN8fFwiXCIpfSl9fX1dKX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXt3aW5kb3cuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlW2FdPWIod2luZG93LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZVthXSl9ZnVuY3Rpb24gYihhLGIsYyl7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse2dldDpjfSl9Y2F0Y2goZCl7fX1mdW5jdGlvbiBjKGEpe3JldHVyblwiaW5wdXRcIj09PWFbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZhLmF0dHIoXCJ0eXBlXCIpJiZcImZpbGVcIj09PWEuYXR0cihcInR5cGVcIikudG9Mb3dlckNhc2UoKX12YXIgZD1mdW5jdGlvbigpe3RyeXt2YXIgYT1uZXcgQWN0aXZlWE9iamVjdChcIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoXCIpO2lmKGEpcmV0dXJuITB9Y2F0Y2goYil7aWYodm9pZCAwIT1uYXZpZ2F0b3IubWltZVR5cGVzW1wiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2hcIl0pcmV0dXJuITB9cmV0dXJuITF9O2lmKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCYmIXdpbmRvdy5Gb3JtRGF0YXx8d2luZG93LkZpbGVBUEkmJkZpbGVBUEkuZm9yY2VMb2FkKXt2YXIgZT1mdW5jdGlvbihhKXtpZighYS5fX2xpc3RlbmVycyl7YS51cGxvYWR8fChhLnVwbG9hZD17fSksYS5fX2xpc3RlbmVycz1bXTt2YXIgYj1hLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyO2EudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYyxkKXthLl9fbGlzdGVuZXJzW2NdPWQsYiYmYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX07YShcIm9wZW5cIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjLGQpe2UodGhpcyksdGhpcy5fX3VybD1jO3RyeXthLmFwcGx5KHRoaXMsW2IsYyxkXSl9Y2F0Y2goZil7Zi5tZXNzYWdlLmluZGV4T2YoXCJBY2Nlc3MgaXMgZGVuaWVkXCIpPi0xJiYodGhpcy5fX29yaWdFcnJvcj1mLGEuYXBwbHkodGhpcyxbYixcIl9maXhfZm9yX2llX2Nyb3NzZG9tYWluX19cIixkXSkpfX19KSxhKFwiZ2V0UmVzcG9uc2VIZWFkZXJcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuX19maWxlQXBpWEhSJiZ0aGlzLl9fZmlsZUFwaVhIUi5nZXRSZXNwb25zZUhlYWRlcj90aGlzLl9fZmlsZUFwaVhIUi5nZXRSZXNwb25zZUhlYWRlcihiKTpudWxsPT1hP251bGw6YS5hcHBseSh0aGlzLFtiXSl9fSksYShcImdldEFsbFJlc3BvbnNlSGVhZGVyc1wiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fZmlsZUFwaVhIUiYmdGhpcy5fX2ZpbGVBcGlYSFIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzP3RoaXMuX19maWxlQXBpWEhSLmdldEFsbFJlc3BvbnNlSGVhZGVycygpOm51bGw9PWE/bnVsbDphLmFwcGx5KHRoaXMpfX0pLGEoXCJhYm9ydFwiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fZmlsZUFwaVhIUiYmdGhpcy5fX2ZpbGVBcGlYSFIuYWJvcnQ/dGhpcy5fX2ZpbGVBcGlYSFIuYWJvcnQoKTpudWxsPT1hP251bGw6YS5hcHBseSh0aGlzKX19KSxhKFwic2V0UmVxdWVzdEhlYWRlclwiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe2lmKFwiX19zZXRYSFJfXCI9PT1iKXtlKHRoaXMpO3ZhciBkPWModGhpcyk7ZCBpbnN0YW5jZW9mIEZ1bmN0aW9uJiZkKHRoaXMpfWVsc2UgdGhpcy5fX3JlcXVlc3RIZWFkZXJzPXRoaXMuX19yZXF1ZXN0SGVhZGVyc3x8e30sdGhpcy5fX3JlcXVlc3RIZWFkZXJzW2JdPWMsYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSksYShcInNlbmRcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz10aGlzO2lmKGFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLl9faXNGaWxlQVBJU2hpbSl7dmFyIGU9YXJndW1lbnRzWzBdLGY9e3VybDpjLl9fdXJsLGpzb25wOiExLGNhY2hlOiEwLGNvbXBsZXRlOmZ1bmN0aW9uKGEsZCl7Yy5fX2NvbXBsZXRlZD0hMCwhYSYmYy5fX2xpc3RlbmVycy5sb2FkJiZjLl9fbGlzdGVuZXJzLmxvYWQoe3R5cGU6XCJsb2FkXCIsbG9hZGVkOmMuX19sb2FkZWQsdG90YWw6Yy5fX3RvdGFsLHRhcmdldDpjLGxlbmd0aENvbXB1dGFibGU6ITB9KSwhYSYmYy5fX2xpc3RlbmVycy5sb2FkZW5kJiZjLl9fbGlzdGVuZXJzLmxvYWRlbmQoe3R5cGU6XCJsb2FkZW5kXCIsbG9hZGVkOmMuX19sb2FkZWQsdG90YWw6Yy5fX3RvdGFsLHRhcmdldDpjLGxlbmd0aENvbXB1dGFibGU6ITB9KSxcImFib3J0XCI9PT1hJiZjLl9fbGlzdGVuZXJzLmFib3J0JiZjLl9fbGlzdGVuZXJzLmFib3J0KHt0eXBlOlwiYWJvcnRcIixsb2FkZWQ6Yy5fX2xvYWRlZCx0b3RhbDpjLl9fdG90YWwsdGFyZ2V0OmMsbGVuZ3RoQ29tcHV0YWJsZTohMH0pLHZvaWQgMCE9PWQuc3RhdHVzJiZiKGMsXCJzdGF0dXNcIixmdW5jdGlvbigpe3JldHVybiAwPT1kLnN0YXR1cyYmYSYmXCJhYm9ydFwiIT09YT81MDA6ZC5zdGF0dXN9KSx2b2lkIDAhPT1kLnN0YXR1c1RleHQmJmIoYyxcInN0YXR1c1RleHRcIixmdW5jdGlvbigpe3JldHVybiBkLnN0YXR1c1RleHR9KSxiKGMsXCJyZWFkeVN0YXRlXCIsZnVuY3Rpb24oKXtyZXR1cm4gNH0pLHZvaWQgMCE9PWQucmVzcG9uc2UmJmIoYyxcInJlc3BvbnNlXCIsZnVuY3Rpb24oKXtyZXR1cm4gZC5yZXNwb25zZX0pO3ZhciBlPWQucmVzcG9uc2VUZXh0fHwoYSYmMD09ZC5zdGF0dXMmJlwiYWJvcnRcIiE9PWE/YTp2b2lkIDApO2IoYyxcInJlc3BvbnNlVGV4dFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGV9KSxiKGMsXCJyZXNwb25zZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGV9KSxhJiZiKGMsXCJlcnJcIixmdW5jdGlvbigpe3JldHVybiBhfSksYy5fX2ZpbGVBcGlYSFI9ZCxjLm9ucmVhZHlzdGF0ZWNoYW5nZSYmYy5vbnJlYWR5c3RhdGVjaGFuZ2UoKSxjLm9ubG9hZCYmYy5vbmxvYWQoKX0scHJvZ3Jlc3M6ZnVuY3Rpb24oYSl7aWYoYS50YXJnZXQ9YyxjLl9fbGlzdGVuZXJzLnByb2dyZXNzJiZjLl9fbGlzdGVuZXJzLnByb2dyZXNzKGEpLGMuX190b3RhbD1hLnRvdGFsLGMuX19sb2FkZWQ9YS5sb2FkZWQsYS50b3RhbD09PWEubG9hZGVkKXt2YXIgYj10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLl9fY29tcGxldGVkfHwoYy5nZXRBbGxSZXNwb25zZUhlYWRlcnM9ZnVuY3Rpb24oKXt9LGIuY29tcGxldGUobnVsbCx7c3RhdHVzOjIwNCxzdGF0dXNUZXh0OlwiTm8gQ29udGVudFwifSkpfSxGaWxlQVBJLm5vQ29udGVudFRpbWVvdXR8fDFlNCl9fSxoZWFkZXJzOmMuX19yZXF1ZXN0SGVhZGVyc307Zi5kYXRhPXt9LGYuZmlsZXM9e307Zm9yKHZhciBnPTA7ZzxlLmRhdGEubGVuZ3RoO2crKyl7dmFyIGg9ZS5kYXRhW2ddO251bGwhPWgudmFsJiZudWxsIT1oLnZhbC5uYW1lJiZudWxsIT1oLnZhbC5zaXplJiZudWxsIT1oLnZhbC50eXBlP2YuZmlsZXNbaC5rZXldPWgudmFsOmYuZGF0YVtoLmtleV09aC52YWx9c2V0VGltZW91dChmdW5jdGlvbigpe2lmKCFkKCkpdGhyb3cnQWRvZGUgRmxhc2ggUGxheWVyIG5lZWQgdG8gYmUgaW5zdGFsbGVkLiBUbyBjaGVjayBhaGVhZCB1c2UgXCJGaWxlQVBJLmhhc0ZsYXNoXCInO2MuX19maWxlQXBpWEhSPUZpbGVBUEkudXBsb2FkKGYpfSwxKX1lbHNle2lmKHRoaXMuX19vcmlnRXJyb3IpdGhyb3cgdGhpcy5fX29yaWdFcnJvcjthLmFwcGx5KGMsYXJndW1lbnRzKX19fSksd2luZG93LlhNTEh0dHBSZXF1ZXN0Ll9faXNGaWxlQVBJU2hpbT0hMCx3aW5kb3cuRm9ybURhdGE9Rm9ybURhdGE9ZnVuY3Rpb24oKXtyZXR1cm57YXBwZW5kOmZ1bmN0aW9uKGEsYixjKXtiLl9faXNGaWxlQVBJQmxvYlNoaW0mJihiPWIuZGF0YVswXSksdGhpcy5kYXRhLnB1c2goe2tleTphLHZhbDpiLG5hbWU6Y30pfSxkYXRhOltdLF9faXNGaWxlQVBJU2hpbTohMH19LHdpbmRvdy5CbG9iPUJsb2I9ZnVuY3Rpb24oYSl7cmV0dXJue2RhdGE6YSxfX2lzRmlsZUFQSUJsb2JTaGltOiEwfX0sZnVuY3Rpb24oKXtpZih3aW5kb3cuRmlsZUFQSXx8KHdpbmRvdy5GaWxlQVBJPXt9KSxGaWxlQVBJLmZvcmNlTG9hZCYmKEZpbGVBUEkuaHRtbDU9ITEpLCFGaWxlQVBJLnVwbG9hZCl7dmFyIGEsYixjLGUsZixnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksaD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtpZih3aW5kb3cuRmlsZUFQSS5qc1VybClhPXdpbmRvdy5GaWxlQVBJLmpzVXJsO2Vsc2UgaWYod2luZG93LkZpbGVBUEkuanNQYXRoKWI9d2luZG93LkZpbGVBUEkuanNQYXRoO2Vsc2UgZm9yKGM9MDtjPGgubGVuZ3RoO2MrKylpZihmPWhbY10uc3JjLGU9Zi5zZWFyY2goL1xcL25nXFwtZmlsZVxcLXVwbG9hZFtcXC1hLXpBLXowLTlcXC5dKlxcLmpzLyksZT4tMSl7Yj1mLnN1YnN0cmluZygwLGUrMSk7YnJlYWt9bnVsbD09RmlsZUFQSS5zdGF0aWNQYXRoJiYoRmlsZUFQSS5zdGF0aWNQYXRoPWIpLGcuc2V0QXR0cmlidXRlKFwic3JjXCIsYXx8YitcIkZpbGVBUEkubWluLmpzXCIpLGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChnKSxGaWxlQVBJLmhhc0ZsYXNoPWQoKX19KCksRmlsZUFQSS5uZ2ZGaXhJRT1mdW5jdGlvbihhLGIsZSxmKXtpZighZCgpKXRocm93J0Fkb2RlIEZsYXNoIFBsYXllciBuZWVkIHRvIGJlIGluc3RhbGxlZC4gVG8gY2hlY2sgYWhlYWQgdXNlIFwiRmlsZUFQSS5oYXNGbGFzaFwiJzt2YXIgZz1mdW5jdGlvbigpe2Z1bmN0aW9uIGQoYSl7dmFyIGIsYztpZihiPWM9MCxhLm9mZnNldFBhcmVudClkbyBiKz1hLm9mZnNldExlZnQsYys9YS5vZmZzZXRUb3A7d2hpbGUoYT1hLm9mZnNldFBhcmVudCk7cmV0dXJue2xlZnQ6Yix0b3A6Y319aWYoYS5hdHRyKFwiZGlzYWJsZWRcIikpYS5fX25nZl9lbGVtX18ucmVtb3ZlQ2xhc3MoXCJqcy1maWxlYXBpLXdyYXBwZXJcIik7ZWxzZXt2YXIgaT1hLl9fbmdmX2VsZW1fXztpP2UoYS5fX25nZl9lbGVtX18pOihpPWEuX19uZ2ZfZWxlbV9fPWIoKSxpLmFkZENsYXNzKFwianMtZmlsZWFwaS13cmFwcGVyXCIpLCFjKGEpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLmJpbmQoXCJtb3VzZWVudGVyXCIsZyl9LDEwKSxpLmJpbmQoXCJjaGFuZ2VcIixmdW5jdGlvbihhKXtoLmFwcGx5KHRoaXMsW2FdKSxmLmFwcGx5KHRoaXMsW2FdKX0pKSxjKGEpfHxpLmNzcyhcInBvc2l0aW9uXCIsXCJhYnNvbHV0ZVwiKS5jc3MoXCJ0b3BcIixkKGFbMF0pLnRvcCtcInB4XCIpLmNzcyhcImxlZnRcIixkKGFbMF0pLmxlZnQrXCJweFwiKS5jc3MoXCJ3aWR0aFwiLGFbMF0ub2Zmc2V0V2lkdGgrXCJweFwiKS5jc3MoXCJoZWlnaHRcIixhWzBdLm9mZnNldEhlaWdodCtcInB4XCIpLmNzcyhcImZpbHRlclwiLFwiYWxwaGEob3BhY2l0eT0wKVwiKS5jc3MoXCJkaXNwbGF5XCIsYS5jc3MoXCJkaXNwbGF5XCIpKS5jc3MoXCJvdmVyZmxvd1wiLFwiaGlkZGVuXCIpLmNzcyhcInotaW5kZXhcIixcIjkwMDAwMFwiKS5jc3MoXCJ2aXNpYmlsaXR5XCIsXCJ2aXNpYmxlXCIpfX07YS5iaW5kKFwibW91c2VlbnRlclwiLGcpO3ZhciBoPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1GaWxlQVBJLmdldEZpbGVzKGEpLGM9MDtjPGIubGVuZ3RoO2MrKyl2b2lkIDA9PT1iW2NdLnNpemUmJihiW2NdLnNpemU9MCksdm9pZCAwPT09YltjXS5uYW1lJiYoYltjXS5uYW1lPVwiZmlsZVwiKSx2b2lkIDA9PT1iW2NdLnR5cGUmJihiW2NdLnR5cGU9XCJ1bmRlZmluZWRcIik7YS50YXJnZXR8fChhLnRhcmdldD17fSksYS50YXJnZXQuZmlsZXM9YixhLnRhcmdldC5maWxlcyE9YiYmKGEuX19maWxlc189YiksKGEuX19maWxlc198fGEudGFyZ2V0LmZpbGVzKS5pdGVtPWZ1bmN0aW9uKGIpe3JldHVybihhLl9fZmlsZXNffHxhLnRhcmdldC5maWxlcylbYl18fG51bGx9fX0sRmlsZUFQSS5kaXNhYmxlRmlsZUlucHV0PWZ1bmN0aW9uKGEsYil7Yj9hLnJlbW92ZUNsYXNzKFwianMtZmlsZWFwaS13cmFwcGVyXCIpOmEuYWRkQ2xhc3MoXCJqcy1maWxlYXBpLXdyYXBwZXJcIil9fXdpbmRvdy5GaWxlUmVhZGVyfHwod2luZG93LkZpbGVSZWFkZXI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9ITE7dGhpcy5saXN0ZW5lcnM9e30sdGhpcy5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGIsYyl7YS5saXN0ZW5lcnNbYl09YS5saXN0ZW5lcnNbYl18fFtdLGEubGlzdGVuZXJzW2JdLnB1c2goYyl9LHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihiLGMpe2EubGlzdGVuZXJzW2JdJiZhLmxpc3RlbmVyc1tiXS5zcGxpY2UoYS5saXN0ZW5lcnNbYl0uaW5kZXhPZihjKSwxKX0sdGhpcy5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGIpe3ZhciBjPWEubGlzdGVuZXJzW2IudHlwZV07aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyljW2RdLmNhbGwoYSxiKX0sdGhpcy5vbmFib3J0PXRoaXMub25lcnJvcj10aGlzLm9ubG9hZD10aGlzLm9ubG9hZHN0YXJ0PXRoaXMub25sb2FkZW5kPXRoaXMub25wcm9ncmVzcz1udWxsO3ZhciBjPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9e3R5cGU6Yix0YXJnZXQ6YSxsb2FkZWQ6Yy5sb2FkZWQsdG90YWw6Yy50b3RhbCxlcnJvcjpjLmVycm9yfTtyZXR1cm4gbnVsbCE9Yy5yZXN1bHQmJihkLnRhcmdldC5yZXN1bHQ9Yy5yZXN1bHQpLGR9LGQ9ZnVuY3Rpb24oZCl7aWYoYnx8KGI9ITAsYS5vbmxvYWRzdGFydCYmYS5vbmxvYWRzdGFydChjKFwibG9hZHN0YXJ0XCIsZCkpKSxcImxvYWRcIj09PWQudHlwZSl7YS5vbmxvYWRlbmQmJmEub25sb2FkZW5kKGMoXCJsb2FkZW5kXCIsZCkpO3ZhciBlPWMoXCJsb2FkXCIsZCk7YS5vbmxvYWQmJmEub25sb2FkKGUpLGEuZGlzcGF0Y2hFdmVudChlKX1lbHNlIGlmKFwicHJvZ3Jlc3NcIj09PWQudHlwZSl7dmFyIGU9YyhcInByb2dyZXNzXCIsZCk7YS5vbnByb2dyZXNzJiZhLm9ucHJvZ3Jlc3MoZSksYS5kaXNwYXRjaEV2ZW50KGUpfWVsc2V7dmFyIGU9YyhcImVycm9yXCIsZCk7YS5vbmVycm9yJiZhLm9uZXJyb3IoZSksYS5kaXNwYXRjaEV2ZW50KGUpfX07dGhpcy5yZWFkQXNBcnJheUJ1ZmZlcj1mdW5jdGlvbihhKXtGaWxlQVBJLnJlYWRBc0JpbmFyeVN0cmluZyhhLGQpfSx0aGlzLnJlYWRBc0JpbmFyeVN0cmluZz1mdW5jdGlvbihhKXtGaWxlQVBJLnJlYWRBc0JpbmFyeVN0cmluZyhhLGQpfSx0aGlzLnJlYWRBc0RhdGFVUkw9ZnVuY3Rpb24oYSl7RmlsZUFQSS5yZWFkQXNEYXRhVVJMKGEsZCl9LHRoaXMucmVhZEFzVGV4dD1mdW5jdGlvbihhKXtGaWxlQVBJLnJlYWRBc1RleHQoYSxkKX19KX0oKTsiLCIvKiEgbmctaW1ndXIgYnkgQWRhbSBUaW1iZXJsYWtlIDxhZGFtLnRpbWJlcmxha2VAZ21haWwuY29tPiBjcmVhdGVkIG9uIDIwMTUtMDItMjIgKi9cbiFmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjt2YXIgYj1hLm1vZHVsZShcIm5nSW1ndXJcIixbXSk7Yi5jb25zdGFudChcImltZ3VyT3B0aW9uc1wiLHtVUExPQURfVVJMOlwiaHR0cHM6Ly9hcGkuaW1ndXIuY29tLzMvaW1hZ2VcIixVUExPQURfTUVUSE9EOlwiUE9TVFwiLEFQSV9LRVk6XCJcIn0pLGIuc2VydmljZShcImltZ3VyXCIsW1wiJHdpbmRvd1wiLFwiJGh0dHBcIixcIiRxXCIsXCJpbWd1ck9wdGlvbnNcIixmdW5jdGlvbihiLGMsZCxlKXt2YXIgZj17fTtyZXR1cm4gZi5zZXRBUElLZXk9ZnVuY3Rpb24oYSl7ZS5BUElfS0VZPWF9LGYudXBsb2FkPWZ1bmN0aW9uKGIpe2lmKCFlLkFQSV9LRVkpdGhyb3dcIm5nSW1ndXI6IFlvdSBtdXN0IGRlZmluZSB5b3VyIEFQSSBrZXkgaW4gYGltZ3VyT3B0aW9ucy5BUElfS0VZYC5cIjtpZighYS5pc0FycmF5KGIpKXJldHVybiB0aGlzLnNlbmQoYik7dmFyIGM9ZC5kZWZlcigpLGc9W107cmV0dXJuIGEuZm9yRWFjaChiLGZ1bmN0aW9uKGEpe2cucHVzaChmLnNlbmQoYSkpfSksZC5hbGwoZykudGhlbihmdW5jdGlvbihhKXtjLnJlc29sdmUoYSl9KSxjLnByb21pc2V9LGYuc2VuZD1mdW5jdGlvbihhKXt2YXIgZj1uZXcgYi5GaWxlUmVhZGVyLGc9ZC5kZWZlcigpO3JldHVybiBmLm9ubG9hZD1mdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldC5yZXN1bHQuc3BsaXQoXCIsXCIpWzFdLGQ9e0F1dGhvcml6YXRpb246ZS5BUElfS0VZfSxmPXtpbWFnZTpifSxoPWMoe3VybDplLlVQTE9BRF9VUkwsbWV0aG9kOmUuVVBMT0FEX01FVEhPRCxoZWFkZXJzOmQsZGF0YTpmfSk7aC50aGVuKGZ1bmN0aW9uKGEpe2cucmVzb2x2ZShhLmRhdGEuZGF0YSl9KSxoLmVycm9yKGZ1bmN0aW9uKCl7Zy5yZWplY3QoKX0pfSxmLnJlYWRBc0RhdGFVUkwoYSksZy5wcm9taXNlfSxmfV0pfSh3aW5kb3cuYW5ndWxhcik7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9